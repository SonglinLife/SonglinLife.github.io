{
    "version": "https://jsonfeed.org/version/1",
    "title": "Life",
    "subtitle": null,
    "icon": "https://songlinlife.top/images/favicon.ico",
    "description": "Life is not about lifestyle, it means Lithium and Ferrum.",
    "home_page_url": "https://songlinlife.top",
    "items": [
        {
            "id": "https://songlinlife.top/2022/LeetCode/22-1-13%E5%88%B7%E9%A2%98/",
            "url": "https://songlinlife.top/2022/LeetCode/22-1-13%E5%88%B7%E9%A2%98/",
            "title": "22-1-13åˆ·é¢˜",
            "date_published": "2022-01-13T03:10:12.000Z",
            "content_html": "<h3 id=\"array\"><a class=\"anchor\" href=\"#array\">#</a> Array</h3>\n<h4 id=\"no1-ä¸¤æ•°ä¹‹å’Œ\"><a class=\"anchor\" href=\"#no1-ä¸¤æ•°ä¹‹å’Œ\">#</a> No.1 ä¸¤æ•°ä¹‹å’Œ</h4>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span>nums <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> target <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tm <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">for</span> i<span class=\"token operator\">:=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\tx <span class=\"token operator\">:=</span> target <span class=\"token operator\">-</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> ok<span class=\"token operator\">:=</span> m<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>ok<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">&#123;</span>m<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\tm<span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿™é“é¢˜ä¸»è¦æ˜¯ä½¿ç”¨äº† map æ¥åšäº†ç»“æœä¿å­˜ï¼Œå› ä¸º map çš„æŸ¥è¯¢å¤æ‚åº¦å¯ä»¥è¿‘ä¼¼ä¸º O (1)ï¼Œæ‰€ä»¥è¿™é“é¢˜çš„æ—¶é—´å¤æ‚åº¦ä¸º O (n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O (n)ã€‚</p>\n<p>æ€»ç»“ï¼šç”¨ <code>map</code>  æ¥ä¿å­˜ä¹‹å‰ç»“æœï¼Œå¹¶ä¸”ä¼˜åŒ–æŸ¥è¯¢çš„å¤æ‚åº¦ã€‚</p>\n<h4 id=\"no2-äºŒåˆ†æœç´¢\"><a class=\"anchor\" href=\"#no2-äºŒåˆ†æœç´¢\">#</a> No.2 äºŒåˆ†æœç´¢</h4>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// äºŒåˆ†æŸ¥æ‰¾éé€’å½’å®ç°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">binarySearch</span><span class=\"token punctuation\">(</span>target <span class=\"token builtin\">int64</span><span class=\"token punctuation\">,</span> nums <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   left <span class=\"token operator\">:=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>   right <span class=\"token operator\">:=</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   <span class=\"token keyword\">for</span> left <span class=\"token operator\">&lt;=</span> right <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      mid <span class=\"token operator\">:=</span> left <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>right <span class=\"token operator\">-</span> left<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">if</span> target <span class=\"token operator\">==</span> nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>         <span class=\"token keyword\">return</span> mid</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">if</span> target <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         left <span class=\"token operator\">=</span> mid <span class=\"token operator\">+</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>         <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token keyword\">if</span> target <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>         right <span class=\"token operator\">=</span> mid <span class=\"token operator\">-</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>         <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¥‡å¶æ€§é€šè¿‡æŒ‰ä½ä¸æ¥åˆ¤æ–­</p>\n<p><code>a &amp; 1 == 1</code> : åˆ¤æ–­æ˜¯å¦æ˜¯å¥‡æ•°</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">findMedianSortedArrays</span><span class=\"token punctuation\">(</span>nums1 <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> nums2 <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">float64</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>nums1<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>nums2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">findMedianSortedArrays</span><span class=\"token punctuation\">(</span>nums2<span class=\"token punctuation\">,</span> nums1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    m<span class=\"token punctuation\">,</span> n <span class=\"token operator\">:=</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>nums1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>nums2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    left<span class=\"token punctuation\">,</span> right <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> m</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    median1<span class=\"token punctuation\">,</span> median2 <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">for</span> left <span class=\"token operator\">&lt;=</span> right <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        i <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span>left <span class=\"token operator\">+</span> right<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        j <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span>m <span class=\"token operator\">+</span> n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> i</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        nums_im1 <span class=\"token operator\">:=</span> math<span class=\"token punctuation\">.</span>MinInt32</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">if</span> i <span class=\"token operator\">!=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            nums_im1 <span class=\"token operator\">=</span> nums1<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        nums_i <span class=\"token operator\">:=</span> math<span class=\"token punctuation\">.</span>MaxInt32</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">if</span> i <span class=\"token operator\">!=</span> m <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            nums_i <span class=\"token operator\">=</span> nums1<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        nums_jm1 <span class=\"token operator\">:=</span> math<span class=\"token punctuation\">.</span>MinInt32</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">if</span> j <span class=\"token operator\">!=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            nums_jm1 <span class=\"token operator\">=</span> nums2<span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        nums_j <span class=\"token operator\">:=</span> math<span class=\"token punctuation\">.</span>MaxInt32</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">if</span> j <span class=\"token operator\">!=</span> n <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            nums_j <span class=\"token operator\">=</span> nums2<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">if</span> nums_im1 <span class=\"token operator\">&lt;=</span> nums_j <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            median1 <span class=\"token operator\">=</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>nums_im1<span class=\"token punctuation\">,</span> nums_jm1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            median2 <span class=\"token operator\">=</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>nums_i<span class=\"token punctuation\">,</span> nums_j<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            left <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            right <span class=\"token operator\">=</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m <span class=\"token operator\">+</span> n<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>median1 <span class=\"token operator\">+</span> median2<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2.0</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">return</span>  <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>median1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">if</span> x <span class=\"token operator\">></span> y <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token keyword\">return</span> x</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">return</span> y</pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">if</span> x <span class=\"token operator\">&lt;</span> y <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">return</span> x</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">return</span> y</pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿™é“é¢˜è¦æ±‚ç»™å‡ºä¸¤ä¸ªä»¥åŠæœ‰åºçš„æ•°ç»„ï¼Œæ±‚è¿™ä¸¤ä¸ªæ•°ç»„åˆå¹¶åçš„ä¸­ä½æ•°ã€‚</p>\n<p>æ€è·¯ï¼Œä¸­ä½æ•°å®é™…ä¸Šèµ·åˆ°çš„å°±æ˜¯åˆ’åˆ†ä½œç”¨ï¼Œé‚£æˆ‘åªè¦è¯´æ‰¾åˆ°è¿™ä¹ˆä¸€ä¸ªåˆ’åˆ†æ–¹æ³•å°±è¡Œäº†ï¼Œæˆ‘çœ‹äº†åŠå¤©æ‰çœ‹æ‡‚ï¼Œå“ï¼Œå¥½ä¹…æ²¡å†™ç®—æ³•é¢˜äº†ã€‚ã€‚ã€‚</p>\n<pre><code>          left_part          |         right_part\n    A[0], A[1], ..., A[i-1]  |  A[i], A[i+1], ..., A[m-1]\n    B[0], B[1], ..., B[j-1]  |  B[j], B[j+1], ..., B[n-1]\n\n</code></pre>\n<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWVkaWFuLW9mLXR3by1zb3J0ZWQtYXJyYXlzL3NvbHV0aW9uL3h1bi16aGFvLWxpYW5nLWdlLXlvdS14dS1zaHUtenUtZGUtemhvbmctd2VpLXMtMTE0Lw==\">https://leetcode-cn.com/problems/median-of-two-sorted-arrays/solution/xun-zhao-liang-ge-you-xu-shu-zu-de-zhong-wei-s-114/</span></p>\n",
            "tags": [
                "LeetCode"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/%E5%BC%80%E5%A7%8BLeetCode%E5%88%B7%E9%A2%98/",
            "url": "https://songlinlife.top/2022/%E5%BC%80%E5%A7%8BLeetCode%E5%88%B7%E9%A2%98/",
            "title": "å¼€å§‹LeetCodeåˆ·é¢˜",
            "date_published": "2022-01-13T01:56:19.000Z",
            "content_html": "<p>ç”Ÿæ´»æ‰€è¿«ï¼Œæ²¡åŠæ³•ï¼Œéœ€è¦å¼€å§‹åˆ· LeetCode å‡†å¤‡é¢è¯•äº†ï¼ŒğŸ˜¢ ã€‚æˆ‘çš„äººç”Ÿä¸ºä»€ä¹ˆè¿™ä¹ˆå¯æ‚²ï¼Œå‘œå‘œå‘œå‘œã€‚</p>\n<p>è¯­è¨€ï¼š <code>golang</code></p>\n<p>startï¼</p>\n",
            "tags": [
                "LeetCode"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/",
            "url": "https://songlinlife.top/2022/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/",
            "title": "goè¯­è¨€åŸºç¡€",
            "date_published": "2022-01-12T04:35:15.000Z",
            "content_html": "<h3 id=\"goè¯­è¨€å­¦ä¹ \"><a class=\"anchor\" href=\"#goè¯­è¨€å­¦ä¹ \">#</a> go è¯­è¨€å­¦ä¹ </h3>\n<p>go çš„åˆå§‹åŒ–æ–¹å¼ï¼Œè¦ä¹ˆç”¨</p>\n<p><code>a :=</code>  or  <code>var a = </code></p>\n<h4 id=\"åˆ‡ç‰‡\"><a class=\"anchor\" href=\"#åˆ‡ç‰‡\">#</a> åˆ‡ç‰‡</h4>\n<p>æ³¨æ„åˆ‡ç‰‡</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>b <span class=\"token operator\">:=</span> a<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>b<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>ç»“æœï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220112151117086.png\" alt=\"image-20220112151117086\" /></p>\n<p>æ‹¥æœ‰ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ‡ç‰‡å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> s2 <span class=\"token operator\">=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s2: %v\\n\"</span><span class=\"token punctuation\">,</span> s2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>s2 <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>s2<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s2: %v\\n\"</span><span class=\"token punctuation\">,</span> s2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>s2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>å³ä½¿ç”¨ make æŒ‡å®šäº†åˆ‡ç‰‡çš„å¤§å°ï¼Œå®ƒä¹Ÿå¯ä»¥æ‰©å®¹ã€‚</p>\n<p>è¦ä»åˆ‡ç‰‡ a ä¸­åˆ é™¤ç´¢å¼•ä¸º <code>index</code>  çš„å…ƒç´ ï¼Œæ“ä½œæ–¹æ³•æ˜¯ <code>a = append(a[:index], a[index+1:]...)</code></p>\n<p>ç”¨  <code>copy</code>  ä½œä¸ºåˆ‡ç‰‡çš„æ‹·è´ï¼Œå¦‚æœç›´æ¥ç”¨  <code>=</code>  åˆ™æ˜¯å¼•ç”¨ã€‚</p>\n<h4 id=\"map\"><a class=\"anchor\" href=\"#map\">#</a> Map</h4>\n<p>åˆå§‹åŒ–ï¼š</p>\n<p><code>aMap := make(map[keyType]valueType, cap)</code></p>\n<p><code>cap</code>  åªæ˜¯é¢„è®¾çš„å¤§å°ï¼Œmao æ˜¯å¯ä»¥åŠ¨æ€å¢é•¿çš„ï¼Œè¿™å’Œ C è¯­è¨€å¾ˆç±»ä¼¼ã€‚</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>aMap <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>tmp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>aMap<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>tmp</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aMap: %v\\n\"</span><span class=\"token punctuation\">,</span> aMap<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>tmp01 <span class=\"token operator\">:=</span> <span class=\"token operator\">*</span>aMap<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span> v <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> tmp01<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>aMap := make (map [int]*[] int) : è®¾ç½® map çš„å€¼ç±»å‹ä¸ºåˆ‡ç‰‡æŒ‡é’ˆ</p>\n<p>aMap := make (map [int][] int): è®¾ç½® map çš„å€¼ç±»å‹ä¸ºåˆ‡ç‰‡</p>\n<h5 id=\"åˆ¤æ–­æ˜¯å¦æœ‰é”®\"><a class=\"anchor\" href=\"#åˆ¤æ–­æ˜¯å¦æœ‰é”®\">#</a> åˆ¤æ–­æ˜¯å¦æœ‰é”®</h5>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>t<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> my<span class=\"token punctuation\">[</span><span class=\"token string\">\"address\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> ok<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"t: %v\\n\"</span><span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><code>t, ok := my[&quot;address&quot;]</code></p>\n<p>ç”¨è¿™ä¸ªæ–¹å¼</p>\n<h4 id=\"é—­åŒ…\"><a class=\"anchor\" href=\"#é—­åŒ…\">#</a> é—­åŒ…</h4>\n<p>é—­åŒ…å°±æ˜¯å‡½æ•°åŠ å¼•ç”¨ç¯å¢ƒã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220112172405621.png\" alt=\"image-20220112172405621\" /></p>\n<p>add å‡½æ•°è¿”å›çš„å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯è¿™ä¸ªè¿”å›çš„å‡½æ•°ä¼šå¼•ç”¨å¤–éƒ¨çš„å˜é‡ xã€‚</p>\n<p>ä¹Ÿå°±æ˜¯è¯´ <code>f</code>  åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œx ä¼šä¸€ç›´å­˜åœ¨ã€‚</p>\n<p>è¾“å‡ºï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220112172511760.png\" alt=\"image-20220112172511760\" /></p>\n<p>é—­åŒ…å…¶å®å¹¶ä¸å¤æ‚ï¼Œåªè¦ç‰¢è®° <code>é—­åŒ…=å‡½æ•°+å¼•ç”¨ç¯å¢ƒ</code> ã€‚</p>\n<h4 id=\"é€’å½’\"><a class=\"anchor\" href=\"#é€’å½’\">#</a> é€’å½’</h4>\n<p>å°¾é€’å½’æ±‚è§£æ–æ³¢æ‹‰åˆ‡æ•°åˆ—</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> main</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">fab</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">,</span> n1<span class=\"token punctuation\">,</span> n2 <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">if</span> n <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> n1</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token function\">fab</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n1<span class=\"token operator\">+</span>n2<span class=\"token punctuation\">,</span> n1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token function\">fab</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"init\"><a class=\"anchor\" href=\"#init\">#</a> Init</h4>\n<p>go ä¸­æœ‰ç‰¹æ®Šçš„å‡½æ•°ï¼š <code>init</code>  å‡½æ•°ï¼Œå®ƒä¼šåœ¨æ‰§è¡Œ <code>main</code>  å‡½æ•°ä¹‹å‰è‡ªåŠ¨æ‰§è¡Œã€‚</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token function\">fab</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"init.....\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ç»“æœï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220112174831802.png\" alt=\"image-20220112174831802\" /></p>\n<p>ä¼šå…ˆäº main å‡½æ•°è‡ªåŠ¨æ‰§è¡Œï¼Œå¹¶ä¸”ä¸€ä¸ªæºæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ª init å‡½æ•°ã€‚</p>\n<h4 id=\"ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«å\"><a class=\"anchor\" href=\"#ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«å\">#</a> ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«å</h4>\n<p>ç±»å‹å®šä¹‰ï¼š</p>\n<p><code>type NewType Type</code></p>\n<p>ç±»å‹åˆ«åï¼š</p>\n<p><code>type NewType = Type</code></p>\n<h4 id=\"ç»“æ„ä½“\"><a class=\"anchor\" href=\"#ç»“æ„ä½“\">#</a> ç»“æ„ä½“</h4>\n<p><code>æœªåˆå§‹åŒ–çš„ç»“æ„ä½“ï¼Œæˆå‘˜éƒ½æ˜¯é›¶å€¼ int 0 float 0.0 bool false string nil nil</code></p>\n<p>åˆå§‹åŒ–æ–¹å¼æœ‰åˆ—è¡¨åˆå§‹åŒ–å’Œéƒ¨åˆ†åˆå§‹åŒ–ï¼Œå¯ä»¥çœ‹ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kdW9rZTM2MC5jb20vdHV0b3JpYWwvZ29sYW5nL3N0cnVjdC1pbml0\">golang ç»“æ„ä½“çš„åˆå§‹åŒ–</span></p>\n<p><code>struct</code>  å¯ä»¥ç”¨ <code>new</code>  æ¥åˆå§‹åŒ–ï¼š</p>\n<p><code>pb := new(Book)</code></p>\n<p><code>pb</code>  æ˜¯å®ä¾‹åŒ–çš„ Book ç»“æ„ã€‚</p>\n<h4 id=\"æ¥å£\"><a class=\"anchor\" href=\"#æ¥å£\">#</a> æ¥å£</h4>\n<p>è¿™ä¸ªæ¥å£æœ‰ç‚¹æã€‚ã€‚ã€‚</p>\n<p>é¦–å…ˆï¼Œæ¥å£å®šä¹‰ï¼š</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">type</span> Shape <span class=\"token keyword\">interface</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">float32</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ¥å£ä¸­å®šä¹‰æ–¹æ³•ç±»å‹ã€‚</p>\n<p>ç»“æ„ä½“éœ€è¦å®ç°æ¥å£</p>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">type</span> Square <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tsideLen <span class=\"token builtin\">float32</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">type</span> Triangle <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\tBottom <span class=\"token builtin\">float32</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\tHeight <span class=\"token builtin\">float32</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">type</span> Shape <span class=\"token keyword\">interface</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">float32</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s Square<span class=\"token punctuation\">)</span> <span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">float32</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>sideLen <span class=\"token operator\">*</span> s<span class=\"token punctuation\">.</span>sideLen</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>t Triangle<span class=\"token punctuation\">)</span> <span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">float32</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token keyword\">return</span> t<span class=\"token punctuation\">.</span>Bottom<span class=\"token operator\">*</span>t<span class=\"token punctuation\">.</span>Height<span class=\"token operator\">/</span><span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é’ˆå¯¹æ­£æ–¹å½¢å’Œä¸‰è§’å½¢åˆ†åˆ«å®ç°äº† Area å‡½æ•°ã€‚</p>\n<h5 id=\"æ¥å£çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#æ¥å£çš„ä½¿ç”¨\">#</a> æ¥å£çš„ä½¿ç”¨ï¼š</h5>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>t <span class=\"token operator\">:=</span> Triangle<span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>s <span class=\"token operator\">:=</span> Square<span class=\"token punctuation\">&#123;</span><span class=\"token number\">4</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>shapes <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>Shape<span class=\"token punctuation\">&#123;</span>t<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> shape<span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> shapes<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shape.Area(): %v\\n\"</span><span class=\"token punctuation\">,</span> shape<span class=\"token punctuation\">.</span><span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">var</span> sh Shape</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>sh <span class=\"token operator\">=</span> t</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sh.Area(): %v\\n\"</span><span class=\"token punctuation\">,</span> sh<span class=\"token punctuation\">.</span><span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>sh <span class=\"token operator\">=</span> s</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sh.Area(): %v\\n\"</span><span class=\"token punctuation\">,</span> sh<span class=\"token punctuation\">.</span><span class=\"token function\">Area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨ç»“æ„ä½“çš„æŒ‡é’ˆæ¥å¯¹æ¥å£è¿›è¡Œèµ‹å€¼ã€‚</p>\n<h5 id=\"åµŒå¥—æ¥å£\"><a class=\"anchor\" href=\"#åµŒå¥—æ¥å£\">#</a> åµŒå¥—æ¥å£</h5>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> main</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">type</span> Fly <span class=\"token keyword\">interface</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">fly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">type</span> Swim <span class=\"token keyword\">interface</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function\">swim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">type</span> FlyFish <span class=\"token keyword\">interface</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tFly</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tSwim</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">type</span> fish <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>f fish<span class=\"token punctuation\">)</span> <span class=\"token function\">fly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"flying\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>f fish<span class=\"token punctuation\">)</span> <span class=\"token function\">swim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"swimming\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token keyword\">var</span> flyfish FlyFish</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\tflyfish <span class=\"token operator\">=</span> fish<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\tflyfish<span class=\"token punctuation\">.</span><span class=\"token function\">fly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\tflyfish<span class=\"token punctuation\">.</span><span class=\"token function\">swim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><code>FlyFish</code>  æ˜¯ä¸€ä¸ªåµŒå¥—æ¥å£ï¼Œå®ƒå®ç°äº† Fly å’Œ Swim ä¸¤ä¸ªæ¥å£ï¼Œä½†å®é™…ä¸Šåªè¦æŠŠåµŒå¥—æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•éƒ½å®ç°å°±å¯ä»¥äº†ã€‚</p>\n<h4 id=\"ç»§æ‰¿\"><a class=\"anchor\" href=\"#ç»§æ‰¿\">#</a> ç»§æ‰¿</h4>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> main</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">type</span> Animal <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\tname <span class=\"token builtin\">string</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\tage  <span class=\"token builtin\">int</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>animal Animal<span class=\"token punctuation\">)</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"eat...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>animal Animal<span class=\"token punctuation\">)</span> <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sleep...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">type</span> Dog <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\tAnimal</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\tcolor <span class=\"token builtin\">string</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">type</span> Cat <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\tAnimal</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\tcolor <span class=\"token builtin\">string</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\tdog <span class=\"token operator\">:=</span> Dog<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tAnimal<span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"huahua\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\tdog<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\tdog<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\tcat <span class=\"token operator\">:=</span> Cat<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\tAnimal<span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"yuanyuan\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\t<span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\tcat<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\tcat<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"åå°„\"><a class=\"anchor\" href=\"#åå°„\">#</a> åå°„</h4>\n<figure class=\"highlight go\"><figcaption data-lang=\"go\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> main</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token string\">\"fmt\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token string\">\"reflect\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token comment\">// utils.Test()</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">type</span> MyInt <span class=\"token builtin\">int</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token keyword\">var</span> x MyInt <span class=\"token operator\">=</span> <span class=\"token number\">6</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tz <span class=\"token operator\">:=</span> reflect<span class=\"token punctuation\">.</span><span class=\"token function\">TypeOf</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tv <span class=\"token operator\">:=</span> reflect<span class=\"token punctuation\">.</span><span class=\"token function\">ValueOf</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token comment\">// fmt.Printf(\"%v\", z)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">.</span><span class=\"token function\">Kind</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">.</span><span class=\"token function\">Kind</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t<span class=\"token keyword\">var</span> a <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\tt <span class=\"token operator\">:=</span> <span class=\"token string\">\"hello\"</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\ta <span class=\"token operator\">=</span> t</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\tvalue<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> a<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token keyword\">if</span> ok<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"can convert\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cant do convert\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\tva<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> a<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">float32</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token keyword\">if</span> ok<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>va<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not float32\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "Go",
                "go"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/vim/Vscode%20+%20Vim/",
            "url": "https://songlinlife.top/2022/vim/Vscode%20+%20Vim/",
            "title": "Vscode+vim",
            "date_published": "2022-01-12T04:35:15.000Z",
            "content_html": "<h1 id=\"vscode-vim\"><a class=\"anchor\" href=\"#vscode-vim\">#</a> Vscode + Vim</h1>\n<h3 id=\"å¿«æ·é”®insert\"><a class=\"anchor\" href=\"#å¿«æ·é”®insert\">#</a> å¿«æ·é”® insert</h3>\n<p><code>fn + -&gt;</code>  : è·³è½¬è¡Œæœ«</p>\n<p><code>c-tab</code> : åˆ‡æ¢æ ‡ç­¾</p>\n<p><code>c-\\</code> : å¼€åˆ†é¡µ</p>\n<p><code>c-f4</code> : å…³é—­æ ‡ç­¾</p>\n<p><code>c-1</code> : åˆ‡æ¢ä¸º 1 ç»„ï¼Œæˆ–èšç„¦ç¼–è¾‘å™¨</p>\n<p><code>c +</code>  `: èšç„¦ç»ˆç«¯</p>\n<p><code>a-s-a</code> : å…³é—­å³ä¾§ bar</p>\n<p><code>c-s-a</code> : å¿«é€Ÿä¿®å¤</p>\n<p><code>a-s-e</code> : å¼€å¯èµ„æºç®¡ç†å™¨</p>\n<p><code>c-s-f</code> : å…¨å±€æœç´¢</p>\n<p><code>c-a-=</code> : å…¨éƒ¨å±•å¼€</p>\n<p><code>c-a-0</code> : å…¨éƒ¨æŠ˜å </p>\n<p><code>c-s-[</code> : æŠ˜å å½“å‰ä»£ç æ®µ</p>\n<p><code>c-s-]</code> ï¼šå±•å¼€å½“å‰ä»£ç æ®µ</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220111174047851.png\" alt=\"image-20220111174047851\" /></p>\n<h3 id=\"vimå¿«æ·é”®\"><a class=\"anchor\" href=\"#vimå¿«æ·é”®\">#</a> vim å¿«æ·é”®</h3>\n<h4 id=\"normal\"><a class=\"anchor\" href=\"#normal\">#</a> normal</h4>\n<p><code>0</code> ï¼š ç›´æ¥åˆ°å¼€å¤´</p>\n<p><code>o</code> : æ’å…¥æ–°çš„ä¸€è¡Œ</p>\n<p><code>c-]</code> : å‡½æ•°è·³è½¬</p>\n<p><code>c-t</code> : è·³è½¬è¿”å›</p>\n<p><code>c-A</code> : è¡Œæœ«æ·»åŠ </p>\n<p><code>c-I</code> ï¼šè¡Œå¤´æ’å…¥</p>\n<p><code>V</code> ï¼šè§†å›¾æ¨¡å¼ï¼Œé€‰ä¸­å¤šè¡Œ</p>\n<p><code>y-w</code> : å¤åˆ¶ä¸€ä¸ªå•è¯ï¼Œ</p>\n<p><code>int-dd</code> : åˆ é™¤ä¸‹é¢å¤šè¡Œ</p>\n<p><code>:&lt;int,int&gt;d</code> : åˆ é™¤æŒ‡å®šè¡Œ</p>\n<p><code>y-y</code> : å¤åˆ¶ä¸€è¡Œ</p>\n<p><code>y-$</code> : å¤åˆ¶åˆ°è¡Œæœ«</p>\n<p><code>ggdG</code> ï¼šåˆ é™¤å…¨éƒ¨å†…å®¹</p>\n<p><code>g-h</code> : ç›¸å½“äºé¼ æ ‡æ‚¬åœ</p>\n<p><code>s-&lt;\\&gt;</code>  : ç¼©è¿›</p>\n<p>è¿™é‡Œæœ‰ä¸€ç¯‡æ›¿æ¢çš„æ–‡ç« å†™å¾—å¾ˆå¥½ï¼š <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYXJ0dGxlLmxhbmQvMjAxNi8wOC8wOC92aW0tc2VhcmNoLWluLWZpbGUuaHRtbCVFMyU4MCU4MiVFOCVBNiU4MSVFNSVBRiVCOSVFNSU4RCU5NSVFOCVBRiU4RCVFNiU5QiVCRiVFNiU4RCVBMiVFRiVCQyU4QyVFNiVBRiU5NCVFNSVBNiU4MiVFNSVBNiU4MiVFNCVCOCU4QiVFRiVCQyU5QQ==\">https://harttle.land/2016/08/08/vim-search-in-file.htmlã€‚è¦å¯¹å•è¯æ›¿æ¢ï¼Œæ¯”å¦‚å¦‚ä¸‹ï¼š</span></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220111223857770.png\" alt=\"image-20220111223857770\" /></p>\n<p>æƒ³è¦å°† main æ›¿æ¢ä¸º meaï¼Œå¯ä»¥  <code>c-V</code>  è¿›å…¥ visual æ¨¡å¼ï¼Œç„¶å  <code>:%s/main/mea/g</code> ã€‚è¿™æ ·å°±å®ç°äº†å­—ç¬¦ä¸²çš„æ›¿æ¢ã€‚å¦‚æœæƒ³å®ç°å•è¯çº§åˆ«çš„æ›¿æ¢ï¼Œå¾ˆç®€å•ï¼Œåªéœ€è¦æ”¹ä¸º  <code>:%s/ main/ mea/g</code></p>\n<h4 id=\"inset\"><a class=\"anchor\" href=\"#inset\">#</a> Inset</h4>\n<p><code>c-d</code> : æ’å…¥æ–°çš„ä¸€è¡Œ</p>\n",
            "tags": [
                "Vim",
                "vscode",
                "vim"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/docker02-Run%E5%91%BD%E4%BB%A4/",
            "url": "https://songlinlife.top/2022/docker02-Run%E5%91%BD%E4%BB%A4/",
            "title": "docker02: Runå‘½ä»¤",
            "date_published": "2022-01-08T05:12:30.000Z",
            "content_html": "<h3 id=\"å®‰è£…docker\"><a class=\"anchor\" href=\"#å®‰è£…docker\">#</a> å®‰è£… docker</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly95ZWFzeS5naXRib29rLmlvL2RvY2tlcl9wcmFjdGljZS9pbnN0YWxsL3VidW50dQ==\">ubuntu å®‰è£… docker</span></p>\n<p>ç”±äºæˆ‘çš„ linux å¼€å¯äº† ufwï¼Œæ‰€ä»¥è¦è®¾ç½®ä¸€ä¸‹ã€‚</p>\n<p>/etc/default/ufw ä¸­ä¿®æ”¹  <code>DEFAULT_FORWARD_PLICY=&quot;ACCEPT&quot;</code> ã€‚</p>\n<h3 id=\"è¿è¡Œdocker\"><a class=\"anchor\" href=\"#è¿è¡Œdocker\">#</a> è¿è¡Œ docker</h3>\n<p><code>sudo docker run -it ubuntu /bin/bash</code></p>\n<p><code>-it</code> ï¼šä½¿ç”¨ä¸€ä¸ªäº¤äº’å¼çš„ shell æ–¹å¼è¿›å…¥ container å†…ã€‚</p>\n<p><code>/bin/bash</code> : è¡¨ç¤ºä½¿ç”¨ bash å‘½ä»¤ã€‚</p>\n<p><code>-itd</code> : å®¹å™¨åå°è¿è¡Œã€‚</p>\n<p><code>--name container_name</code> : å‘½åå®¹å™¨</p>\n<h3 id=\"è¿›å…¥å®¹å™¨\"><a class=\"anchor\" href=\"#è¿›å…¥å®¹å™¨\">#</a> è¿›å…¥å®¹å™¨</h3>\n<p><code>sudo docker attach id/name  </code> : è¿›å…¥å®¹å™¨</p>\n<p><code>Ctrl+P+Q</code> ï¼š é€€å‡ºå®¹å™¨ä¸å…³é—­å®¹å™¨</p>\n<p><code>sudo docker exec -it  id</code> : exec æ–¹å¼è¿›å…¥å®¹å™¨ã€‚</p>\n<p><code>sudo docker exec -d id command</code> : åå°æ–¹å¼æ‰§è¡Œ commandã€‚</p>\n<h3 id=\"é‡å¯å®¹å™¨\"><a class=\"anchor\" href=\"#é‡å¯å®¹å™¨\">#</a> é‡å¯å®¹å™¨</h3>\n<p><code> sudo docker run --restart=always --name daemon_dave -d ubuntu /bin/bash -c &quot;while true;do echo hello world;sleep 1;done&quot;</code></p>\n<p><code>--restart=always</code>  ï¼šä»»ä½•æƒ…å†µé€€å‡ºå®¹å™¨å°±è¦é‡å¯ã€‚</p>\n<p><code>sudo docker start id</code> : å¯åŠ¨å®¹å™¨</p>\n<h3 id=\"æ‰“å°log\"><a class=\"anchor\" href=\"#æ‰“å°log\">#</a> æ‰“å° log</h3>\n<p><code>sudo docker logs id</code> : æ‰“å°æ—¥å¿—ã€‚</p>\n<p><code>sudo docker logs -f id</code> : ç›‘æ§æ—¥å¿—</p>\n<h3 id=\"æŸ¥çœ‹å®¹å™¨å†…ä¿¡æ¯\"><a class=\"anchor\" href=\"#æŸ¥çœ‹å®¹å™¨å†…ä¿¡æ¯\">#</a> æŸ¥çœ‹å®¹å™¨å†…ä¿¡æ¯</h3>\n<p><code>sudo docker top id </code> : æŸ¥çœ‹è¿›ç¨‹</p>\n<p><code>sudo docker stats id </code> : æŸ¥çœ‹èµ„æºçŠ¶æ€ã€‚</p>\n<p><code>sudo docker inspect id</code> : æŸ¥çœ‹å®¹å™¨å…·ä½“ä¿¡æ¯</p>\n<h3 id=\"å…-sudo-è°ƒç”¨-docker-å‘½ä»¤æ–¹æ³•\"><a class=\"anchor\" href=\"#å…-sudo-è°ƒç”¨-docker-å‘½ä»¤æ–¹æ³•\">#</a> å… SUDO è°ƒç”¨ DOCKER å‘½ä»¤æ–¹æ³•</h3>\n<p><code>sudo groupadd docker</code>  #åˆ›å»º docker ç”¨æˆ·ç»„</p>\n<p><code>sudo usermod -aG docker $&#123;USER&#125;</code>  # å½“å‰ç”¨æˆ·åŠ å…¥ docker ç”¨æˆ·ç»„</p>\n<p><code>sudo systemctl restart docker</code>  # é‡å¯ docker æœåŠ¡</p>\n<p><code>newgrp - docker</code>  # ä½¿è®¾ç½®åœ¨å½“å‰ä¼šè¯ç”Ÿæ•ˆ</p>\n<h3 id=\"é•œåƒ\"><a class=\"anchor\" href=\"#é•œåƒ\">#</a> é•œåƒ</h3>\n<p><code>sudo docker search ubuntu</code> ï¼š æœç´¢é•œåƒ</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220108135633873.png\" alt=\"image-20220108135633873\" /></p>\n<p>Official è¡¨ç¤ºæ˜¯å®˜æ–¹çš„é•œåƒã€‚</p>\n<p><code>sudo docker pull ubuntu</code> ï¼šæ‹‰å–é•œåƒ</p>\n<p><code>sudo docker images</code></p>\n<p><strong>é‡å‘½åï¼š</strong></p>\n<p><code>sudo docker tag ubuntu:10.04 old_ubuntu:old</code></p>\n<p>è¿™ä¸ªé‡å‘½åå®é™…ä¸Šæ˜¯æ‰“æ ‡ç­¾çš„è¿‡ç¨‹ã€‚</p>\n",
            "tags": [
                "å®¹å™¨",
                "docker"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/linux/%E5%88%9B%E5%BB%BA%E5%AD%90%E8%BF%9B%E7%A8%8B/",
            "url": "https://songlinlife.top/2022/linux/%E5%88%9B%E5%BB%BA%E5%AD%90%E8%BF%9B%E7%A8%8B/",
            "title": "åˆ›å»ºå­è¿›ç¨‹",
            "date_published": "2022-01-06T12:22:18.000Z",
            "content_html": "<h3 id=\"fork\"><a class=\"anchor\" href=\"#fork\">#</a> fork</h3>\n<p>fork æ˜¯ç›´æ¥åˆ›å»ºä¸€ä¸ªå’Œå½“å‰è¿›ç¨‹ç›¸åŒçš„è¿›ç¨‹ã€‚é€šå¸¸åŸæœ‰çš„è¿›ç¨‹è¢«ç§°ä¸ºçˆ¶è¿›ç¨‹ï¼Œæ–°åˆ›å»ºçš„è¿›ç¨‹æ˜¯å­è¿›ç¨‹ã€‚</p>\n<p>fork å¾—åˆ°çš„å­è¿›ç¨‹ç»§æ‰¿äº†çˆ¶è¿›ç¨‹çš„å¤§éƒ¨åˆ†å±æ€§ï¼Œä½†æ˜¯ä½¿ç”¨ä¸åŒæ•°æ®æ®µå’Œå †æ ˆæ®µã€‚</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;sys/types.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;unistd.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">pid_t</span> pid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    pid <span class=\"token operator\">=</span> <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pid<span class=\"token operator\">&lt;</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token function\">perror</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fork failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>pid <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is the child process, My PID is %d. My PPID is %d.\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">getpid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">getppid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is the parent process.My PID is %d.\\n\"</span><span class=\"token punctuation\">,</span><span class=\"token function\">getpid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p>\n<pre><code>This is the parent process.My PID is 6994.\nThis is the child process, My PID is 6995. My PPID is 6994.\n</code></pre>\n<p>fork çš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯<strong>ä¸€æ¬¡è°ƒç”¨ï¼Œä¸¤æ¬¡è¿”å›</strong>ã€‚</p>\n<p>ç³»ç»Ÿåªè°ƒç”¨äº†ä¸€æ¬¡ forkï¼Œå´åˆ†åˆ«åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¸­è¿›è¡Œè¿”å›ã€‚</p>\n<p>çˆ¶è¿›ç¨‹ä¸­ fork è¿”å›å­è¿›ç¨‹ <code>pid</code> ï¼Œå­è¿›ç¨‹ä¸­ fork è¿”å› <code>0</code> ã€‚</p>\n<p>å­è¿›ç¨‹ä¸­é€šè¿‡ <code>getpid</code>  å¾—åˆ°å½“å‰çš„è¿›ç¨‹çš„ pidï¼Œé€šè¿‡ ppid è·å¾—çˆ¶è¿›ç¨‹çš„ pidã€‚</p>\n<p>å¾ˆå¥½ç†è§£ï¼Œå­è¿›ç¨‹å¯¹åº”çš„çˆ¶è¿›ç¨‹åªæœ‰ä¸€ä¸ªï¼Œè€Œä¸€ä¸ªè¿›ç¨‹å¯èƒ½æœ‰å¤šä¸ªè¿›ç¨‹ã€‚</p>\n<blockquote>\n<p>æ‰§è¡Œ forkdemo ç¨‹åºæ—¶çš„è¾“å‡ºæ˜¯ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œå¯èƒ½å…ˆæ‰“å°çˆ¶è¿›ç¨‹çš„ä¿¡æ¯ï¼Œä¹Ÿå¯èƒ½å…ˆæ‰“å°å­è¿›ç¨‹çš„ä¿¡æ¯ã€‚</p>\n</blockquote>\n<p>ä½†æ˜¯å®é™…æˆ‘è¯•äº†å‡ æ¬¡ï¼Œéƒ½æ˜¯å…ˆæ‰“å°çˆ¶è¿›ç¨‹ç„¶åæ‰“å°å­è¿›ç¨‹ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå› ä¸ºçˆ¶è¿›ç¨‹å…ˆæ‰§è¡Œæ‰€ä»¥å…ˆå®Œæˆã€‚</p>\n<h3 id=\"vfork\"><a class=\"anchor\" href=\"#vfork\">#</a> Vfork</h3>\n<p>vfork å°±æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œç”Ÿæˆçš„å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹å…±äº«å†…å­˜åœ°å€ç©ºé—´ï¼Œå’Œçˆ¶è¿›ç¨‹å…±äº«æ•°æ®æ®µã€‚ä¸ºäº†é˜²æ­¢çˆ¶è¿›ç¨‹é‡å†™å­è¿›ç¨‹éœ€è¦çš„æ•°æ®ï¼Œä¼šå°†çˆ¶è¿›ç¨‹é˜»å¡ï¼Œå› æ­¤å…ˆæ‰§è¡Œå­è¿›ç¨‹ï¼Œå†æ‰§è¡Œçˆ¶è¿›ç¨‹ã€‚</p>\n<p>å­è¿›ç¨‹é€šè¿‡ exec æ—å‡½æ•°æ‰§è¡Œå¦ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œ exec å‡½æ•°æ—¶ï¼Œè¯¥è¿›ç¨‹çš„ç”¨æˆ·ç©ºé—´ä»£ç å’Œæ•°æ®å®Œå…¨è¢«æ–°ç¨‹åºæ›¿æ¢ï¼Œä½†æ˜¯ exec ä¸ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ï¼Œä»–åªæ˜¯å°†è¯¥è¿›ç¨‹çš„æ•°æ®å’Œä»£ç åšäº†æ›¿æ¢ï¼ŒPID ä¸ä¼šæ”¹å˜ã€‚</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;unistd.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;sys/types.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">pid_t</span> pid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    pid <span class=\"token operator\">=</span> <span class=\"token function\">vfork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pid<span class=\"token operator\">&lt;</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vfork error!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>pid<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Child process PID: %d.\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">getpid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span> argv<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-al\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"/home\"</span><span class=\"token punctuation\">,</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span> envp<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"PATH=/bin\"</span><span class=\"token punctuation\">,</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">execve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bin/ls\"</span><span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">,</span> envp<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"subprocess error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"this message would never be seen.\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">//execv ä¼šæ‰§è¡Œ ls å‘½ä»¤ï¼Œæ‰§è¡Œå®Œæ¯•åå°±ä¼šæ¨å‡ºï¼Œå› ä¸º exec å°†æ•°æ®å®Œå…¨æ›¿æ¢äº†</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">// æ‰€ä»¥ä¸ä¼šå†æ‰§è¡ŒåŸæ¥çš„ c ç¨‹åºã€‚</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Parent process PID: %d.\\n\"</span><span class=\"token punctuation\">,</span><span class=\"token function\">getpid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220107112803662.png\" alt=\"image-20220107112803662\" /></p>\n<p>å¯ä»¥çœ‹åˆ°ç¨‹åºå…ˆæ‰§è¡Œå­è¿›ç¨‹ï¼Œå†æ‰§è¡Œäº†çˆ¶è¿›ç¨‹ã€‚</p>\n",
            "tags": [
                "Linux"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/linux/PIC%EF%BC%9A%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/",
            "url": "https://songlinlife.top/2022/linux/PIC%EF%BC%9A%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/",
            "title": "PICï¼šè¿›ç¨‹é—´é€šä¿¡",
            "date_published": "2022-01-06T11:48:05.000Z",
            "content_html": "<h4 id=\"ipcè¿›ç¨‹é—´é€šä¿¡\"><a class=\"anchor\" href=\"#ipcè¿›ç¨‹é—´é€šä¿¡\">#</a> IPC è¿›ç¨‹é—´é€šä¿¡</h4>\n<h5 id=\"ç®¡é“é€šä¿¡\"><a class=\"anchor\" href=\"#ç®¡é“é€šä¿¡\">#</a> ç®¡é“é€šä¿¡</h5>\n<h6 id=\"åŒ¿åç®¡é“\"><a class=\"anchor\" href=\"#åŒ¿åç®¡é“\">#</a> åŒ¿åç®¡é“</h6>\n<p>åŒ¿åç®¡é“é€šä¿¡æ­¥éª¤ï¼š</p>\n<ul>\n<li>è°ƒç”¨ pipe å‡½æ•°ï¼Œç”±çˆ¶è¿›ç¨‹åˆ›å»ºç®¡é“ï¼Œå¾—åˆ°ä¸¤ä¸ª <code>æ–‡ä»¶æè¿°ç¬¦</code> æŒ‡å‘ç®¡é“çš„ä¸¤ç«¯ã€‚</li>\n<li>çˆ¶è¿›ç¨‹ fork åˆ›å»ºå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä¸šç«çš„ä¸¤ä¸ª <code>æ–‡ä»¶æè¿°ç¬¦</code> æŒ‡å‘ç®¡é“ä¸¤ç«¯ã€‚</li>\n<li>çˆ¶è¿›ç¨‹å…³é—­è¯»ç«¯ï¼Œåªè¿›è¡Œå†™æ“ä½œï¼Œå­è¿›ç¨‹å…³é—­å†™ç«¯ï¼Œåªè¿›è¡Œè¯»æ“ä½œã€‚ç®¡é“ç”± <code>å¾ªç¯é˜Ÿåˆ—</code> å®ç°ï¼Œæ•°æ®ä»å†™ç«¯æµå‘è¯»ç«¯ã€‚</li>\n</ul>\n<p>åŒ¿åç®¡é“çš„å±€é™æ€§ï¼š</p>\n<ul>\n<li>åªæ”¯æŒå•å‘æ•°æ®æµï¼›</li>\n<li>åªèƒ½ç”¨äºå…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´ï¼›</li>\n<li>ç®¡é“çš„ç¼“å†²åŒºæ˜¯æœ‰é™çš„ï¼ˆç®¡é“åˆ¶å­˜åœ¨äºå†…å­˜ä¸­ï¼Œåœ¨ç®¡é“åˆ›å»ºæ—¶ï¼Œä¸ºç¼“å†²åŒºåˆ†é…ä¸€ä¸ªé¡µé¢å¤§å°ï¼‰ï¼›</li>\n<li>ç®¡é“æ‰€ä¼ é€çš„æ˜¯æ— æ ¼å¼å­—èŠ‚æµï¼Œè¿™å°±è¦æ±‚ç®¡é“çš„è¯»å‡ºæ–¹å’Œå†™å…¥æ–¹å¿…é¡»äº‹å…ˆçº¦å®šå¥½æ•°æ®çš„æ ¼å¼ï¼Œæ¯”å¦‚å¤šå°‘å­—èŠ‚ç®—ä½œä¸€ä¸ªæ¶ˆæ¯ï¼ˆæˆ–å‘½ä»¤ã€æˆ–è®°å½•ï¼‰ç­‰ç­‰ï¼›</li>\n</ul>\n<h6 id=\"æœ‰åç®¡é“\"><a class=\"anchor\" href=\"#æœ‰åç®¡é“\">#</a> æœ‰åç®¡é“</h6>\n<p>ä¸ç®¡é“çš„åŒºåˆ«ï¼šæä¾›äº†ä¸€ä¸ªè·¯å¾„åä¸ä¹‹å…³è”ï¼Œä»¥ FIFO æ–‡ä»¶çš„å½¢å¼å­˜å‚¨äºæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œèƒ½å¤Ÿå®ç°ä»»ä½•ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´é€šä¿¡ã€‚è€ŒåŒ¿åç®¡é“å¯¹äºæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸å¯è§çš„ï¼Œå®ƒä»…é™äºåœ¨çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</p>\n<p>FIFO æ˜¯ä¸€ä¸ªè®¾å¤‡æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä»¥æ–‡ä»¶åçš„å½¢å¼å­˜åœ¨ï¼Œå› æ­¤å³ä½¿è¿›ç¨‹ä¸åˆ›å»º FIFO çš„è¿›ç¨‹ä¸å­˜åœ¨è¡€ç¼˜å…³ç³»ä¹Ÿä¾ç„¶å¯ä»¥é€šä¿¡ï¼Œå‰ææ˜¯å¯ä»¥è®¿é—®è¯¥è·¯å¾„ã€‚</p>\n<p>FIFO (first input first output) æ€»æ˜¯éµå¾ªå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼Œå³ç¬¬ä¸€ä¸ªè¿›æ¥çš„æ•°æ®ä¼šç¬¬ä¸€ä¸ªè¢«è¯»èµ°ã€‚</p>\n<p>å‘½åç®¡é“æ˜¯ <code>è®¾å¤‡æ–‡ä»¶</code> ï¼Œå®ƒæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œè€Œç®¡é“æ˜¯å­˜å‚¨åœ¨ <code>å†…å­˜</code> ä¸­çš„ç‰¹æ®Šæ–‡ä»¶ã€‚</p>\n<p>è¿™ç¯‡æ–‡ç« å†™çš„å¾ˆå¥½ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTUxMTgwL2FydGljbGUvZGV0YWlscy82ODk1OTgxOQ==\">åŒ¿åç®¡é“å’Œæœ‰åç®¡é“</span></p>\n<p>** æ— åç®¡é“é˜»å¡é—®é¢˜ï¼š** æ— åç®¡é“æ— éœ€æ˜¾ç¤ºæ‰“å¼€ï¼Œåˆ›å»ºæ—¶ç›´æ¥è¿”å›æ–‡ä»¶æè¿°ç¬¦ï¼Œåœ¨è¯»å†™æ—¶éœ€è¦ç¡®å®šå¯¹æ–¹çš„å­˜åœ¨ï¼Œå¦åˆ™å°†é€€å‡ºã€‚å¦‚æœå½“å‰è¿›ç¨‹å‘æ— åç®¡é“çš„ä¸€ç«¯å†™æ•°æ®ï¼Œå¿…é¡»ç¡®å®šå¦ä¸€ç«¯æœ‰æŸä¸€è¿›ç¨‹ã€‚å¦‚æœå†™å…¥æ— åç®¡é“çš„æ•°æ®è¶…è¿‡å…¶æœ€å¤§å€¼ï¼Œå†™æ“ä½œå°†é˜»å¡ï¼Œå¦‚æœç®¡é“ä¸­æ²¡æœ‰æ•°æ®ï¼Œè¯»æ“ä½œå°†é˜»å¡ï¼Œå¦‚æœç®¡é“å‘ç°å¦ä¸€ç«¯æ–­å¼€ï¼Œå°†è‡ªåŠ¨é€€å‡ºã€‚</p>\n<p>æ— åç®¡é“å¦‚æœåªæœ‰ä¸€ä¸ªè¿›ç¨‹æ“ä½œå°±é€€å‡ºã€‚</p>\n<p><strong>æœ‰åç®¡é“é˜»å¡é—®é¢˜</strong>ï¼šæœ‰åç®¡é“åœ¨æ‰“å¼€æ—¶éœ€è¦ç¡®è®¤çš„å­˜åœ¨ï¼Œå¦åˆ™å°†é˜»å¡ã€‚å³ä»¥è¯»æ–¹å¼æ‰“å¼€æŸç®¡é“ï¼Œåœ¨æ­¤ä¹‹å‰å¿…é¡»ä¸€ä¸ªè¿›ç¨‹ä»¥å†™æ–¹å¼æ‰“å¼€ç®¡é“ï¼Œå¦åˆ™é˜»å¡ã€‚æ­¤å¤–ï¼Œå¯ä»¥ä»¥è¯»å†™ï¼ˆO_RDWRï¼‰æ¨¡å¼æ‰“å¼€æœ‰åç®¡é“ï¼Œå³å½“å‰è¿›ç¨‹è¯»ï¼Œå½“å‰è¿›ç¨‹å†™ï¼Œä¸ä¼šé˜»å¡ã€‚</p>\n<p>æœ‰åç®¡é“å¦‚æœåªæœ‰ä¸€ä¸ªè¿›ç¨‹æ“ä½œå°±é˜»å¡ã€‚</p>\n<h5 id=\"ä¿¡å·\"><a class=\"anchor\" href=\"#ä¿¡å·\">#</a> ä¿¡å·</h5>\n<ul>\n<li>ä¿¡å·æ˜¯è¿›ç¨‹é—´ç›¸äº’é€šä¿¡çš„ä¸€ç§æœºåˆ¶ï¼Œä¿¡å·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘é€ç»™æŸä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸éœ€è¦çŸ¥é“è¯¥è¿›ç¨‹çŠ¶æ€ã€‚</li>\n<li>å¦‚æœè¯¥è¿›ç¨‹å½“å‰å¹¶æœªå¤„äºæ‰§è¡ŒçŠ¶æ€ï¼Œåˆ™è¯¥ä¿¡å·å°±æœ‰å†…æ ¸ä¿å­˜èµ·æ¥ï¼ŒçŸ¥é“æ‰§è¡Œæ‰æŠŠä¿¡å·ä¼ é€’ç»™å®ƒã€‚</li>\n<li>å¦‚æœè¯¥è¿›ç¨‹å¤„äºé˜»å¡ï¼ŒåŒæ ·çš„ï¼ŒçŸ¥é“å–æ¶ˆé˜»å¡æ‰æŠŠä¿¡å·ä¼ é€’ç»™è¯¥è¿›ç¨‹ã€‚</li>\n</ul>\n<blockquote>\n<p>Linux ç³»ç»Ÿä¸­å¸¸ç”¨ä¿¡å·ï¼š<br />\nï¼ˆ1ï¼‰SIGHUPï¼šç”¨æˆ·ä»ç»ˆç«¯æ³¨é”€ï¼Œæ‰€æœ‰å·²å¯åŠ¨è¿›ç¨‹éƒ½å°†æ”¶åˆ°è¯¥è¿›ç¨‹ã€‚ç³»ç»Ÿç¼ºçœçŠ¶æ€ä¸‹å¯¹è¯¥ä¿¡å·çš„å¤„ç†æ˜¯ç»ˆæ­¢è¿›ç¨‹ã€‚<br />\nï¼ˆ2ï¼‰SIGINTï¼šç¨‹åºç»ˆæ­¢ä¿¡å·ã€‚ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŒ‰ Ctrl+C é”®å°†äº§ç”Ÿè¯¥ä¿¡å·ã€‚<br />\nï¼ˆ3ï¼‰SIGQUITï¼šç¨‹åºé€€å‡ºä¿¡å·ã€‚ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŒ‰ Ctrl+\\ é”®å°†äº§ç”Ÿè¯¥ä¿¡å·ã€‚<br />\nï¼ˆ4ï¼‰SIGBUS å’Œ SIGSEGVï¼šè¿›ç¨‹è®¿é—®éæ³•åœ°å€ã€‚<br />\nï¼ˆ5ï¼‰SIGFPEï¼šè¿ç®—ä¸­å‡ºç°è‡´å‘½é”™è¯¯ï¼Œå¦‚é™¤é›¶æ“ä½œã€æ•°æ®æº¢å‡ºç­‰ã€‚<br />\nï¼ˆ6ï¼‰SIGKILLï¼šç”¨æˆ·ç»ˆæ­¢è¿›ç¨‹æ‰§è¡Œä¿¡å·ã€‚shell ä¸‹æ‰§è¡Œ kill -9 å‘é€è¯¥ä¿¡å·ã€‚<br />\nï¼ˆ7ï¼‰SIGTERMï¼šç»“æŸè¿›ç¨‹ä¿¡å·ã€‚shell ä¸‹æ‰§è¡Œ kill è¿›ç¨‹ pid å‘é€è¯¥ä¿¡å·ã€‚<br />\nï¼ˆ8ï¼‰SIGALRMï¼šå®šæ—¶å™¨ä¿¡å·ã€‚<br />\nï¼ˆ9ï¼‰SIGCLDï¼šå­è¿›ç¨‹é€€å‡ºä¿¡å·ã€‚å¦‚æœå…¶çˆ¶è¿›ç¨‹æ²¡æœ‰å¿½ç•¥è¯¥ä¿¡å·ä¹Ÿæ²¡æœ‰å¤„ç†è¯¥ä¿¡å·ï¼Œåˆ™å­è¿›ç¨‹é€€å‡ºåå°†å½¢æˆåƒµå°¸è¿›ç¨‹ã€‚</p>\n</blockquote>\n<p>sigterm å’Œ sigkill åŒºåˆ«ï¼šsigterm å¯ä»¥è¢«å¿½ç•¥è€Œ sigkill ä¸èƒ½è¢«å¿½ç•¥ã€‚</p>\n<h6 id=\"ä¿¡å·æ¥æº\"><a class=\"anchor\" href=\"#ä¿¡å·æ¥æº\">#</a> ä¿¡å·æ¥æº</h6>\n<p>ä¿¡å·æ˜¯è½¯ä»¶å±‚æ¬¡ä¸Šå¯¹ä¸­æ–­æœºåˆ¶çš„ä¸€ç§æ¨¡æ‹Ÿï¼Œæ˜¯ä¸€ç§å¼‚æ­¥é€šä¿¡æ–¹å¼ã€‚ä¿¡å·å¯ä»¥åœ¨ç”¨æˆ·ç©ºé—´è¿›ç¨‹å’Œå†…æ ¸ç›´æ¥äº¤äº’ï¼Œå†…æ ¸å¯ä»¥åˆ©ç”¨ä¿¡å·æ¥é€šçŸ¥è¿›ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ã€‚</p>\n<p>ä¿¡å·æ¥æºè‡ªï¼šç¡¬ä»¶æ¥æºï¼ˆCtrl+cï¼‰ï¼Œè½¯ä»¶ç»ˆæ­¢ï¼ˆkill pidï¼‰</p>\n<h6 id=\"ä¿¡å·ç”Ÿå‘½å‘¨æœŸ\"><a class=\"anchor\" href=\"#ä¿¡å·ç”Ÿå‘½å‘¨æœŸ\">#</a> ä¿¡å·ç”Ÿå‘½å‘¨æœŸ</h6>\n<p>ä¿¡å·è¢«æŸä¸ªè¿›ç¨‹äº§ç”Ÿï¼Œå¹¶è®¾ç½®æ­¤ä¿¡å·ä¼ é€’çš„å¯¹è±¡ï¼ˆä¸€èˆ¬ä¸ºå¯¹åº”è¿›ç¨‹çš„ pidï¼‰ï¼Œç„¶åä¼ é€’ç»™æ“ä½œç³»ç»Ÿã€‚</p>\n<p>æ“ä½œç³»ç»Ÿæ ¹æ®æ¥æ”¶è¿›ç¨‹çš„è®¾ç½®ï¼ˆæ˜¯å¦é˜»å¡ï¼‰è€Œé€‰æ‹©æ€§çš„å‘é€ç»™æ¥æ”¶è€…ï¼Œå¦‚æœæ¥æ”¶è€…é˜»å¡è¯¥ä¿¡å·ï¼ˆä¸”è¯¥ä¿¡å·æ˜¯å¯ä»¥é˜»å¡çš„ï¼‰ï¼Œæ“ä½œç³»ç»Ÿå°†æš‚æ—¶ä¿ç•™è¯¥ä¿¡å·ï¼Œè€Œä¸ä¼ é€’ï¼Œç›´åˆ°è¯¥è¿›ç¨‹è§£é™¤äº†å¯¹æ­¤ä¿¡å·çš„é˜»å¡ï¼ˆå¦‚æœå¯¹åº”è¿›ç¨‹å·²ç»é€€å‡ºï¼Œåˆ™ä¸¢å¼ƒæ­¤ä¿¡å·ï¼‰ï¼Œå¦‚æœå¯¹åº”è¿›ç¨‹æ²¡æœ‰é˜»å¡ï¼Œæ“ä½œç³»ç»Ÿå°†ä¼ é€’æ­¤ä¿¡å·</p>\n<p>ç›®çš„è¿›ç¨‹æ¥æ”¶åˆ°æ­¤ä¿¡å·åï¼Œå°†æ ¹æ®å½“å‰è¿›ç¨‹å¯¹æ­¤ä¿¡å·è®¾ç½®çš„é¢„å¤„ç†æ–¹å¼ï¼Œæš‚æ—¶ç»ˆæ­¢å½“å‰ä»£ç çš„æ‰§è¡Œï¼Œä¿æŠ¤ä¸Šä¸‹æ–‡ï¼ˆä¸»è¦åŒ…æ‹¬ä¸´æ—¶å¯„å­˜å™¨æ•°æ®ï¼Œå½“å‰ç¨‹åºä½ç½®ä»¥åŠå½“å‰ CPU çš„çŠ¶æ€ï¼‰ã€è½¬è€Œæ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åºï¼Œæ‰§è¡Œå®Œæˆååœ¨å›å¤åˆ°ä¸­æ–­çš„ä½ç½®ã€‚å½“ç„¶ï¼Œå¯¹äºæŠ¢å å¼å†…æ ¸ï¼Œåœ¨ä¸­æ–­è¿”å›æ—¶è¿˜å°†å¼•å‘æ–°çš„è°ƒåº¦ã€‚</p>\n<p>è¿›ç¨‹äº§ç”Ÿä¿¡å·â¡ï¸ å†…æ ¸æ¥å—ä¿¡å·åï¼Œæ ¹æ®æ¥å—è¿›ç¨‹çŠ¶æ€é€‰æ‹©æ˜¯å¦å‘é€ â¡ï¸ ç›®çš„è¿›ç¨‹æ”¶åˆ°ä¿¡å·ï¼Œæ ¹æ®ä¿¡å·ç±»å‹æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚</p>\n<h5 id=\"æ¶ˆæ¯é˜Ÿåˆ—\"><a class=\"anchor\" href=\"#æ¶ˆæ¯é˜Ÿåˆ—\">#</a> æ¶ˆæ¯é˜Ÿåˆ—</h5>\n<p>æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæ¶ˆæ¯é“¾è¡¨ï¼ŒSystem V æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†ç¬¦æ ‡è¯†ã€‚<strong>å…·æœ‰è¶³å¤Ÿç‰¹æƒçš„ä»»ä½•è¿›ç¨‹éƒ½å¯ä»¥å¾€ä¸€ä¸ªé˜Ÿåˆ—æ”¾ç½®ä¸€ä¸ªæ¶ˆæ¯ï¼Œå…·æœ‰è¶³å¤Ÿç‰¹æƒçš„ä»»ä½•è¿›ç¨‹éƒ½å¯ä»¥ä»ä¸€ä¸ªç»™å®šé˜Ÿåˆ—è¯»å‡ºä¸€ä¸ªæ¶ˆæ¯</strong>ã€‚</p>\n<p>åœ¨æŸä¸ªè¿›ç¨‹å¾€ä¸€ä¸ªé˜Ÿåˆ—å†™å…¥æ¶ˆæ¯ä¹‹å‰ï¼Œå¹¶ä¸éœ€è¦å¦å¤–æŸä¸ªè¿›ç¨‹åœ¨è¯¥é˜Ÿåˆ—ä¸Šç­‰å¾…æ¶ˆæ¯çš„åˆ°è¾¾ã€‚</p>\n<p>System V æ¶ˆæ¯é˜Ÿåˆ—æ˜¯éšå†…æ ¸æŒç»­çš„ï¼Œåªæœ‰åœ¨å†…æ ¸é‡èµ·æˆ–è€…æ˜¾ç¤ºåˆ é™¤ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œè¯¥æ¶ˆæ¯é˜Ÿåˆ—æ‰ä¼šçœŸæ­£è¢«åˆ é™¤ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturespicturesimage-20220106120107579.png\" alt=\"image-20220106120107579\" /></p>\n<p>åŒ¿åç®¡é“æ”¾åœ¨å†…å­˜ä¸­ï¼Œæœ‰åç®¡é“æ”¾åœ¨ç¡¬ç›˜ä¸­ï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ”¾åœ¨å†…æ ¸ä¸­ã€‚</p>\n<p>æ¶ˆæ¯é˜Ÿåˆ—å…‹æœäº†ä¿¡å·æ‰¿è½½ä¿¡æ¯é‡å°‘ï¼Œç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤§å°å—é™ç­‰ç¼ºã€‚</p>\n<p>æ¶ˆæ¯é˜Ÿåˆ—é™¤äº†å…ˆè¿›å…ˆå‡ºè¿˜å¯ä»¥æŒ‰æ¶ˆæ¯çš„ç±»å‹è¿›è¡Œå­˜å‚¨ã€‚</p>\n<h5 id=\"å…±äº«å†…å­˜\"><a class=\"anchor\" href=\"#å…±äº«å†…å­˜\">#</a> å…±äº«å†…å­˜</h5>\n<ul>\n<li>ä½¿å¾—å¤šä¸ªè¿›ç¨‹å¯ä»¥å¯ä»¥ç›´æ¥è¯»å†™åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œæ˜¯æœ€å¿«çš„å¯ç”¨ IPC å½¢å¼ã€‚æ˜¯é’ˆå¯¹å…¶ä»–é€šä¿¡æœºåˆ¶è¿è¡Œæ•ˆç‡è¾ƒä½è€Œè®¾è®¡çš„ã€‚</li>\n<li>ä¸ºäº†åœ¨å¤šä¸ªè¿›ç¨‹é—´äº¤æ¢ä¿¡æ¯ï¼Œå†…æ ¸ä¸“é—¨ç•™å‡ºäº†ä¸€å—å†…å­˜åŒºï¼Œå¯ä»¥ç”±éœ€è¦è®¿é—®çš„è¿›ç¨‹å°†å…¶æ˜ å°„åˆ°è‡ªå·±çš„ç§æœ‰åœ°å€ç©ºé—´ã€‚è¿›ç¨‹å°±å¯ä»¥ç›´æ¥è¯»å†™è¿™ä¸€å—å†…å­˜è€Œä¸éœ€è¦è¿›è¡Œæ•°æ®çš„æ‹·è´ï¼Œä»è€Œå¤§å¤§æé«˜æ•ˆç‡ã€‚</li>\n<li>ç”±äºå¤šä¸ªè¿›ç¨‹å…±äº«ä¸€æ®µå†…å­˜ï¼Œå› æ­¤éœ€è¦ä¾é æŸç§åŒæ­¥æœºåˆ¶ï¼ˆå¦‚ä¿¡å·é‡ï¼‰æ¥è¾¾åˆ°è¿›ç¨‹é—´çš„åŒæ­¥åŠäº’æ–¥ã€‚</li>\n</ul>\n<h5 id=\"ä¿¡å·é‡\"><a class=\"anchor\" href=\"#ä¿¡å·é‡\">#</a> ä¿¡å·é‡</h5>\n<p>è¿™ä¸ªå°±æ˜¯ä¹‹å‰å­¦æ“ä½œç³»ç»Ÿä¸­çš„ä¿¡å·é‡æœºåˆ¶ã€‚PV æ“ä½œã€‚</p>\n<p>å› ä¸ºå¯¹ä¿¡å·é‡çš„æ“ä½œåº”å½“æ˜¯åŸå­æ“ä½œï¼Œæ‰€ä»¥ä¿¡å·é‡ä¸€èˆ¬åœ¨å†…æ ¸ä¸­å®ç°ã€‚</p>\n<p>äº’æ–¥é‡åªèƒ½ä¸º 0/1ï¼Œè€Œä¿¡å·é‡å¯ä»¥æ˜¯éè´Ÿæ•´æ•°ã€‚</p>\n<h5 id=\"å¥—æ¥å­—\"><a class=\"anchor\" href=\"#å¥—æ¥å­—\">#</a> å¥—æ¥å­—</h5>\n<p>å¥—æ¥å­— ( <code>socket</code> ) ä¹Ÿæ˜¯ä¸€ç§è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼ï¼Œä¸è¿‡ä»–æ˜¯ä¸åŒä¸»æœºä¹‹é—´è¿›è¡Œçš„ç›¸äº’é€šä¿¡ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturespicturesimage-20220106121324942.png\" alt=\"image-20220106121324942\" /></p>\n<p><strong>å¥—æ¥å­—ç‰¹æ€§</strong><br />\nå¥—æ¥å­—çš„ç‰¹æ€§ç”± 3 ä¸ªå±æ€§ç¡®å®šï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šåŸŸã€ç«¯å£å·ã€åè®®ç±»å‹ã€‚</p>\n<p><strong>ï¼ˆ1ï¼‰å¥—æ¥å­—çš„åŸŸ</strong><br />\nå®ƒæŒ‡å®šå¥—æ¥å­—é€šä¿¡ä¸­ä½¿ç”¨çš„ç½‘ç»œä»‹è´¨ï¼Œæœ€å¸¸è§çš„å¥—æ¥å­—åŸŸæœ‰ä¸¤ç§ï¼š</p>\n<p>** ä¸€æ˜¯ AF_INETï¼Œå®ƒæŒ‡çš„æ˜¯ Internet ç½‘ç»œã€‚** å½“å®¢æˆ·ä½¿ç”¨å¥—æ¥å­—è¿›è¡Œè·¨ç½‘ç»œçš„è¿æ¥æ—¶ï¼Œå®ƒå°±éœ€è¦ç”¨åˆ°æœåŠ¡å™¨è®¡ç®—æœºçš„ IP åœ°å€å’Œç«¯å£æ¥æŒ‡å®šä¸€å°è”ç½‘æœºå™¨ä¸Šçš„æŸä¸ªç‰¹å®šæœåŠ¡ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ socket ä½œä¸ºé€šä¿¡çš„ç»ˆç‚¹ï¼ŒæœåŠ¡å™¨åº”ç”¨ç¨‹åºå¿…é¡»åœ¨å¼€å§‹é€šä¿¡ä¹‹å‰ç»‘å®šä¸€ä¸ªç«¯å£ï¼ŒæœåŠ¡å™¨åœ¨æŒ‡å®šçš„ç«¯å£ç­‰å¾…å®¢æˆ·çš„è¿æ¥ã€‚</p>\n<p>** å¦ä¸€ä¸ªåŸŸ AF_UNIXï¼Œè¡¨ç¤º UNIX æ–‡ä»¶ç³»ç»Ÿï¼Œ** å®ƒå°±æ˜¯æ–‡ä»¶è¾“å…¥ / è¾“å‡ºï¼Œè€Œå®ƒçš„åœ°å€å°±æ˜¯æ–‡ä»¶åã€‚</p>\n<p><strong>ï¼ˆ2ï¼‰å¥—æ¥å­—çš„ç«¯å£å·</strong><br />\næ¯ä¸€ä¸ªåŸºäº TCP/IP ç½‘ç»œé€šè®¯çš„ç¨‹åº (è¿›ç¨‹) éƒ½è¢«èµ‹äºˆäº†å”¯ä¸€çš„ç«¯å£å’Œç«¯å£å·ï¼Œç«¯å£æ˜¯ä¸€ä¸ªä¿¡æ¯ç¼“å†²åŒºï¼Œç”¨äºä¿ç•™ Socket ä¸­çš„è¾“å…¥ / è¾“å‡ºä¿¡æ¯ï¼Œç«¯å£å·æ˜¯ä¸€ä¸ª 16 ä½æ— ç¬¦å·æ•´æ•°ï¼ŒèŒƒå›´æ˜¯ 0-65535ï¼Œä»¥åŒºåˆ«ä¸»æœºä¸Šçš„æ¯ä¸€ä¸ªç¨‹åºï¼ˆç«¯å£å·å°±åƒæˆ¿å±‹ä¸­çš„æˆ¿é—´å·ï¼‰ï¼Œä½äº 256 çš„ç«¯å£å·ä¿ç•™ç»™æ ‡å‡†åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚ pop3 çš„ç«¯å£å·å°±æ˜¯ 110ï¼Œæ¯ä¸€ä¸ªå¥—æ¥å­—éƒ½ç»„åˆè¿›äº† IP åœ°å€ã€ç«¯å£ï¼Œè¿™æ ·å½¢æˆçš„æ•´ä½“å°±å¯ä»¥åŒºåˆ«æ¯ä¸€ä¸ªå¥—æ¥å­—ã€‚</p>\n<p><strong>ï¼ˆ3ï¼‰å¥—æ¥å­—åè®®ç±»å‹</strong><br />\nå› ç‰¹ç½‘æä¾›ä¸‰ç§é€šä¿¡æœºåˆ¶</p>\n<p>** ä¸€æ˜¯æµå¥—æ¥å­—ï¼Œ** æµå¥—æ¥å­—åœ¨åŸŸä¸­é€šè¿‡ TCP/IP è¿æ¥å®ç°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ AF_UNIX ä¸­å¸¸ç”¨çš„å¥—æ¥å­—ç±»å‹ã€‚æµå¥—æ¥å­—æä¾›çš„æ˜¯ä¸€ä¸ªæœ‰åºã€å¯é ã€åŒå‘å­—èŠ‚æµçš„è¿æ¥ï¼Œå› æ­¤å‘é€çš„æ•°æ®å¯ä»¥ç¡®ä¿ä¸ä¼šä¸¢å¤±ã€é‡å¤æˆ–ä¹±åºåˆ°è¾¾ï¼Œè€Œä¸”å®ƒè¿˜æœ‰ä¸€å®šçš„å‡ºé”™åé‡æ–°å‘é€çš„æœºåˆ¶ã€‚</p>\n<p>** äºŒä¸ªæ˜¯æ•°æ®æŠ¥å¥—æ¥å­—ï¼Œ** å®ƒä¸éœ€è¦å»ºç«‹è¿æ¥å’Œç»´æŒä¸€ä¸ªè¿æ¥ï¼Œå®ƒä»¬åœ¨åŸŸä¸­é€šå¸¸æ˜¯é€šè¿‡ UDP/IP åè®®å®ç°çš„ã€‚å®ƒå¯¹å¯ä»¥å‘é€çš„æ•°æ®çš„é•¿åº¦æœ‰é™åˆ¶ï¼Œæ•°æ®æŠ¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç½‘ç»œæ¶ˆæ¯è¢«ä¼ è¾“ï¼Œå®ƒå¯èƒ½ä¼šä¸¢å¤±ã€å¤åˆ¶æˆ–é”™ä¹±åˆ°è¾¾ï¼ŒUDP ä¸æ˜¯ä¸€ä¸ªå¯é çš„åè®®ï¼Œä½†æ˜¯å®ƒçš„é€Ÿåº¦æ¯”è¾ƒé«˜ï¼Œå› ä¸ºå®ƒå¹¶ä¸€éœ€è¦æ€»æ˜¯è¦å»ºç«‹å’Œç»´æŒä¸€ä¸ªè¿æ¥ã€‚</p>\n<p>** ä¸‰æ˜¯åŸå§‹å¥—æ¥å­—ï¼Œ** åŸå§‹å¥—æ¥å­—å…è®¸å¯¹è¾ƒä½å±‚æ¬¡çš„åè®®ç›´æ¥è®¿é—®ï¼Œæ¯”å¦‚ IPã€ ICMP åè®®ï¼Œå®ƒå¸¸ç”¨äºæ£€éªŒæ–°çš„åè®®å®ç°ï¼Œæˆ–è€…è®¿é—®ç°æœ‰æœåŠ¡ä¸­é…ç½®çš„æ–°è®¾å¤‡ï¼Œå› ä¸º RAW SOCKET å¯ä»¥è‡ªå¦‚åœ°æ§åˆ¶ Windows ä¸‹çš„å¤šç§åè®®ï¼Œèƒ½å¤Ÿå¯¹ç½‘ç»œåº•å±‚çš„ä¼ è¾“æœºåˆ¶è¿›è¡Œæ§åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥åº”ç”¨åŸå§‹å¥—æ¥å­—æ¥æ“çºµç½‘ç»œå±‚å’Œä¼ è¾“å±‚åº”ç”¨ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ RAW SOCKET æ¥æ¥æ”¶å‘å‘æœ¬æœºçš„ ICMPã€IGMP åè®®åŒ…ï¼Œæˆ–è€…æ¥æ”¶ TCP/IP æ ˆä¸èƒ½å¤Ÿå¤„ç†çš„ IP åŒ…ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å‘é€ä¸€äº›è‡ªå®šåŒ…å¤´æˆ–è‡ªå®šåè®®çš„ IP åŒ…ã€‚ç½‘ç»œç›‘å¬æŠ€æœ¯å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äº SOCKET_RAWã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturespicturesimage-20220106181902260.png\" alt=\"image-20220106181902260\" /></p>\n<p>è¿™ä¸€å—å¯ä»¥å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jMTAxNWY1ZmZhNzQ=\">è¿›ç¨‹é—´é€šä¿¡ IPC (InterProcess Communication)</span></p>\n",
            "tags": [
                "Linux",
                "Linux"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/linux/inode%E5%AD%A6%E4%B9%A0/",
            "url": "https://songlinlife.top/2022/linux/inode%E5%AD%A6%E4%B9%A0/",
            "title": "inodeå­¦ä¹ ",
            "date_published": "2022-01-06T10:48:33.000Z",
            "content_html": "<p>inode å°±æ˜¯ linux ä¸­ç´¢å¼•çš„æ¦‚å¿µã€‚</p>\n<p>è¿™é‡Œå‚è€ƒäº†é˜®ä¸€å³°è€å¸ˆçš„åšå®¢ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVhbnlpZmVuZy5jb20vYmxvZy8yMDExLzEyL2lub2RlLmh0bWw=\">ç†è§£ inode</span></p>\n<h3 id=\"ä¸ºä»€ä¹ˆéœ€è¦inode\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆéœ€è¦inode\">#</a> ä¸ºä»€ä¹ˆéœ€è¦ inode</h3>\n<p>linux ä¸­ï¼Œæ–‡ä»¶å­˜å‚¨åœ¨ç¡¬ç›˜ï¼Œæ¯ä¸ªç¡¬ç›˜æœ€å°å­˜å‚¨å•ä½ä¸ºæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒº 512 å­—èŠ‚ã€‚ä¸€èˆ¬è¯»å–æ–‡ä»¶æ˜¯æŒ‰  <code>å—</code> åšå•ä½çš„ï¼Œæ¯ä¸ªå—ä¸€èˆ¬æœ‰ 8 ä¸ªæ‰‡åŒºï¼ˆsectorï¼‰ï¼Œä¹Ÿå°±æ˜¯ 4kb</p>\n<p>æ–‡ä»¶å­˜å‚¨åœ¨å—ä¸­ï¼Œé‚£ä¹ˆéœ€è¦è®°å½•å­˜æ”¾åœ¨å“ªä¸ªå—ä¸­ï¼Œè¿™ä¸ªè®°å½•å·¥ä½œæœ‰ inode ä¹Ÿå°±æ˜¯ç´¢å¼•èŠ‚ç‚¹å®Œæˆã€‚</p>\n<h3 id=\"inodeå†…å®¹\"><a class=\"anchor\" href=\"#inodeå†…å®¹\">#</a> inode å†…å®¹</h3>\n<p><code>stat file</code> : æŸ¥çœ‹æ–‡ä»¶ç´¢å¼•</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220106185612657.png\" alt=\"image-20220106185612657\" /></p>\n<p>è®°å½•æœ‰ï¼š</p>\n<ul>\n<li>\n<p>æ–‡ä»¶çš„å­—èŠ‚æ•°</p>\n</li>\n<li>\n<p>æ–‡ä»¶æ‹¥æœ‰è€…çš„ User ID</p>\n</li>\n<li>\n<p>æ–‡ä»¶çš„ Group ID</p>\n</li>\n<li>\n<p>æ–‡ä»¶çš„è¯»ã€å†™ã€æ‰§è¡Œæƒé™</p>\n</li>\n<li>\n<p>æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼Œå…±æœ‰ä¸‰ä¸ªï¼šctime æŒ‡ inode ä¸Šä¸€æ¬¡å˜åŠ¨çš„æ—¶é—´ï¼Œmtime æŒ‡æ–‡ä»¶å†…å®¹ä¸Šä¸€æ¬¡å˜åŠ¨çš„æ—¶é—´ï¼Œatime æŒ‡æ–‡ä»¶ä¸Šä¸€æ¬¡æ‰“å¼€çš„æ—¶é—´ã€‚</p>\n</li>\n<li>\n<p>é“¾æ¥æ•°ï¼Œå³æœ‰å¤šå°‘æ–‡ä»¶åæŒ‡å‘è¿™ä¸ª inode</p>\n</li>\n<li>\n<p>æ–‡ä»¶æ•°æ® block çš„ä½ç½®</p>\n</li>\n</ul>\n<p><code>df -i</code> ï¼šæŸ¥çœ‹ç£ç›˜ç´¢å¼•ã€‚</p>\n<p><code>df -h</code> ï¼šæŸ¥çœ‹ç£ç›˜å¤§å°ã€‚</p>\n<p><code>sudo dumpe2fs -h /dev/sda4 | grep &quot;Inode size&quot;  </code> ï¼šæŸ¥çœ‹æ¯ä¸ª inode èŠ‚ç‚¹å¤§å°</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220106190454001.png\" alt=\"image-20220106190454001\" /></p>\n<p>ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª inode èŠ‚ç‚¹æœ‰ 256B å¤§å°ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220106191529857.png\" alt=\"image-20220106191529857\" /></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220106191344721.png\" alt=\"image-20220106191344721\" /></p>\n<p>å¯ä»¥çœ‹åˆ°æˆ‘çš„ sda4 æœ‰ 13156352 ä¸ªç´¢å¼•ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€è¦ç”¨ä¸€ä¸ªç´¢å¼•ã€‚</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>13156352</mn><mo>âˆ—</mo><mn>256</mn><mi mathvariant=\"normal\">/</mi><mo stretchy=\"false\">(</mo><mn>1024</mn><mo>âˆ—</mo><mn>1024</mn><mo>âˆ—</mo><mn>1024</mn><mo stretchy=\"false\">)</mo><mo>â‰ˆ</mo><mn>3</mn><mi>G</mi><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">13156352 * 256 /(1024 *1024 * 1024) \\approx 3GB</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">3</span><span class=\"mord\">1</span><span class=\"mord\">5</span><span class=\"mord\">6</span><span class=\"mord\">3</span><span class=\"mord\">5</span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2</span><span class=\"mord\">5</span><span class=\"mord\">6</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">2</span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">2</span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">2</span><span class=\"mord\">4</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰ˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">G</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></p>\n<p>ä¹Ÿå°±æ˜¯è¯´ç´¢å¼•å¤§çº¦å ç”¨äº† 3GB å­˜å‚¨ç©ºé—´ï¼Œè¿™å’Œä¸‹é¢ sda4 çš„ 197GB æ­£å¥½ï¼Œå› ä¸ºæˆ‘åˆ†é…ç£ç›˜å¤§å°çš„æ—¶å€™å°±æ˜¯åˆ†é…äº† 200GBã€‚</p>\n<h3 id=\"inodeå·ç \"><a class=\"anchor\" href=\"#inodeå·ç \">#</a> inode å·ç </h3>\n<p><code>ls -i</code> ï¼šæŸ¥çœ‹æ–‡ä»¶ inode å·ç ï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturespicturesimage-20220106192104755.png\" alt=\"image-20220106192104755\" /></p>\n<h3 id=\"ç›®å½•æ–‡ä»¶\"><a class=\"anchor\" href=\"#ç›®å½•æ–‡ä»¶\">#</a> ç›®å½•æ–‡ä»¶</h3>\n<p>linux ä¸­ç›®å½•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€ç›®å½•å®é™…ä¸Šåœ¨æ‰“å¼€ç›®å½•æ–‡ä»¶ã€‚</p>\n<p>ç›®å½•æ–‡ä»¶çš„ç»“æ„éå¸¸ç®€å•ï¼Œå°±æ˜¯ä¸€ç³»åˆ—ç›®å½•é¡¹ï¼ˆdirentï¼‰çš„åˆ—è¡¨ã€‚æ¯ä¸ªç›®å½•é¡¹ï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ‰€åŒ…å«æ–‡ä»¶çš„æ–‡ä»¶åï¼Œä»¥åŠè¯¥æ–‡ä»¶åå¯¹åº”çš„ inode å·ç ã€‚</p>\n<p>ç›®å½•æ–‡ä»¶çš„è¯»æƒé™ï¼ˆrï¼‰å’Œå†™æƒé™ï¼ˆwï¼‰ï¼Œéƒ½æ˜¯é’ˆå¯¹ç›®å½•æ–‡ä»¶æœ¬èº«ã€‚ç”±äºç›®å½•æ–‡ä»¶å†…åªæœ‰æ–‡ä»¶åå’Œ inode å·ç ï¼Œæ‰€ä»¥å¦‚æœåªæœ‰è¯»æƒé™ï¼Œåªèƒ½è·å–æ–‡ä»¶åï¼Œæ— æ³•è·å–å…¶ä»–ä¿¡æ¯ï¼Œå› ä¸ºå…¶ä»–ä¿¡æ¯éƒ½å‚¨å­˜åœ¨ inode èŠ‚ç‚¹ä¸­ï¼Œ<strong>è€Œè¯»å– inode èŠ‚ç‚¹å†…çš„ä¿¡æ¯éœ€è¦ç›®å½•æ–‡ä»¶çš„æ‰§è¡Œæƒé™ï¼ˆxï¼‰ã€‚</strong>ï¼ˆè¿™é‡Œæœ‰ç‚¹æ²¡æ³•ç†è§£ï¼Œä¸ºå•¥æ˜¯æ‰§è¡Œæƒé™ï¼Ÿ</p>\n<h3 id=\"ç¡¬é“¾æ¥å’Œè½¯è¿æ¥\"><a class=\"anchor\" href=\"#ç¡¬é“¾æ¥å’Œè½¯è¿æ¥\">#</a> ç¡¬é“¾æ¥å’Œè½¯è¿æ¥</h3>\n<p><code>ln æºæ–‡ä»¶ ç›®çš„æ–‡ä»¶</code> ï¼šç¡¬é“¾æ¥</p>\n<p><code>ln -s æºæ–‡ä»¶ ç›®çš„æ–‡ä»¶ </code> : è½¯è¿æ¥</p>\n<p>åˆ é™¤æ–‡ä»¶å®é™…ä¸Šåœ¨åˆ é™¤ç¡¬é“¾æ¥æ•°ï¼Œå¦‚æœç¡¬é“¾æ¥æ•°ä¸º 0ï¼Œå°±ä¼šè¢«ç³»ç»Ÿå›æ”¶ã€‚</p>\n<blockquote>\n<p>åè¿‡æ¥ï¼Œåˆ é™¤ä¸€ä¸ªæ–‡ä»¶åï¼Œå°±ä¼šä½¿å¾— inode èŠ‚ç‚¹ä¸­çš„ &quot;é“¾æ¥æ•°&quot; å‡ 1ã€‚å½“è¿™ä¸ªå€¼å‡åˆ° 0ï¼Œè¡¨æ˜æ²¡æœ‰æ–‡ä»¶åæŒ‡å‘è¿™ä¸ª inodeï¼Œç³»ç»Ÿå°±ä¼šå›æ”¶è¿™ä¸ª inode å·ç ï¼Œä»¥åŠå…¶æ‰€å¯¹åº” block åŒºåŸŸã€‚</p>\n<p>è¿™é‡Œé¡ºä¾¿è¯´ä¸€ä¸‹ç›®å½•æ–‡ä»¶çš„ &quot;é“¾æ¥æ•°&quot;ã€‚åˆ›å»ºç›®å½•æ—¶ï¼Œé»˜è®¤ä¼šç”Ÿæˆä¸¤ä¸ªç›®å½•é¡¹ï¼š&quot;.&quot; å’Œ &quot;..&quot;ã€‚å‰è€…çš„ inode å·ç å°±æ˜¯å½“å‰ç›®å½•çš„ inode å·ç ï¼Œç­‰åŒäºå½“å‰ç›®å½•çš„ &quot;ç¡¬é“¾æ¥&quot;ï¼›åè€…çš„ inode å·ç å°±æ˜¯å½“å‰ç›®å½•çš„çˆ¶ç›®å½•çš„ inode å·ç ï¼Œç­‰åŒäºçˆ¶ç›®å½•çš„ &quot;ç¡¬é“¾æ¥&quot;ã€‚æ‰€ä»¥ï¼Œä»»ä½•ä¸€ä¸ªç›®å½•çš„ &quot;ç¡¬é“¾æ¥&quot; æ€»æ•°ï¼Œæ€»æ˜¯ç­‰äº 2 åŠ ä¸Šå®ƒçš„å­ç›®å½•æ€»æ•°ï¼ˆå«éšè—ç›®å½•ï¼‰ã€‚</p>\n</blockquote>\n<p>å¯èƒ½è¿™å°±æ˜¯åˆ é™¤ç›®å½•è¦ç”¨é€’å½’æ–¹å¼è¿›è¡Œåˆ é™¤çš„åŸå› ï¼Œå› ä¸ºå­ç›®å½•è¿˜ä¿ç•™äº†çˆ¶ç›®å½•çš„ç¡¬é“¾æ¥ã€‚</p>\n<p>è½¯è¿æ¥å°±æ˜¯å¿«æ·æ–¹å¼ã€‚</p>\n<h3 id=\"å¹³æ»‘å‡çº§\"><a class=\"anchor\" href=\"#å¹³æ»‘å‡çº§\">#</a> å¹³æ»‘å‡çº§</h3>\n<blockquote>\n<p>1. æœ‰æ—¶ï¼Œæ–‡ä»¶ååŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œæ— æ³•æ­£å¸¸åˆ é™¤ã€‚è¿™æ—¶ï¼Œç›´æ¥åˆ é™¤ inode èŠ‚ç‚¹ï¼Œå°±èƒ½èµ·åˆ°åˆ é™¤æ–‡ä»¶çš„ä½œç”¨ã€‚</p>\n<p>2. ç§»åŠ¨æ–‡ä»¶æˆ–é‡å‘½åæ–‡ä»¶ï¼Œåªæ˜¯æ”¹å˜æ–‡ä»¶åï¼Œä¸å½±å“ inode å·ç ã€‚</p>\n<p>3. æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ä»¥åï¼Œç³»ç»Ÿå°±ä»¥ inode å·ç æ¥è¯†åˆ«è¿™ä¸ªæ–‡ä»¶ï¼Œä¸å†è€ƒè™‘æ–‡ä»¶åã€‚å› æ­¤ï¼Œé€šå¸¸æ¥è¯´ï¼Œç³»ç»Ÿæ— æ³•ä» inode å·ç å¾—çŸ¥æ–‡ä»¶åã€‚</p>\n<p>ç¬¬ 3 ç‚¹ä½¿å¾—è½¯ä»¶æ›´æ–°å˜å¾—ç®€å•ï¼Œå¯ä»¥åœ¨ä¸å…³é—­è½¯ä»¶çš„æƒ…å†µä¸‹è¿›è¡Œæ›´æ–°ï¼Œä¸éœ€è¦é‡å¯ã€‚å› ä¸ºç³»ç»Ÿé€šè¿‡ inode å·ç ï¼Œè¯†åˆ«è¿è¡Œä¸­çš„æ–‡ä»¶ï¼Œä¸é€šè¿‡æ–‡ä»¶åã€‚æ›´æ–°çš„æ—¶å€™ï¼Œæ–°ç‰ˆæ–‡ä»¶ä»¥åŒæ ·çš„æ–‡ä»¶åï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ inodeï¼Œä¸ä¼šå½±å“åˆ°è¿è¡Œä¸­çš„æ–‡ä»¶ã€‚ç­‰åˆ°ä¸‹ä¸€æ¬¡è¿è¡Œè¿™ä¸ªè½¯ä»¶çš„æ—¶å€™ï¼Œæ–‡ä»¶åå°±è‡ªåŠ¨æŒ‡å‘æ–°ç‰ˆæ–‡ä»¶ï¼Œæ—§ç‰ˆæ–‡ä»¶çš„ inode åˆ™è¢«å›æ”¶ã€‚</p>\n</blockquote>\n<p>ä¹Ÿå°±æ˜¯è¯´ mv å®é™…ä¸Šåªæ˜¯å½“å‰ç›®å½•æ–‡ä»¶å’Œç›®çš„ç›®å½•æ–‡ä»¶ä¸­çš„ä¿¡æ¯ã€‚å¹¶æ²¡æœ‰å‘ç”ŸçœŸçš„ç§»åŠ¨ã€‚</p>\n<p>è€Œè½¯ä»¶å‡çº§å› ä¸ºç”¨çš„ç”¨ inode ä¸æ˜¯æ–‡ä»¶åï¼Œè¿™å°±ä½¿å¾—ï¼Œæ›´æ–°ä¸ä¼šå½±å“è¿è¡Œä¸­çš„è½¯ä»¶ï¼ˆå› ä¸ºè½¯ä»¶è¿˜æ˜¯å†ç”¨æ—§çš„ inodeï¼‰ã€‚</p>\n",
            "tags": [
                "Linux"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/docker/docker01-docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/",
            "url": "https://songlinlife.top/2022/docker/docker01-docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/",
            "title": "docker01: dockerçš„åŸºæœ¬åŸç†",
            "date_published": "2022-01-06T01:59:31.000Z",
            "content_html": "<p>å…ˆå¼€ä¸ªå‘ï¼ŒæŠŠ docker å®¹å™¨è™šæ‹ŸåŒ–ç»™å­¦ä¸€ä¸‹ã€‚</p>\n<p>docker å…¶å®æˆ‘ä¸€ç›´éƒ½æƒ³å¥½å¥½å­¦ä¸€ä¸‹ï¼Œä¹‹å‰åªæ˜¯ç®€å•åœ°ç•¥äº†ä¸€æ¬¡ï¼Œè¿™æ¬¡è¶ç€å¯’å‡ï¼ŒæŠŠå®¹å™¨å’Œ CI è¿™å—å¥½å¥½æä¸€ä¸‹ã€‚</p>\n<p>soï¼Œstart dashï¼</p>\n<h3 id=\"what-is-docker\"><a class=\"anchor\" href=\"#what-is-docker\">#</a> What is dockerï¼Ÿ</h3>\n<p>docker æ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå’Œè™šæ‹Ÿæœºä¸åŒçš„æ˜¯ï¼Œdocker æ˜¯ç›´æ¥è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸Šçš„ç”¨æˆ·æ§ä»¶ã€‚å®¹å™¨æŠ€æœ¯å¯ä»¥è®©å¤šä¸ªç‹¬ç«‹çš„ç”¨æˆ·ç©ºé—´è¿è¡Œåœ¨ä¸€å°å®¿ä¸»æœºã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220106103908215.png\" alt=\"image-20220106103908215\" /></p>\n<blockquote>\n<p>å®¹å™¨æä¾›äº†åœ¨è®¡ç®—æœºä¸Šçš„éš”ç¦»ç¯å¢ƒä¸­å®‰è£…å’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚åœ¨å®¹å™¨å†…è¿è¡Œçš„åº”ç”¨ç¨‹åºä»…å¯ä½¿ç”¨äºä¸ºè¯¥å®¹å™¨åˆ†é…çš„èµ„æºï¼Œä¾‹å¦‚ï¼šCPUï¼Œå†…å­˜ï¼Œç£ç›˜ï¼Œè¿›ç¨‹ç©ºé—´ï¼Œç”¨æˆ·ï¼Œç½‘ç»œï¼Œå·ç­‰ã€‚åœ¨ä½¿ç”¨æœ‰é™çš„å®¹å™¨èµ„æºçš„åŒæ—¶ï¼Œå¹¶ä¸ä¸å…¶ä»–å®¹å™¨å†²çªã€‚æ‚¨å¯ä»¥å°†å®¹å™¨è§†ä¸ºç®€æ˜“è®¡ç®—æœºä¸Šè¿è¡Œåº”ç”¨ç¨‹åºçš„éš”ç¦»æ²™ç®±ã€‚</p>\n</blockquote>\n<p>è¯´ç™½äº†ï¼Œå°±æ˜¯ linux åˆ’åˆ†å‡ºä¸€ä¸ªéš”ç¦»çš„ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´æœ‰å†…å­˜æœ‰è®¡ç®—èµ„æºã€‚</p>\n<blockquote>\n<p>Docker æŠ€æœ¯ä½¿ç”¨<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucmVkaGF0LmNvbS96aC90b3BpY3MvbGludXgvd2hhdC1pcy10aGUtbGludXgta2VybmVs\"> Linux å†…æ ¸</span>å’Œå†…æ ¸åŠŸèƒ½ï¼ˆä¾‹å¦‚ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hY2Nlc3MucmVkaGF0LmNvbS9kb2N1bWVudGF0aW9uL2VuLVVTL1JlZF9IYXRfRW50ZXJwcmlzZV9MaW51eC82L2h0bWwvUmVzb3VyY2VfTWFuYWdlbWVudF9HdWlkZS9jaDAxLmh0bWw=\">Cgroups</span> å’Œ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sd24ubmV0L0FydGljbGVzLzUyODA3OC8=\">namespaces</span>ï¼‰æ¥åˆ†éš”è¿›ç¨‹ï¼Œä»¥ä¾¿å„è¿›ç¨‹ç›¸äº’ç‹¬ç«‹è¿è¡Œã€‚è¿™ç§ç‹¬ç«‹æ€§æ­£æ˜¯é‡‡ç”¨å®¹å™¨çš„ç›®çš„æ‰€åœ¨ï¼›å®ƒå¯ä»¥ç‹¬ç«‹è¿è¡Œå¤šç§è¿›ç¨‹ã€å¤šä¸ªåº”ç”¨ï¼Œæ›´åŠ å……åˆ†åœ°å‘æŒ¥åŸºç¡€è®¾æ–½çš„ä½œç”¨ï¼ŒåŒæ—¶ä¿æŒå„ä¸ªç‹¬ç«‹ç³»ç»Ÿçš„<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucmVkaGF0LmNvbS96aC90b3BpY3Mvc2VjdXJpdHk=\">å®‰å…¨æ€§</span>ã€‚</p>\n</blockquote>\n<p>å®¹å™¨é€šè¿‡ <code>Namespace</code>  è¿›è¡Œèµ„æºéš”ç¦»ï¼Œé€šè¿‡ <code>Cgroup</code>  è¿›è¡Œèµ„æºæ§åˆ¶ï¼Œé€šè¿‡ <code>rootfs</code>  è¿›è¡Œæ–‡ä»¶ç³»ç»Ÿéš”ç¦»ï¼Œå®¹å™¨å¼•æ“è‡ªèº«çš„ç‰¹æ€§æ¥ç®¡ç†å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>\n<h3 id=\"namespaceè¿›è¡Œèµ„æºéš”ç¦»\"><a class=\"anchor\" href=\"#namespaceè¿›è¡Œèµ„æºéš”ç¦»\">#</a> Namespace è¿›è¡Œèµ„æºéš”ç¦»</h3>\n<p><code>chroot</code>  å‘½ä»¤: change root directoryï¼ˆæ›´æ”¹ root ç›®å½•ï¼‰ï¼Œå› ä¸ºç³»ç»Ÿé»˜è®¤ç›®å½•ç»“æ„æ˜¯ä»¥ <code>/</code>  å¼€å§‹çš„ï¼Œå³ root ç›®å½•å°±æ˜¯  <code>/</code> ï¼Œä¿®æ”¹ root ç›®å½•ä¹‹åï¼Œç³»ç»Ÿä¼šé€šè¿‡æŒ‡å®šçš„ä½ç½®ä½œä¸º  <code>/</code> ã€‚æ¯”å¦‚æˆ‘ç”¨ <code>chroot target /bin/sh</code> ã€‚</p>\n<p>chroot å®ç°çš„å°±æ˜¯ä¸€ç§éš”ç¦»ã€‚</p>\n<p><code>Namespace</code>  çš„ä½œç”¨ä¹‹ä¸€ï¼šå®ç°è½»é‡çº§çš„è™šæ‹ŸåŒ–æœåŠ¡ã€‚</p>\n<p>Linux namespaces æ˜¯å¯¹å…¨å±€ç³»ç»Ÿèµ„æºçš„ä¸€ç§å°è£…éš”ç¦»ï¼Œä½¿å¾—å¤„äºä¸åŒ namespace çš„è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„å…¨å±€ç³»ç»Ÿèµ„æºï¼Œæ”¹å˜ä¸€ä¸ª namespace ä¸­çš„ç³»ç»Ÿèµ„æºåªä¼šå½±å“å½“å‰ namespace é‡Œçš„è¿›ç¨‹ï¼Œå¯¹å…¶ä»– namespace ä¸­çš„è¿›ç¨‹æ²¡æœ‰å½±å“</p>\n<blockquote>\n<p>æˆ‘ä»¬å¯ä»¥ä» docker å®ç°è€…çš„è§’åº¦è€ƒè™‘è¯¥å¦‚ä½•å®ç°ä¸€ä¸ªèµ„æºéš”ç¦»çš„å®¹å™¨ã€‚æ¯”å¦‚æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡ chroot å‘½ä»¤åˆ‡æ¢æ ¹ç›®å½•çš„æŒ‚è½½ç‚¹ï¼Œä»è€Œéš”ç¦»æ–‡ä»¶ç³»ç»Ÿã€‚ä¸ºäº†åœ¨åˆ†å¸ƒå¼çš„ç¯å¢ƒä¸‹è¿›è¡Œé€šä¿¡å’Œå®šä½ï¼Œå®¹å™¨å¿…é¡»è¦æœ‰ç‹¬ç«‹çš„ IPã€ç«¯å£å’Œè·¯ç”±ç­‰ï¼Œè¿™å°±éœ€è¦å¯¹ç½‘ç»œè¿›è¡Œéš”ç¦»ã€‚åŒæ—¶å®¹å™¨è¿˜éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„ä¸»æœºåä»¥ä¾¿åœ¨ç½‘ç»œä¸­æ ‡è¯†è‡ªå·±ã€‚æ¥ä¸‹æ¥è¿˜éœ€è¦è¿›ç¨‹é—´çš„é€šä¿¡ã€ç”¨æˆ·æƒé™ç­‰çš„éš”ç¦»ã€‚æœ€åï¼Œè¿è¡Œåœ¨å®¹å™¨ä¸­çš„åº”ç”¨éœ€è¦æœ‰è¿›ç¨‹å· (PID)ï¼Œè‡ªç„¶ä¹Ÿéœ€è¦ä¸å®¿ä¸»æœºä¸­çš„ PID è¿›è¡Œéš”ç¦»ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™å…­ç§éš”ç¦»èƒ½åŠ›æ˜¯å®ç°ä¸€ä¸ªå®¹å™¨çš„åŸºç¡€ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ linux å†…æ ¸çš„ namespace ç‰¹æ€§ä¸ºæˆ‘ä»¬æä¾›äº†ä»€ä¹ˆæ ·çš„éš”ç¦»èƒ½åŠ›ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220106110757050.png\" alt=\"image-20220106110757050\" /></p>\n<p>å®¹å™¨éœ€è¦çš„å…­ç§ namespaceã€‚</p>\n<h4 id=\"è¿›è¡Œnamespace-apiæ“ä½œ\"><a class=\"anchor\" href=\"#è¿›è¡Œnamespace-apiæ“ä½œ\">#</a> è¿›è¡Œ namespace API æ“ä½œ</h4>\n<h5 id=\"clone\"><a class=\"anchor\" href=\"#clone\">#</a> clone</h5>\n<p>clone å°±æ˜¯åŠ å¼ºç‰ˆçš„ vforkï¼Œå› ä¸º vfork è°ƒç”¨ç”Ÿæˆçš„å­è¿›ç¨‹å®é™…ä¸Šæ˜¯å’Œçˆ¶è¿›ç¨‹å…±äº«å†…å­˜åœ°å€ç©ºé—´çš„ï¼Œè€Œ clone å°±å¯è‡ªå®šä¹‰éœ€è¦å…±äº«çš„æ˜¯å•¥ã€‚</p>\n<p><code>int clone (int (*child_func)(void *), void *child_stack,int flags, void *args)</code></p>\n<p><code>flag</code>  å‚æ•°å¯ä»¥å¯¹ namespace è¿›è¡Œæ“ä½œã€‚</p>\n<h5 id=\"procpidns\"><a class=\"anchor\" href=\"#procpidns\">#</a> /proc/[pid]/ns</h5>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220107115332250.png\" alt=\"image-20220107115332250\" /></p>\n<p><code>$$</code>  æŒ‡å½“å‰è¿›ç¨‹</p>\n<p>å¯ä»¥çœ‹åˆ°è¿™äº›æ–‡ä»¶å®é™…ä¸Šéƒ½æ˜¯è½¯è¿æ¥ï¼ŒæŒ‡å‘ namespace æ–‡ä»¶çš„ inodeã€‚</p>\n<p><code>mount --bind /proc/$$/ns/uts ~/uts</code></p>\n<p>å°±æ˜¯ç”¨\t <code>~/uts</code>  æ¥ä½œä¸ºä¸€ä¸ªæ–°çš„è½¯è¿æ¥ã€‚</p>\n<h5 id=\"setns\"><a class=\"anchor\" href=\"#setns\">#</a> setns</h5>\n<p><code>setns</code>  å¯ä»¥æ˜¯è¿›ç¨‹åŠ å…¥åˆ°æ–°çš„ namespaceã€‚</p>\n<p><code>int setns(int fd, int nstype)</code></p>\n<p><code>fd</code>  æ˜¯ namespace çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œ  <code>nstype</code>  æŒ‡å®šæ˜¯å¦éœ€è¦æ£€æŸ¥ namespace ç±»å‹æ˜¯å¦ç¬¦åˆå®é™…è¦æ±‚ã€‚</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>fd <span class=\"token operator\">=</span> <span class=\"token function\">open</span><span class=\"token punctuation\">(</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> O_RDONLY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">setns</span><span class=\"token punctuation\">(</span>fd<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è°ƒç”¨ setns</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">execvp</span><span class=\"token punctuation\">(</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ‰§è¡Œå‘½ä»¤</span></pre></td></tr></table></figure><p><code>./setns ~/uts /bin/bash</code></p>\n<p><code>setns</code>  æ‰§è¡Œåä¼šæ‰§è¡Œ clone åˆ›å»ºå­è¿›ç¨‹ï¼Œè€ŒåŸæ¥çš„çˆ¶è¿›ç¨‹ä¼šç»ˆæ­¢ã€‚</p>\n<h5 id=\"uts-namespace\"><a class=\"anchor\" href=\"#uts-namespace\">#</a> UTS namespace</h5>\n<p><code>uts</code>  æ˜¯åŸŸåå’Œä¸»æœºåçš„éš”ç¦»ï¼Œå®¹å™¨å’Œä¸»æœºåº”è¯¥å…·æœ‰ä¸åŒçš„ <code>hostname</code> ã€‚</p>\n<p>ä»£ç ï¼š</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">_GNU_SOURCE</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;sys/types.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;sys/wait.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;sched.h></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;signal.h></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;unistd.h></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">STACK_SIZE</span> <span class=\"token expression\"><span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">char</span> child_stack<span class=\"token punctuation\">[</span>STACK_SIZE<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">char</span><span class=\"token operator\">*</span> <span class=\"token keyword\">const</span> child_args<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token string\">\"/bin/bash\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token constant\">NULL</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">child_main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åœ¨å­è¿›ç¨‹ä¸­ï¼\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token function\">sethostname</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NewNamespce\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token function\">execv</span><span class=\"token punctuation\">(</span>child_args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>child_args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------begin----------\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">int</span> child_pid <span class=\"token operator\">=</span> <span class=\"token function\">clone</span><span class=\"token punctuation\">(</span>child_main<span class=\"token punctuation\">,</span> child_stack <span class=\"token operator\">+</span> STACK_SIZE<span class=\"token punctuation\">,</span> CLONE_NEWUTS<span class=\"token operator\">|</span> SIGCHLD<span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿™é‡Œè®¾ç½®äº† CLONE_NEWUTSï¼Œè¡¨ç¤ºå­è¿›ç¨‹å…‹éš†äº†çˆ¶è¿›ç¨‹çš„ utsã€‚</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token function\">waitpid</span><span class=\"token punctuation\">(</span>child_pid<span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------end------------\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220107170432303.png\" alt=\"image-20220107170432303\" /></p>\n<p>å¯ä»¥çœ‹åˆ°æ–°çš„è¿›ç¨‹å†…ï¼Œhostname å‘ç”Ÿäº†æ”¹å˜ï¼Œæˆ‘è¯´å½“æ—¶ç”¨ docker çš„æ—¶å€™ï¼Œæ€ä¹ˆ hostname æ˜¯ä¸€ä¸²å¥‡å¥‡æ€ªæ€ªçš„æ•°å­—ã€‚</p>\n<p>ç°åœ¨æ˜ç™½äº†ï¼Œè¿™å°±æ˜¯ uts éš”ç¦»ã€‚</p>\n<h4 id=\"ipcéš”ç¦»\"><a class=\"anchor\" href=\"#ipcéš”ç¦»\">#</a> IPC éš”ç¦»</h4>\n<p>IPC éš”ç¦»å°±æ˜¯è¿›ç¨‹é—´é€šä¿¡éš”ç¦»ã€‚å› ä¸ºè¿›ç¨‹é—´é€šä¿¡æœ‰å¤šç§ï¼Œæœ‰æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…±äº«å†…å­˜ã€ç®¡é“ç­‰æ–¹å¼ã€‚æ‰€ä»¥ IPC éš”ç¦»çš„ä½œç”¨çš„å°±æ˜¯ docker å†…çš„è¿›ç¨‹ä½¿ç”¨å®¹å™¨å†…çš„æ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜ç­‰ç­‰ï¼ŒIPC namespace ä¸‹çš„è¿›ç¨‹å½¼æ­¤å¯ä»¥é€šä¿¡ï¼Œä¸åŒ IPC namespace è¿›ç¨‹ä¸èƒ½é€šä¿¡ã€‚</p>\n<p>IPC å¯ä»¥çœ‹ğŸ‘‰ <a href=\"https://songlinlife.top/2022/PIC%EF%BC%9A%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/\">PICï¼šè¿›ç¨‹é—´é€šä¿¡</a></p>\n<p>ä¿®æ”¹è¯­å¥ï¼š <code>int child_pid = clone(child_main, child_stack + STACK_SIZE, CLONE_NEWUTS| SIGCHLD, NULL);</code></p>\n<p><code>ipcmk -Q</code> : åˆ›å»º <code>ipc</code>  æ¶ˆæ¯é˜Ÿåˆ—</p>\n<p><code>ipcs -q</code> : æŸ¥çœ‹æ¶ˆæ¯é˜Ÿåˆ—</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220107171751280.png\" alt=\"image-20220107171751280\" /></p>\n<p>å¯ä»¥çœ‹åˆ° <code>ipc namespace</code>  å‘ç”Ÿäº†éš”ç¦»ã€‚</p>\n<h4 id=\"pidéš”ç¦»\"><a class=\"anchor\" href=\"#pidéš”ç¦»\">#</a> PID éš”ç¦»</h4>\n<p><code>pid</code>  å°±æ˜¯  <code>process id</code>  è¿›ç¨‹ idã€‚ <code>pid</code>  éš”ç¦»å°±æ˜¯ä¸åŒ <code>pid namespace</code>  å¯ä»¥å…è®¸æœ‰ç›¸åŒçš„ pidã€‚</p>\n<p>Linux ä¼šç»´æŠ¤ä¸€ä¸ª <code>pid namespace</code>  æ ‘ï¼Œæœ€é¡¶å±‚çš„ <code>root</code>  èŠ‚ç‚¹æ˜¯ç³»ç»Ÿåˆå§‹åŒ–æ—¶åˆ›å»ºçš„ï¼ŒåŸå…ˆçš„  <code>pid namespace</code>  æ˜¯æ–°åˆ›å»ºçš„  <code>pid namespace</code>  çš„çˆ¶èŠ‚ç‚¹ã€‚å­èŠ‚ç‚¹ä¸èƒ½çœ‹åˆ°çˆ¶èŠ‚ç‚¹çš„è¿›ç¨‹ï¼Œä½†çˆ¶èŠ‚ç‚¹å¯ä»¥çœ‹åˆ°å­èŠ‚ç‚¹ã€‚</p>\n<p><code>pid 1</code>  æ˜¯ init è¿›ç¨‹ï¼Œé€šå¸¸ä¸º <code>bash</code>  æˆ–  <code>zsh</code>  ç­‰ <code>sh</code> ã€‚init è¿›ç¨‹è´Ÿè´£å›æ”¶æ‰€æœ‰çš„å­¤å„¿è¿›ç¨‹ï¼ˆå‘ç”Ÿé”™è¯¯å¯¼è‡´æ²¡æœ‰çˆ¶è¿›ç¨‹ï¼‰ã€‚çˆ¶èŠ‚ç‚¹  <code>pid namespace</code>  çš„è¿›ç¨‹å¯ä»¥å¼ºè¡Œæ€æ­»å­èŠ‚ç‚¹  <code>pid namespace</code>  èŠ‚ç‚¹çš„ init è¿›ç¨‹ï¼Œä¸€æ—¦ init è¿›ç¨‹è¢«æ€æ­»ï¼Œè¯¥  <code>pid namespace</code>  ä¸‹çš„æ‰€æœ‰è¿›ç¨‹éƒ½ä¼šè¢«ç»ˆæ­¢ã€‚</p>\n<p>é—®é¢˜ï¼šå­èŠ‚ç‚¹ä»ç„¶å¯ä»¥çœ‹åˆ°çˆ¶èŠ‚ç‚¹è¿›ç¨‹ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220107173053305.png\" alt=\"image-20220107173053305\" /></p>\n<p>è§£å†³ï¼šé‡æ–°æŒ‚è½½ proc  <code>mount -t proc proc /proc</code></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220107173731876.png\" alt=\"image-20220107173731876\" /></p>\n<p>å¯¹äºè¿›ç¨‹æ¥è¯´ <code>pid namespace</code>  åº”è¯¥æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚</p>\n<h4 id=\"mount-éš”ç¦»\"><a class=\"anchor\" href=\"#mount-éš”ç¦»\">#</a> mount éš”ç¦»</h4>\n<p>æŒ‚è½½éš”ç¦»å°±æ˜¯éš”ç¦»æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹å®ç°å¯¹éš”ç¦»æ–‡ä»¶ç³»ç»Ÿæ”¯æŒã€‚</p>\n<p>æŒ‚è½½ä¼ æ’­ï¼šå…±äº«æŒ‚è½½ã€ç§æœ‰æŒ‚è½½ã€‚</p>\n<p>æŒ‚è½½ï¼š</p>\n<blockquote>\n<p>æŒ‡çš„å°±æ˜¯å°†è®¾å¤‡æ–‡ä»¶ä¸­çš„é¡¶çº§ç›®å½•è¿æ¥åˆ° Linux æ ¹ç›®å½•ä¸‹çš„æŸä¸€ç›®å½•ï¼ˆæœ€å¥½æ˜¯ç©ºç›®å½•ï¼‰ï¼Œè®¿é—®æ­¤ç›®å½•å°±ç­‰åŒäºè®¿é—®è®¾å¤‡æ–‡ä»¶ã€‚</p>\n<p>Linux ç³»ç»Ÿä¸­ â€œä¸€åˆ‡çš†æ–‡ä»¶â€ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æ”¾ç½®åœ¨ä»¥æ ¹ç›®å½•ä¸ºæ ‘æ ¹çš„æ ‘å½¢ç›®å½•ç»“æ„ä¸­ã€‚åœ¨ inux çœ‹æ¥ï¼Œä»»ä½•ç¡¬ä»¶è®¾å¤‡ä¹Ÿéƒ½æ˜¯æ–‡ä»¶ï¼Œå®ƒä»¬å„æœ‰è‡ªå·±çš„ä¸€å¥—æ–‡ä»¶ç³»ç»Ÿï¼ˆæ–‡ä»¶ç›®å½•ç»“æ„ï¼‰ã€‚</p>\n<p>å› æ­¤äº§ç”Ÿçš„é—®é¢˜æ˜¯ï¼Œå½“åœ¨ Linux ç³»ç»Ÿä¸­ä½¿ç”¨è¿™äº›ç¡¬ä»¶è®¾å¤‡æ—¶ï¼Œåªæœ‰å°† Linux æœ¬èº«çš„æ–‡ä»¶ç›®å½•ä¸ç¡¬ä»¶è®¾å¤‡çš„æ–‡ä»¶ç›®å½•åˆäºŒä¸ºä¸€ï¼Œç¡¬ä»¶è®¾å¤‡æ‰èƒ½ä¸ºæˆ‘ä»¬æ‰€ç”¨ã€‚åˆäºŒä¸ºä¸€çš„è¿‡ç¨‹ç§°ä¸º â€œæŒ‚è½½â€ã€‚</p>\n</blockquote>\n<p>è¿™é‡Œ <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVhbnlpZmVuZy5jb20vYmxvZy8yMDEyLzAyL2FfaGlzdG9yeV9vZl91bml4X2RpcmVjdG9yeV9zdHJ1Y3R1cmUuaHRtbA==\">Unix ç›®å½•ç»“æ„æ¥å†</span>å€¼å¾—ä¸€çœ‹ã€‚</p>\n<p>è¿™é‡ŒçœŸæœ‰ç‚¹è„‘å­ä¸å¤Ÿç”¨çš„æ„Ÿè§‰ã€‚ã€‚ã€‚</p>\n<h6 id=\"mount-æ–‡ä»¶orç›®å½•ç»‘å®š\"><a class=\"anchor\" href=\"#mount-æ–‡ä»¶orç›®å½•ç»‘å®š\">#</a> mount æ–‡ä»¶ or ç›®å½•ç»‘å®š</h6>\n<p>è¿™é‡Œæœ‰ä¸€ç¯‡å¥½æ–‡ç«  <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc3BhcmtkZXYvcC85MDQ1NTYzLmh0bWw=\">mount å‘½ä»¤è¿›é˜¶</span></p>\n<p><code>sudo mount --bind [DirFile-1] [DirFile-2] </code></p>\n<p><code>sudo umount [DirFile-2]</code></p>\n<p>è§£ç»‘ç”¨ç»å¯¹è·¯å¾„ã€‚</p>\n<p>bind ä¸ä¼šå¢åŠ  inode çš„å¼•ç”¨æ¬¡æ•°</p>\n<h4 id=\"network-éš”ç¦»\"><a class=\"anchor\" href=\"#network-éš”ç¦»\">#</a> network éš”ç¦»</h4>\n<p>è¿›è¡Œç½‘ç»œèµ„æºçš„éš”ç¦»ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturespic.php\" alt=\"img\" /></p>\n<p>docker å¯ä»¥å®ç°ç½‘ç»œéš”ç¦»ï¼Œè¿™éƒ¨åˆ†ä¹‹åå†ç»†çœ‹ã€‚</p>\n<p>è¿™é‡Œæœ‰ä¸€ç¯‡åšå®¢ï¼Œå†™çš„å¾ˆå¥½<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20veXktY3hkL3AvNjU1MzYyNC5odG1s\">ä¸€åˆ†é’Ÿçœ‹æ‡‚ Docker çš„ç½‘ç»œæ¨¡å¼å’Œè·¨ä¸»æœºé€šä¿¡</span></p>\n<h4 id=\"user-éš”ç¦»\"><a class=\"anchor\" href=\"#user-éš”ç¦»\">#</a> user éš”ç¦»</h4>\n<p>é€šè¿‡æ˜ å°„å¯ä»¥å°† container å†…çš„ç”¨æˆ·æ˜ å°„ä¸ºå¤–éƒ¨ç”¨æˆ·ï¼Œè¿™æ ·å°±å…·æœ‰äº†å¤–éƒ¨ç”¨æˆ·çš„æƒé™</p>\n<h3 id=\"cgroup\"><a class=\"anchor\" href=\"#cgroup\">#</a> Cgroup</h3>\n<p>å¾…å¡«å‘</p>\n",
            "tags": [
                "å®¹å™¨"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/%E5%AF%92%E5%81%87%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/",
            "url": "https://songlinlife.top/2022/%E5%AF%92%E5%81%87%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/",
            "title": "å¯’å‡å­¦ä¹ è®¡åˆ’",
            "date_published": "2022-01-05T09:28:34.000Z",
            "content_html": "<p>å“ï¼Œè¯´å®è¯ï¼Œç»è¿‡ä¸ŠåŠå¹´å¯¹ç®—æ³•çš„å­¦ä¹ ï¼Œè¶Šå­¦è¶Šæ„Ÿè§‰è‡ªå·±åœ¨æ•°å­¦ä¸Šçš„åŠ›ä¸ä»å¿ƒï¼Œå¦‚æœä¸æ˜¯æ•°å­¦çš„åˆ¶çº¦å¯èƒ½è‡ªå·±çœŸçš„èƒ½åšå‡ºä¸€ç•ªäº‹ã€‚ä¹Ÿæœ‰è‡ªå·±å®¶åº­çš„åŸå› ï¼Œå› ä¸ºæˆ‘æ˜¯å·¥è–ªå®¶åº­ï¼Œè®©çˆ¶æ¯ä¾›å…»æˆ‘å‡ºå›½è¯»ä¹¦ï¼Œå¯èƒ½ä¸æ˜¯ä¸€ä¸ªç°å®çš„äº‹æƒ…ã€‚ã€‚ã€‚å†è€…æˆ‘æ‰€åœ¨çš„å®éªŒå®¤ä¹Ÿæ²¡æœ‰è®¤å¯å­¦æœ¯ä¸Šçš„è¿½æ±‚ï¼Œè¦æƒ³åšå­¦æœ¯ï¼Œå‡­è‡ªå·±æ„Ÿè§‰å¾ˆéš¾ã€‚</p>\n<p><strong>äºæ˜¯</strong></p>\n<p>æˆ‘å†³å®šäº†ï¼ï¼ï¼</p>\n<hr />\n<p>åšå¼€å‘å§ã€‚</p>\n<p>â˜ï¸ çœŸçš„ç”˜éœ–å¨˜ï¼Œå…œå…œè½¬è½¬è¿˜æ˜¯é€ƒä¸äº†åšå¼€å‘ã€‚ã€‚ã€‚</p>\n<p>ä¸ºäº†å‡†å¤‡æ˜å¹´çš„å®ä¹ ï¼ˆå®é™…ä¸Šæ˜¯ä»Šå¹´ï¼‰</p>\n<p>æ²¡åŠæ³•ï¼Œåªå¥½æ¡èµ·ä»¥å‰ä¸¢ä¸‹çš„ C<ins> äº†ï¼Œæˆ‘è§‰å¾—æˆ‘çš„ C</ins> åŸºç¡€è¿˜æ˜¯å¯ä»¥çš„ã€‚</p>\n<p>ç›®æ ‡ï¼š</p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_0\" disabled=\"true\" /><label for=\"cbx_0\"> å­¦ä¼š docker çš„ä½¿ç”¨</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_1\" disabled=\"true\" /><label for=\"cbx_1\"> å­¦ä¼š vim çš„ä½¿ç”¨</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_2\" disabled=\"true\" /><label for=\"cbx_2\"> é‡æ–°æ¸©ä¹ ä¸€é 408</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_3\" disabled=\"true\" /><label for=\"cbx_3\"> é‡æ–°æ¡èµ· C++</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_4\" disabled=\"true\" /><label for=\"cbx_4\"> åˆ·å¤Ÿ 100 é“ LeetCode é¢˜ç›®</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_5\" disabled=\"true\" /><label for=\"cbx_5\"> å­¦å®Œ C++ primer</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_6\" disabled=\"true\" /><label for=\"cbx_6\"> å­¦åˆ° C++ effect</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_7\" disabled=\"true\" /><label for=\"cbx_7\"> å®Œæˆå¼€å‘è€…é¢„æµ‹å®éªŒ</label></p>\n</li>\n</ul>\n",
            "tags": [
                "è®°äº‹"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/vim01-Vim%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/",
            "url": "https://songlinlife.top/2022/vim01-Vim%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/",
            "title": "Vim01: VimåŸºæœ¬ç”¨æ³•",
            "date_published": "2022-01-05T09:26:14.000Z",
            "content_html": "<p>å¥½æ—©å°±æƒ³æŠŠè¿™ä¸ªå‘ç»™å¤©çƒ­ï¼Œä¸€ç›´æ‹–ç€æ²¡å»æï¼Œç°åœ¨ç»ˆäºæœ‰æ—¶é—´äº†</p>\n",
            "tags": [
                "Vim",
                "vim"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%AD%E5%90%84%E4%B8%AA%E6%8C%87%E6%A0%87/",
            "url": "https://songlinlife.top/2022/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%AD%E5%90%84%E4%B8%AA%E6%8C%87%E6%A0%87/",
            "title": "æœºå™¨å­¦ä¹ ä¸­å„ä¸ªæŒ‡æ ‡accuracyã€precisionã€recallã€F1ã€MCC",
            "date_published": "2022-01-04T06:03:46.000Z",
            "content_html": "<h3 id=\"accuracy-ç²¾åº¦\"><a class=\"anchor\" href=\"#accuracy-ç²¾åº¦\">#</a> Accuracy ç²¾åº¦</h3>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mo separator=\"true\">;</mo><mi mathvariant=\"script\">D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy=\"false\">[</mo><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi mathvariant=\"bold-italic\">x</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi>l</mi><mi>a</mi><mi>b</mi><mi>e</mi><msub><mi>l</mi><mi>i</mi></msub><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">Accuracy(f;\\mathcal{D}) = \\frac{1}{n} \\sum_{i=1}^n[f(\\boldsymbol{x}_{i}) = label_i]\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">;</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">D</span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.929066em;vertical-align:-1.277669em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6513970000000002em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">x</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span></p>\n<p>ä¹Ÿå°±æ˜¯è¯´å‡†ç¡®ç‡å°±æ˜¯å’Œæ ‡ç­¾çš„åŒ¹é…ç¨‹åº¦ã€‚</p>\n<h3 id=\"precision-ç²¾ç¡®åº¦\"><a class=\"anchor\" href=\"#precision-ç²¾ç¡®åº¦\">#</a> Precision ç²¾ç¡®åº¦</h3>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">Precision = \\frac{TP}{TP +FP}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1296600000000003em;vertical-align:-0.7693300000000001em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.36033em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693300000000001em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220104140920128.png\" alt=\"image-20220104140920128\" /></p>\n<p>å°±æ˜¯é¢„æµ‹ä¸ºæ­£ä¾‹ä¸­çš„ç»“æœæœ‰å¤šå°‘çœŸå®çš„æ­£ä¾‹ï¼Œæ¯”å¦‚é¢„æµ‹å‡ºåƒåœ¾é‚®ä»¶ä¸­æœ‰å¤šå°‘æ˜¯çœŸçš„åƒåœ¾é‚®ä»¶ã€‚</p>\n<h3 id=\"recall-å¬å›ç‡\"><a class=\"anchor\" href=\"#recall-å¬å›ç‡\">#</a> Recall å¬å›ç‡</h3>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">Recall = \\frac{TP}{TP+FN}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1296600000000003em;vertical-align:-0.7693300000000001em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.36033em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693300000000001em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å¬å›ç‡å°±æ˜¯è¯´æœ‰å¤šå°‘æ­£ä¾‹è¢«æˆåŠŸé¢„æµ‹å‡ºæ¥äº†ã€‚æ¯”å¦‚æœ‰å¤šå°‘åƒåœ¾é‚®ä»¶è¢«æˆåŠŸé¢„æµ‹å‡ºæ¥äº†ã€‚</p>\n<p>å¦‚æœè¦æé«˜å¬å›ç‡ï¼Œé‚£ä¹ˆå°±è¦å°½é‡é™ä½é¢„æµ‹çš„é—¨æ§›ï¼Œä¹Ÿå°±æ˜¯è¯´åŸæ¥ 0.7 è¢«é¢„æµ‹ä¸ºçœŸï¼Œç°åœ¨æˆ‘ 0.6 è¢«é¢„æµ‹ä¸ºçœŸï¼Œè‡ªç„¶å¯ä»¥ç­›é€‰å‡ºæ›´å¤šçš„æ­£ä¾‹ï¼Œä½†æ˜¯è¿™æ ·å°±é™ä½äº†ç²¾ç¡®ç‡äº†ï¼Œå› ä¸º 0.6 å°±ä¼šè¢«é¢„æµ‹ä¸ºçœŸï¼Œè‡ªç„¶ä¼šå‡ºç°ä¸€äº›è´Ÿä¾‹è¢«é¢„æµ‹ä¸ºæ­£ä¾‹ã€‚</p>\n<h3 id=\"f1åˆ†æ•°\"><a class=\"anchor\" href=\"#f1åˆ†æ•°\">#</a> F1 åˆ†æ•°</h3>\n<p>æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡ï¼Œaccuracy è¿™ä¸ªæŒ‡æ ‡å°±æ²¡å•¥ç”¨ï¼Œå°±åƒä¹‹å‰åšçš„é‚£ä¸ªæœºå™¨äººè´¦å·é¢„æµ‹ä¸€æ ·ã€‚å…¨éƒ¨é¢„æµ‹ä¸ºæœºå™¨äººåï¼Œaccuracy æ•°è¾¾åˆ°äº† 0.999ï¼Œè¿™æ˜¾ç„¶æ²¡æ„ä¹‰ã€‚</p>\n<p>å› ä¸º precision å’Œ Recall è¿™ä¸¤ä¸ªæŒ‡æ ‡ä¼šå‡ºç°çŸ›ç›¾ï¼Œæ‰€ä»¥è€ƒè™‘ä»–ä»¬æœ€å¸¸è§çš„æ–¹æ³•å°±æ˜¯ F1 åˆ†æ•°ã€‚</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>F</mi><mn>1</mn><mo>=</mo><mn>2</mn><mfrac><mrow><mtext>Â PrecisionÂ </mtext><mo>âˆ—</mo><mtext>Â RecallÂ </mtext></mrow><mrow><mtext>Â PrecisionÂ </mtext><mo>+</mo><mtext>Â RecallÂ </mtext></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">F 1=2 \\frac{\\text { Precision } * \\text { Recall }}{\\text { Precision }+\\text { Recall }}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.14077em;vertical-align:-0.7693300000000001em;\"></span><span class=\"mord\">2</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Â PrecisionÂ </span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord text\"><span class=\"mord\">Â RecallÂ </span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Â PrecisionÂ </span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord text\"><span class=\"mord\">Â RecallÂ </span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693300000000001em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>F1 æ•°è¶Šå¤§ï¼Œä¸€èˆ¬ä»£è¡¨æ¨¡å‹çš„æ•ˆæœè¶Šå¥½ã€‚</p>\n<h3 id=\"mcc\"><a class=\"anchor\" href=\"#mcc\">#</a> MCC</h3>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mrow><mi mathvariant=\"normal\">M</mi><mi mathvariant=\"normal\">C</mi><mi mathvariant=\"normal\">C</mi></mrow><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi><mo>Ã—</mo><mi>T</mi><mi>N</mi><mo>âˆ’</mo><mi>F</mi><mi>P</mi><mo>Ã—</mo><mi>F</mi><mi>N</mi></mrow><msqrt><mrow><mo stretchy=\"false\">(</mo><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>T</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>P</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>T</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></msqrt></mfrac></mrow><annotation encoding=\"application/x-tex\">\\mathrm{MCC}=\\frac{T P \\times T N-F P \\times F N}{\\sqrt{(T P+F P)(T P+F N)(T N+F P)(T N+F N)}}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">M</span><span class=\"mord mathrm\">C</span><span class=\"mord mathrm\">C</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.49033em;vertical-align:-1.13em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.36033em;\"><span style=\"top:-2.175em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.935em;\"><span class=\"svg-align\" style=\"top:-3.2em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.8950000000000005em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30499999999999994em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.13em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>MCC æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæè¿°å®é™…åˆ†ç±»ä¸é¢„æµ‹åˆ†ç±»ä¹‹é—´çš„ç›¸å…³ç³»æ•°ï¼Œå®ƒçš„å–å€¼èŒƒå›´ä¸º [-1,1]ï¼Œå–å€¼ä¸º 1 æ—¶è¡¨ç¤ºå¯¹å—è¯•å¯¹è±¡çš„å®Œç¾é¢„æµ‹ï¼Œå–å€¼ä¸º 0 æ—¶è¡¨ç¤ºé¢„æµ‹çš„ç»“æœè¿˜ä¸å¦‚éšæœºé¢„æµ‹çš„ç»“æœï¼Œ-1 æ˜¯æŒ‡é¢„æµ‹åˆ†ç±»å’Œå®é™…åˆ†ç±»å®Œå…¨ä¸ä¸€è‡´ã€‚</p>\n",
            "tags": [
                "AI"
            ]
        },
        {
            "id": "https://songlinlife.top/2022/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9APredicting-long-time-contributors-for-GitHub-projects-using-machine-learning/",
            "url": "https://songlinlife.top/2022/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9APredicting-long-time-contributors-for-GitHub-projects-using-machine-learning/",
            "title": "è®ºæ–‡é˜…è¯»ï¼šPredicting long-time contributors for GitHub projects using machine learning",
            "date_published": "2022-01-04T05:54:07.000Z",
            "content_html": "<h3 id=\"introduction\"><a class=\"anchor\" href=\"#introduction\">#</a> Introduction</h3>\n<p>long time contributorï¼ˆLTCï¼‰é¢„æµ‹ï¼ŒLTC ä¼šè´¡çŒ®æ›´å¤šçš„ä»£ç ï¼Œæ‰€ä»¥ç ”ç©¶ LTC æ˜¯æœ‰å¿…è¦çš„ã€‚</p>\n<h3 id=\"dataset\"><a class=\"anchor\" href=\"#dataset\">#</a> DataSet</h3>\n<p>888 ä¸ªæœ€æµè¡Œçš„é¡¹ç›®ï¼Œ56766 ä¸ªè´¡çŒ®è€…ï¼Œ70899 ä¸ªè§‚å¯Ÿå€¼ã€‚æ¯ä¸ªè§‚å¯Ÿå€¼å¯¹åº”äº†ä¸€ä¸ªè´¡çŒ®è€…ã€‚è¿™é‡Œæ³¨æ„ï¼šè§‚å¯Ÿå€¼å’Œè´¡çŒ®è€…ä¸ä¸€è‡´æ˜¯å› ä¸ºæœ‰çš„è´¡çŒ®è€…å¯èƒ½å‚ä¸çš„å¤šä¸ªé¡¹ç›®ï¼Œè¿™é‡Œçš„è§‚å¯Ÿå€¼æ˜¯ä¸€ä¸ªè´¡çŒ®è€…åœ¨ä¸€ä¸ªé¡¹ç›®çš„æƒ…å†µã€‚</p>\n<p>31 ä¸ªç‰¹å¾ï¼ŒåŒ…æ‹¬ 13 ä¸ª repo å±æ€§å’Œ 18 ä¸ªè´¡çŒ®è€…ç‰¹å¾ã€‚</p>\n<p>éšæœºæ£®æ—æ–¹æ³•ï¼ŒAUC è¾¾åˆ°äº† 0.913ã€‚</p>\n<p>æ„å»ºæ–¹æ³•ï¼šä» GHTorrent ä¸­ 09/01/2017 æ•°æ®æŠ½å–äº† t æ ¹æ® start æ’åçš„ top1000 çš„ repoï¼Œå¹¶ä¸”å°†æ²¡æœ‰ç‰¹å®šè¯­è¨€ã€ä¸ä½¿ç”¨ github ä½œä¸º issue trackerã€forked é¡¹ç›®ã€é‡å¤é¡¹ç›®æ’é™¤åœ¨å¤–ï¼Œæœ€ç»ˆæ„å»ºäº† 888 ä¸ªé¡¹ç›®ã€‚</p>\n<h3 id=\"ç‰¹å¾\"><a class=\"anchor\" href=\"#ç‰¹å¾\">#</a> ç‰¹å¾</h3>\n<h5 id=\"é‡è¦ç‰¹å¾\"><a class=\"anchor\" href=\"#é‡è¦ç‰¹å¾\">#</a> é‡è¦ç‰¹å¾</h5>\n<p>top10 é‡è¦ç‰¹ç§ä¸­ï¼Œæœ‰ 4 ä¸ª contributor ç‰¹å¾å’Œ 6 ä¸ª repository ç‰¹å¾ã€‚ <code>c_History_Followers</code> ï¼ˆcontributor çš„ç²‰ä¸æ•°)ï¼‰ <code>c_Age</code> ï¼ˆcontributor åŠ å…¥ github å’ŒåŠ å…¥ repo ä¹‹é—´çš„å¤©æ•°å·®ï¼‰æ˜¯ contributor ä¸¤ä¸ªæœ€é‡è¦çš„ç‰¹å¾ã€‚ <code>r_age</code> ï¼ˆcontributor åŠ å…¥ repo å’Œ repo åˆ›å»ºçš„æ—¶é—´å·®ï¼‰ï¼Œr_Number_Of_watchesï¼ˆä»“åº“å¾—åˆ°çš„ watch æ•°ï¼‰æ˜¯ repo çš„ä¸¤ä¸ªæœ€é‡è¦çš„ç‰¹å¾ã€‚</p>\n<h5 id=\"æ‰€æœ‰ç‰¹å¾\"><a class=\"anchor\" href=\"#æ‰€æœ‰ç‰¹å¾\">#</a> æ‰€æœ‰ç‰¹å¾</h5>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220104145833565.png\" alt=\"image-20220104145833565\" /></p>\n<h5 id=\"ç‰¹å¾çš„é‡è¦è¡¨\"><a class=\"anchor\" href=\"#ç‰¹å¾çš„é‡è¦è¡¨\">#</a> ç‰¹å¾çš„é‡è¦è¡¨</h5>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220104153402886.png\" alt=\"image-20220104153402886\" /></p>\n<h3 id=\"é¢„æµ‹æ¨¡å‹å’Œå‚æ•°\"><a class=\"anchor\" href=\"#é¢„æµ‹æ¨¡å‹å’Œå‚æ•°\">#</a> é¢„æµ‹æ¨¡å‹å’Œå‚æ•°</h3>\n<p>éšæœºæ£®æ—ä½œä¸ºé¢„æµ‹æ¨¡å‹ï¼Œ100 æ ‘ã€‚</p>\n<p>è¿™ä¸ªæ˜¯ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œæ­£ä¾‹æ˜¯ LTCï¼Œè´Ÿä¾‹æ˜¯ non-LTCã€‚</p>\n<p>é¢„æµ‹çš„é˜ˆå€¼ä¸º 0.5</p>\n<h3 id=\"é¢„æµ‹æ•ˆæœ\"><a class=\"anchor\" href=\"#é¢„æµ‹æ•ˆæœ\">#</a> é¢„æµ‹æ•ˆæœ</h3>\n<blockquote>\n<p>In 10-fold cross-validation, the precision, recall, F1-score, MCC, and AUC of our best model (random forest) are 0.695, 0.079, 0.140, 0.226, and 0.913.</p>\n</blockquote>\n<p>å¯ä»¥çœ‹å‡ºè¿™ä¸ªå®ƒé¢„æµ‹çš„ recall è¿˜æ˜¯æ¯”è¾ƒä½çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¹¶ä¸èƒ½å¾ˆå¥½åœ°æŠŠ LTC ç»™æ‰¾å‡ºæ¥ã€‚ä½† AUC å€¼å¾ˆé«˜ï¼Œ</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20220104153046914.png\" alt=\"image-20220104153046914\" /></p>\n<h3 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h3>\n<p>è¿™ç¯‡æ–‡ç« æœ€å¤§çš„è´¡çŒ®å°±æ˜¯ä½¿ç”¨äº†æœºå™¨å­¦ä¹ æ¥é¢„æµ‹ LTCã€‚</p>\n",
            "tags": [
                "Xlab",
                "contributors"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/Loyalty-in-Online-Communities%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/",
            "url": "https://songlinlife.top/2021/Loyalty-in-Online-Communities%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/",
            "title": "Loyalty in Online Communitiesè®ºæ–‡é˜…è¯»",
            "date_published": "2021-12-29T02:33:16.000Z",
            "content_html": "<h3 id=\"æ¦‚è¿°\"><a class=\"anchor\" href=\"#æ¦‚è¿°\">#</a> æ¦‚è¿°</h3>\n<p>è¿™ç¯‡ paper ä¸»è¦è€ƒå¯Ÿäº†ç¤¾äº¤ç½‘ç»œä¸­ loyalty è¿™ç§å±æ€§ï¼ŒåŒ…æ‹¬ç”¨æˆ·çš„ loyalty å’Œé«˜ loyalty ç”¨æˆ·æ•°çš„ communities ä»–ä»¬ä¹‹é—´çš„å…±åŒå±æ€§ã€‚</p>\n<h3 id=\"å®šä¹‰loyalty\"><a class=\"anchor\" href=\"#å®šä¹‰loyalty\">#</a> å®šä¹‰ loyalty</h3>\n<p>ä½¿ç”¨çš„æ•°æ®é›†ä¸º Redditã€‚</p>\n<p><strong><strong>loyal users</strong></strong>ï¼šè¯´ç™½äº†å°±æ˜¯çƒ­è¡·äºæŸä¸€ç¤¾åŒºçš„ç”¨æˆ·ï¼Œå¹¶ä¸”è¿™ä¸ªçƒ­è¡·åº¦æ˜¯è¦é«˜äºå…¶ä»–ç¤¾åŒºçš„ã€‚åŸæ–‡ä¸­è¯´å¦‚æœç”¨æˆ· X åœ¨ t æœˆå¯¹ A ç¤¾åŒºæœ‰è¶…è¿‡ 50% çš„è¯„è®ºå³è¯´æ˜ A <em>prefer</em> Aã€‚å¦‚æœç”¨æˆ· X åŒæ—¶åœ¨ t å’Œ t+1 æœˆ prefer Aï¼Œå³ X loyal to Aã€‚</p>\n<p><strong>vagrant users</strong>ï¼š</p>\n<blockquote>\n<p>We define a vagrant of A as a user who comments between 1 and 3 times in A at t, and, while still active on Reddit at time t + 1, does not contribute to A in t + 1.</p>\n</blockquote>\n<p>è¯´ç™½äº†å°±æ˜¯ä¸‰ä¸ªæœˆè¿˜åœ¨ç¤¾åŒºï¼Œä½†ä¸‹ä¸ªæœˆå°±ä¸åœ¨äº†ã€‚</p>\n<p><strong>Loyal communities</strong>ï¼šå³é«˜ loyalty rate çš„ç¤¾åŒºï¼ŒåŸæ–‡åŸåˆ™ top-25% çš„ç¤¾åŒºä½œä¸º Loyal communitiesï¼Œåº•éƒ¨ 25% çš„è®¾ä¸ºä¸º non-Loyalty communitiesã€‚</p>\n<h3 id=\"æ•°æ®é›†æ„å»º\"><a class=\"anchor\" href=\"#æ•°æ®é›†æ„å»º\">#</a> æ•°æ®é›†æ„å»º</h3>\n<p>è¿™æ˜¯æˆ‘æœ€å…³æ³¨çš„éƒ¨åˆ†ï¼š</p>\n<h5 id=\"åŸºäºchainçš„æ„å›¾\"><a class=\"anchor\" href=\"#åŸºäºchainçš„æ„å›¾\">#</a> åŸºäº chain çš„æ„å›¾</h5>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211229111451330.png\" alt=\"image-20211229111451330\" /></p>\n<p>Reddit çš„ç‰¹è‰²ï¼Œå›å¤ä¼šå½¢æˆä¸€ä¸ª chainï¼Œè¿™ä¸ªæ„å›¾æ–¹å¼ä¼šä½¿ç”¨ç›´æ¥å›å¤è€…å’Œé—´æ¥å›å¤è€…ä½œä¸º linkã€‚</p>\n<h5 id=\"replied-base\"><a class=\"anchor\" href=\"#replied-base\">#</a> replied base</h5>\n<p>è¿™ä¸ªå°±æ˜¯ç›´æ¥åŸºäºå›å¤è¿›è¡Œæ„å›¾ï¼š</p>\n<p>æ•°æ®é›†ï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturespicturesimage-20211229111703044.png\" alt=\"image-20211229111703044\" /></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211229111758539.png\" alt=\"image-20211229111758539\" /></p>\n<h3 id=\"communities-level-loyalty\"><a class=\"anchor\" href=\"#communities-level-loyalty\">#</a> Communities-level Loyalty</h3>\n<p>è¿™ä¸ªè™½ç„¶ä¹Ÿå¾ˆé‡è¦ï¼Œä½†ä¸æ˜¯æˆ‘æ„Ÿå…´è¶£çš„ã€‚</p>\n<p>å°±æ˜¯ loyalty ç¤¾åŒºå…·æœ‰çš„å…±åŒå±æ€§ã€‚</p>\n<h3 id=\"user-level-loyalty\"><a class=\"anchor\" href=\"#user-level-loyalty\">#</a> User-level Loyalty</h3>\n<p>æ–‡ç« æå‡ºäº†ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼šloyal user é€šå¸¸åœ¨è¿›å…¥ç¤¾åŒºåå°±ä¼šæˆäº† loyal userï¼Œä¹Ÿå°±æ˜¯è¿™å…·æœ‰å†…åœ¨æ€§ã€‚</p>\n<p><strong>Post popularity</strong>ï¼šloyal user ä¼šé€‰æ‹©æ›´ä½ç‚¹èµæˆ–è¯„è®ºæ•°çš„ postã€‚</p>\n<h5 id=\"linguistic-style-of-comments\"><a class=\"anchor\" href=\"#linguistic-style-of-comments\">#</a> <strong>Linguistic style of comments</strong></h5>\n<p>ä½œè€…ç”¨äº† LIWC and computerized text analysis methods. æåˆ°çš„ä¸€äº›è¯­è¨€å­¦ç‰¹æ€§ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211229113238930.png\" alt=\"image-20211229113238930\" /></p>\n<h5 id=\"predicting-loyalty-from-first-contributions\"><a class=\"anchor\" href=\"#predicting-loyalty-from-first-contributions\">#</a> Predicting loyalty from first contributions</h5>\n<p>ä½œè€…è¿˜ä½¿ç”¨äº†æœ€åˆå¼€å§‹äº† 3 ä¸ªè¯„è®ºæ¥é¢„æµ‹ï¼Œä½¿ç”¨ä¸Šäº†è¯­è¨€å­¦ç‰¹æ€§å’Œ post score ä½œä¸ºé¢„æµ‹ï¼Œæ•ˆæœå¾ˆå¥½ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211229113404227.png\" alt=\"image-20211229113404227\" /></p>\n<h3 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h3>\n<p>è¿™ç¯‡è®ºæ–‡ç»™æˆ‘æœ€å¤§çš„å¯å‘ï¼Œæˆ‘è§‰å¾—å¯ä»¥å»æ•´ä¸€ç¯‡ â€”â€”viewer to contributiors to prefer to loyal è¿™ä¹ˆä¸€ä¸ªæ¼”å˜è¿‡ç¨‹ã€‚</p>\n<p>github ç”¨æˆ·åœ¨æˆä¸º contributor ä¹‹å‰ç»å†äº†ä»€ä¹ˆï¼Ÿstarã€forkã€issueï¼Ÿ</p>\n<p>issue çš„è¯­è¨€å­¦ç›¸å…³æ€§è´¨æ˜¯å¦ä¼šå¯¹ç”¨æˆ·æˆä¸º contributor æœ‰å½±å“ï¼Ÿ</p>\n<p>åœ¨æˆä¸º contributor ä¹‹å‰ repo æ˜¯å¦æœ‰ co-contributorï¼Ÿ</p>\n<p>loyal çš„æµå¤±æ˜¯å¦ä¼šæœ‰é•¿æœŸè¾ƒå¤§å½±å“ï¼Ÿ</p>\n<p>loyal ä¸é•¿æœŸè´¡çŒ®æ˜¯å¦æœ‰ç›¸å…³æ€§ï¼Ÿ</p>\n",
            "tags": [
                "è®ºæ–‡",
                "communities"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/ai/HetGNN%EF%BC%9A%E7%AE%97%E6%B3%95%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/",
            "url": "https://songlinlife.top/2021/ai/HetGNN%EF%BC%9A%E7%AE%97%E6%B3%95%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/",
            "title": "HetGNNï¼šç®—æ³•ç®€å•åˆ†æ",
            "date_published": "2021-12-23T11:52:03.000Z",
            "content_html": "<h3 id=\"æ€»è§ˆ\"><a class=\"anchor\" href=\"#æ€»è§ˆ\">#</a> æ€»è§ˆ</h3>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223195438799.png\" alt=\"image-20211223195438799\" /></p>\n<p>è¿™ä¸ªç®—æ³•ä¸»è¦åˆ†ä¸º 3 ä¸ªæ­¥éª¤ï¼š</p>\n<h3 id=\"sampling-heterogeneous-neighbors\"><a class=\"anchor\" href=\"#sampling-heterogeneous-neighbors\">#</a> Sampling Heterogeneous Neighbors</h3>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223195739287.png\" alt=\"image-20211223195739287\" /></p>\n<p>ç¬¬ä¸€æ­¥é‡‡æ ·å¾—åˆ°é‚»å±…èŠ‚ç‚¹ï¼Œä½œè€…çš„åšæ³•å°±æ˜¯ random walk with restartï¼ˆRWRï¼‰ã€‚è¿™ä¸ª RWR è¿‡ç¨‹ç›´æ¥åœ¨å¼‚æ„å›¾ä¸Šè¿›è¡Œï¼Œæ‰€ä»¥å®ƒä¼šé‡‡æ ·åˆ°å„ç§èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹æ•°è¾¾åˆ°äº†è®¾å®šçš„å›ºå®šèŠ‚ç‚¹æ•°ï¼Œå°±åœæ­¢é‡‡æ ·ã€‚</p>\n<p>ç¬¬äºŒæ­¥ï¼ŒGroup nodesã€‚å°±æŠŠé‡‡æ ·å¾—åˆ°çš„ä¸åŒèŠ‚ç‚¹ groupï¼Œé€‰å–æ¯ä¸ªç±»åˆ«ä¸‹ topk é¢‘ç‡çš„èŠ‚ç‚¹ä½œä¸ºé‚»å±…èŠ‚ç‚¹ã€‚</p>\n<h3 id=\"encoding-heterogeneous-contents\"><a class=\"anchor\" href=\"#encoding-heterogeneous-contents\">#</a> Encoding Heterogeneous Contents</h3>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223200126731.png\" alt=\"image-20211223200126731\" /></p>\n<p>å› ä¸ºå¼‚æ„å›¾ä¸Šä¸åŒèŠ‚ç‚¹çš„ content ä¸åŒï¼Œæœ‰çš„èŠ‚ç‚¹å¯èƒ½æ˜¯ textï¼Œæœ‰çš„å¯èƒ½æ˜¯ imageï¼Œæœ‰ä¸ªèŠ‚ç‚¹æ—¢æœ‰ image ä¹Ÿæœ‰ textã€‚è¿™ä¸€æ­¥åšçš„å°±æ˜¯æŠŠè¿™äº› content æå–å‡ºæ¥ï¼Œå¹¶è¾“å‡ºä¸€ä¸ª d ç»´çš„å‘é‡ã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223200627966.png\" alt=\"image-20211223200627966\" /></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>f</mi><mn>1</mn></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mrow><mi>i</mi><mo>âˆˆ</mo><msub><mi>C</mi><mi>v</mi></msub></mrow></munder><mrow><mo fence=\"true\">[</mo><mover accent=\"true\"><mrow><mi>L</mi><mi>S</mi><mi>T</mi><mi>M</mi></mrow><mo stretchy=\"true\">â†’</mo></mover><mrow><mo fence=\"true\">{</mo><mi mathvariant=\"script\">F</mi><msub><mi>C</mi><msub><mi>Î¸</mi><mi>x</mi></msub></msub><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">x</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">}</mo></mrow><mo>â¨</mo><mover accent=\"true\"><mrow><mi>L</mi><mi>S</mi><mi>T</mi><mi>M</mi></mrow><mo stretchy=\"true\">â†</mo></mover><mrow><mo fence=\"true\">{</mo><mi mathvariant=\"script\">F</mi><msub><mi>C</mi><msub><mi>Î¸</mi><mi>x</mi></msub></msub><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">x</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">}</mo></mrow><mo fence=\"true\">]</mo></mrow></mrow><mrow><mo fence=\"true\">âˆ£</mo><msub><mi>C</mi><mi>v</mi></msub><mo fence=\"true\">âˆ£</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">f_{1}(v)=\\frac{\\sum_{i \\in C_{v}}\\left[\\overrightarrow{L S T M}\\left\\{\\mathcal{F} C_{\\theta_{x}}\\left(\\mathrm{x}_{i}\\right)\\right\\} \\bigoplus \\overleftarrow{L S T M}\\left\\{\\mathcal{F} C_{\\theta_{x}}\\left(\\mathrm{x}_{i}\\right)\\right\\}\\right]}{\\left|C_{v}\\right|}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.18135em;vertical-align:-0.936em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.24535em;\"><span style=\"top:-2.51933em;\"><span class=\"pstrut\" style=\"height:3.20533em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">âˆ£</span></span></span></span><span style=\"top:-3.43533em;\"><span class=\"pstrut\" style=\"height:3.20533em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-4.24535em;\"><span class=\"pstrut\" style=\"height:3.20533em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.17862099999999992em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.07153em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.39981em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">[</span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.20533em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span><span class=\"svg-align\" style=\"top:-3.6833299999999998em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:0.888em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">â¨</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.20533em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span><span class=\"svg-align\" style=\"top:-3.6833299999999998em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:0.888em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">]</span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å€¼å¾—æ˜¯åŸå§‹çš„ contentï¼ŒFC æ˜¯å˜æ¢å‡½æ•°ï¼Œè¿™ä¸ª FC å¯ä»¥æ˜¯ CNN å¯ä»¥æ˜¯ RNNï¼Œåæ­£å°±æ˜¯å°†åŸæœ¬çš„ content è½¬æ¢ä¸ºå‘é‡ã€‚</p>\n<p>LSTM ç»“æ„ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msub><mi mathvariant=\"normal\">z</mi><mi>i</mi></msub><mo>=</mo><mi>Ïƒ</mi><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"script\">U</mi><mi>z</mi></msub><mi mathvariant=\"script\">F</mi><msub><mi>C</mi><msub><mi>Î¸</mi><mi>x</mi></msub></msub><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">x</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo>+</mo><msub><mi mathvariant=\"script\">W</mi><mi>z</mi></msub><msub><mrow><mtext>Â </mtext><mi mathvariant=\"normal\">h</mi></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi mathvariant=\"normal\">b</mi><mi>z</mi></msub><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msub><mi mathvariant=\"normal\">f</mi><mi>i</mi></msub><mo>=</mo><mi>Ïƒ</mi><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"script\">U</mi><mi>f</mi></msub><mi mathvariant=\"script\">F</mi><msub><mi>C</mi><msub><mi>Î¸</mi><mi>x</mi></msub></msub><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">x</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo>+</mo><msub><mi mathvariant=\"script\">W</mi><mi>f</mi></msub><msub><mrow><mtext>Â </mtext><mi mathvariant=\"normal\">h</mi></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi mathvariant=\"normal\">b</mi><mi>f</mi></msub><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msub><mi mathvariant=\"normal\">o</mi><mi>i</mi></msub><mo>=</mo><mi>Ïƒ</mi><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"script\">U</mi><mi>o</mi></msub><mi mathvariant=\"script\">F</mi><msub><mi>C</mi><msub><mi>Î¸</mi><mi>x</mi></msub></msub><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">x</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo>+</mo><msub><mi mathvariant=\"script\">W</mi><mi>o</mi></msub><msub><mrow><mtext>Â </mtext><mi mathvariant=\"normal\">h</mi></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi mathvariant=\"normal\">b</mi><mi>o</mi></msub><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msub><mover accent=\"true\"><mi mathvariant=\"normal\">c</mi><mo>^</mo></mover><mi>i</mi></msub><mo>=</mo><mi>tanh</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"script\">U</mi><mi>c</mi></msub><mi mathvariant=\"script\">F</mi><msub><mi>C</mi><msub><mi>Î¸</mi><mi>x</mi></msub></msub><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">x</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo>+</mo><msub><mi mathvariant=\"script\">W</mi><mi>c</mi></msub><msub><mrow><mtext>Â </mtext><mi mathvariant=\"normal\">h</mi></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi mathvariant=\"normal\">b</mi><mi>c</mi></msub><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msub><mi mathvariant=\"normal\">c</mi><mi>i</mi></msub><mo>=</mo><msub><mi mathvariant=\"normal\">f</mi><mi>i</mi></msub><mo>âˆ˜</mo><msub><mi mathvariant=\"normal\">c</mi><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi mathvariant=\"normal\">z</mi><mi>i</mi></msub><mo>âˆ˜</mo><msub><mover accent=\"true\"><mi mathvariant=\"normal\">c</mi><mo>^</mo></mover><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msub><mrow><mtext>Â </mtext><mi mathvariant=\"normal\">h</mi></mrow><mi>i</mi></msub><mo>=</mo><mi>tanh</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><msub><mi mathvariant=\"normal\">c</mi><mi>i</mi></msub><mo fence=\"true\">)</mo></mrow><mo>âˆ˜</mo><msub><mi mathvariant=\"normal\">o</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;\\mathrm{z}_{i}=\\sigma\\left(\\mathcal{U}_{z} \\mathcal{F} C_{\\theta_{x}}\\left(\\mathrm{x}_{i}\\right)+\\mathcal{W}_{z} \\mathrm{~h}_{i-1}+\\mathrm{b}_{z}\\right) \\\\\n&amp;\\mathrm{f}_{i}=\\sigma\\left(\\mathcal{U}_{f} \\mathcal{F} C_{\\theta_{x}}\\left(\\mathrm{x}_{i}\\right)+\\mathcal{W}_{f} \\mathrm{~h}_{i-1}+\\mathrm{b}_{f}\\right) \\\\\n&amp;\\mathrm{o}_{i}=\\sigma\\left(\\mathcal{U}_{o} \\mathcal{F} C_{\\theta_{x}}\\left(\\mathrm{x}_{i}\\right)+\\mathcal{W}_{o} \\mathrm{~h}_{i-1}+\\mathrm{b}_{o}\\right) \\\\\n&amp;\\hat{\\mathrm{c}}_{i}=\\tanh \\left(\\mathcal{U}_{c} \\mathcal{F} C_{\\theta_{x}}\\left(\\mathrm{x}_{i}\\right)+\\mathcal{W}_{c} \\mathrm{~h}_{i-1}+\\mathrm{b}_{c}\\right) \\\\\n&amp;\\mathrm{c}_{i}=\\mathrm{f}_{i} \\circ \\mathrm{c}_{i-1}+\\mathrm{z}_{i} \\circ \\hat{\\mathrm{c}}_{i} \\\\\n&amp;\\mathrm{~h}_{i}=\\tanh \\left(\\mathrm{c}_{i}\\right) \\circ \\mathrm{o}_{i}\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:9.000000000000002em;vertical-align:-4.250000000000001em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.750000000000001em;\"><span style=\"top:-6.750000000000001em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.749999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.249999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.7499999999999996em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:0.7500000000000009em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.250000000000001em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.750000000000001em;\"><span style=\"top:-6.910000000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">U</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.04398em;\">z</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08222em;\">W</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.04398em;\">z</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mspace nobreak\">Â </span><span class=\"mord mathrm\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">b</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.04398em;\">z</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\" style=\"margin-right:0.07778em;\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">U</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08222em;\">W</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mspace nobreak\">Â </span><span class=\"mord mathrm\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">b</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-3.9099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">o</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">U</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08222em;\">W</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mspace nobreak\">Â </span><span class=\"mord mathrm\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">b</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-2.4099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">c</span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mop\">tanh</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">U</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08222em;\">W</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mspace nobreak\">Â </span><span class=\"mord mathrm\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">b</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-0.9099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\" style=\"margin-right:0.07778em;\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ˜</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ˜</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">c</span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:0.5900000000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mspace nobreak\">Â </span><span class=\"mord mathrm\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mop\">tanh</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ˜</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">o</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.250000000000001em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>é€šè¿‡åŒå‘ LSTM æŠŠ content èšåˆèµ·æ¥ï¼Œæ³¨æ„è¿™ä¸€æ­¥çš„èšåˆæ˜¯åªèšåˆäº† contentï¼Œä¹Ÿå°±è¯´æ˜¯åœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šåšçš„ã€‚</p>\n<p>æœ€åé€šè¿‡ mean pooling è¾“å‡ºä¸€ä¸ª d ç»´å‘é‡ã€‚</p>\n<h3 id=\"aggregating-heterogeneous-neighbors\"><a class=\"anchor\" href=\"#aggregating-heterogeneous-neighbors\">#</a> Aggregating Heterogeneous Neighbors</h3>\n<p>ç¬¬ä¸€æ­¥å°±æ˜¯åŸºäºç›¸åŒ type çš„ neighbor èšåˆï¼š</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223201056370.png\" alt=\"image-20211223201056370\" /></p>\n<p>åŒæ ·ä½¿ç”¨ä¸€ä¸ª LSTM è¿›è¡Œèšåˆã€‚</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>f</mi><mn>2</mn><mi>t</mi></msubsup><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mrow><msup><mi>v</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>âˆˆ</mo><msub><mi>N</mi><mi>t</mi></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow></munder><mrow><mo fence=\"true\">[</mo><mover accent=\"true\"><mrow><mi>L</mi><mi>S</mi><mi>T</mi><mi>M</mi></mrow><mo stretchy=\"true\">â†’</mo></mover><mrow><mo fence=\"true\">{</mo><msub><mi>f</mi><mn>1</mn></msub><mrow><mo fence=\"true\">(</mo><msup><mi>v</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">}</mo></mrow><mo>â¨</mo><mover accent=\"true\"><mrow><mi>L</mi><mi>S</mi><mi>T</mi><mi>M</mi></mrow><mo stretchy=\"true\">â†</mo></mover><mrow><mo fence=\"true\">{</mo><msub><mi>f</mi><mn>1</mn></msub><mrow><mo fence=\"true\">(</mo><msup><mi>v</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">}</mo></mrow><mo fence=\"true\">]</mo></mrow></mrow><mrow><mo fence=\"true\">âˆ£</mo><msub><mi>N</mi><mi>t</mi></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo fence=\"true\">âˆ£</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">f_{2}^{t}(v)=\\frac{\\sum_{v^{\\prime} \\in N_{t}(v)}\\left[\\overrightarrow{L S T M}\\left\\{f_{1}\\left(v^{\\prime}\\right)\\right\\} \\bigoplus \\overleftarrow{L S T M}\\left\\{f_{1}\\left(v^{\\prime}\\right)\\right\\}\\right]}{\\left|N_{t}(v)\\right|}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.093556em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8435559999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.18135em;vertical-align:-0.936em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.24535em;\"><span style=\"top:-2.51933em;\"><span class=\"pstrut\" style=\"height:3.20533em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0em;\">âˆ£</span></span></span></span><span style=\"top:-3.43533em;\"><span class=\"pstrut\" style=\"height:3.20533em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-4.24535em;\"><span class=\"pstrut\" style=\"height:3.20533em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.22528999999999993em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6828285714285715em;\"><span style=\"top:-2.786em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.29634285714285713em;\"><span style=\"top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.47471em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">[</span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.20533em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span><span class=\"svg-align\" style=\"top:-3.6833299999999998em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:0.888em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">â¨</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.20533em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span><span class=\"svg-align\" style=\"top:-3.6833299999999998em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:0.888em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">]</span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<blockquote>\n<p>Using different Bi-LSTMs to distinguish different node types for neighbors aggregation.</p>\n</blockquote>\n<p>ç¬¬äºŒæ­¥ï¼Œèšåˆä¸åŒ type çš„ neighbor ä¿¡æ¯ï¼š</p>\n<p>ä¸åŒçš„ embedding å¯¹äºèŠ‚ç‚¹çš„ä½œç”¨ä¸åŒï¼Œå…¶ä¸­<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mn>1</mn></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f_1(v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span> æ˜¯èŠ‚ç‚¹ v ç»è¿‡ encoder é˜¶æ®µäº§ç”Ÿçš„å‘é‡ã€‚å…¶ä¸­<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">F</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>âˆª</mo><mrow><mo fence=\"true\">(</mo><msubsup><mi>f</mi><mn>2</mn><mi>t</mi></msubsup><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>t</mi><mo>âˆˆ</mo><msub><mi>O</mi><mi>V</mi></msub><mo fence=\"true\">)</mo></mrow></mrow></mrow><annotation encoding=\"application/x-tex\">\\mathcal{F}(v)=\\left\\{f_{1}(v) \\cup\\left(f_{2}^{t}(v), t \\in O_{V}\\right)\\right.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.043556em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆª</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-2.4518920000000004em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.24810799999999997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msub><mi mathvariant=\"script\">E</mi><mi>v</mi></msub><mo>=</mo><munder><mo>âˆ‘</mo><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>âˆˆ</mo><mi mathvariant=\"script\">F</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow></munder><msup><mi>Î±</mi><mrow><mi>v</mi><mo separator=\"true\">,</mo><mi>i</mi></mrow></msup><msub><mi>f</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msup><mi>Î±</mi><mrow><mi>v</mi><mo separator=\"true\">,</mo><mi>i</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>exp</mi><mo>â¡</mo><mrow><mo fence=\"true\">{</mo><mi>L</mi><mi>e</mi><mi>a</mi><mi>k</mi><mi>y</mi><mi mathvariant=\"normal\">ReLU</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>u</mi><mi>T</mi></msup><mrow><mo fence=\"true\">[</mo><msub><mi>f</mi><mi>i</mi></msub><mo>â¨</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">}</mo></mrow></mrow><mrow><munder><mo>âˆ‘</mo><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>âˆˆ</mo><mi mathvariant=\"script\">F</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi>exp</mi><mo>â¡</mo><mrow><mo fence=\"true\">{</mo><mi mathvariant=\"normal\"><mi mathvariant=\"normal\">L</mi><mi mathvariant=\"normal\">e</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">k</mi><mi mathvariant=\"normal\">y</mi><mi mathvariant=\"normal\">R</mi><mi mathvariant=\"normal\">e</mi><mi mathvariant=\"normal\">L</mi><mi mathvariant=\"normal\">U</mi><mo stretchy=\"false\">(</mo><msup><mi mathvariant=\"normal\">u</mi><mi mathvariant=\"normal\">T</mi></msup></mi><mo>â¡</mo><mrow><mo fence=\"true\">[</mo><msub><mi>f</mi><mi>j</mi></msub><mo>âŠ•</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">}</mo></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gathered}\n\\mathcal{E}_{v}=\\sum_{f_{i} \\in \\mathcal{F}(v)} \\alpha^{v, i} f_{i} \\\\\n\\alpha^{v, i}=\\frac{\\exp \\left\\{L e a k y \\operatorname{ReLU}\\left(u^{T}\\left[f_{i} \\bigoplus f_{1}(v)\\right]\\right)\\right\\}}{\\left.\\sum_{f_{j} \\in \\mathcal{F}(v)} \\exp \\left\\{\\operatorname{LeakyReLU(u^{T}}\\left[f_{j} \\oplus f_{1}(v)\\right]\\right)\\right\\}}\n\\end{gathered}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6.446040000000001em;vertical-align:-2.9730200000000004em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.4730200000000004em;\"><span style=\"top:-6.013025000000001em;\"><span class=\"pstrut\" style=\"height:3.59001em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08944em;\">E</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.050005em;\"><span style=\"top:-1.808995em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.0500049999999996em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.516005em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.874664em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.60701em;\"><span class=\"pstrut\" style=\"height:3.59001em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.874664em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.59001em;\"><span style=\"top:-2.11em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen nulldelimiter\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.22528999999999982em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.09931em;\">F</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.49703em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">exp</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mop\"><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">a</span><span class=\"mord mathrm\">k</span><span class=\"mord mathrm\" style=\"margin-right:0.01389em;\">y</span><span class=\"mord mathrm\">R</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">U</span><span class=\"mord mathrm\">(</span><span class=\"mord\"><span class=\"mord mathrm\">u</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.767331em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathrm mtight\">T</span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âŠ•</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">}</span></span></span></span></span><span style=\"top:-3.38em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.89001em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span class=\"mord\"><span class=\"mop\">exp</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">{</span></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">R</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">U</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">â¨</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">}</span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69002em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.9730200000000004em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223202413189.png\" alt=\"image-20211223202413189\" /></p>\n",
            "tags": [
                "AI",
                "GNN",
                "å¼‚æ„å›¾"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/%E8%AF%BB%E5%90%8E%E6%84%9F%EF%BC%9AAre-we-really-making-much-progress-Revisiting-benchmarking-and-refining-heterogeneous-graph-neural-networks/",
            "url": "https://songlinlife.top/2021/%E8%AF%BB%E5%90%8E%E6%84%9F%EF%BC%9AAre-we-really-making-much-progress-Revisiting-benchmarking-and-refining-heterogeneous-graph-neural-networks/",
            "title": "è¯»åæ„Ÿï¼šAre we really making much progress? Revisiting, benchmarking, and refining  heterogeneous graph neural networks(è¯¦è§£)",
            "date_published": "2021-12-23T08:51:12.000Z",
            "content_html": "<h3 id=\"è¯»åæ„Ÿ\"><a class=\"anchor\" href=\"#è¯»åæ„Ÿ\">#</a> è¯»åæ„Ÿ</h3>\n<p>æœ€è¿‘è¢«å¸ˆå…„æ¨èäº†ä¸€ç¯‡å¼‚æ„å›¾ç»¼è¿°æ€§è´¨çš„æ–‡ç« ã€‚æ„Ÿè§‰çœ‹äº†ä¹‹åæŒºæœ‰æ”¶è·çš„ï¼Œå°±æŠŠè‡ªå·±çš„ç†è§£å†™ä¸‹æ¥ã€‚</p>\n<h3 id=\"è®ºæ–‡æ ¸å¿ƒæ€æƒ³\"><a class=\"anchor\" href=\"#è®ºæ–‡æ ¸å¿ƒæ€æƒ³\">#</a> è®ºæ–‡æ ¸å¿ƒæ€æƒ³</h3>\n<p>GAT ç­‰åŸºäºåŒæ„å›¾çš„ç®—æ³•åº”ç”¨åœ¨å¼‚æ„å›¾ä¸Šæœªå¿…æ¯”åº”ç”¨åœ¨é‚£äº›ä¸ºå¼‚æ„å›¾è®¾è®¡çš„ç®—æ³•è¦å·®ã€‚</p>\n<h3 id=\"è®ºæ–‡è´¡çŒ®\"><a class=\"anchor\" href=\"#è®ºæ–‡è´¡çŒ®\">#</a> è®ºæ–‡è´¡çŒ®</h3>\n<ul>\n<li>ç³»ç»Ÿæ€§åœ°æ•´åˆäº†ç°æœ‰çš„å¼‚æ„å›¾ç®—æ³•çš„æ•ˆæœã€‚</li>\n<li>æå‡ºäº† HGBï¼ˆå¼‚æ„å›¾çš„ benchmarkï¼‰</li>\n<li>æå‡ºäº† simple-HGN æ¨¡å‹</li>\n</ul>\n<h3 id=\"ä»¥å‰çš„æ¨¡å‹\"><a class=\"anchor\" href=\"#ä»¥å‰çš„æ¨¡å‹\">#</a> ä»¥å‰çš„æ¨¡å‹</h3>\n<h4 id=\"node-classification\"><a class=\"anchor\" href=\"#node-classification\">#</a> node classification</h4>\n<ul>\n<li>HAN ï¼ˆè¿™ä¸ªä¹‹å‰å¤ç°è¿‡æ•ˆæœè¿˜è¡Œï¼‰</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><strong>GCN</strong></th>\n<th><strong>GAT</strong></th>\n<th><strong>HAN_sem</strong></th>\n<th><strong>HAN_nd</strong></th>\n<th style=\"text-align:center\"><strong>HAN</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Micro  F1</td>\n<td>0.8442/0.6687</td>\n<td>0.8508/0.6664</td>\n<td>0.8673</td>\n<td>0.8640</td>\n<td style=\"text-align:center\">0.8819</td>\n</tr>\n<tr>\n<td>Macro  F1</td>\n<td>0.8430/0.66709</td>\n<td>0.8503/0.6743</td>\n<td>0.8673</td>\n<td>0.8651</td>\n<td style=\"text-align:center\">0.8820</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>GTN Graph transformer network</li>\n<li>RSHN  Relation structure-aware heterogeneous graph neural network</li>\n<li>HetGNN heterogeneous graph neural networkï¼ˆè¿™ä¸ªç®—æ³•è¿˜æ˜¯å¾ˆä¼˜ç§€çš„ï¼Œæ„Ÿè§‰ï¼Œæ€è·¯å¾ˆæ¸…æ¥šï¼‰</li>\n<li>MAGNN meta-path aggregate graph neural networkï¼ŒHAN çš„åŠ å¼ºç‰ˆã€‚</li>\n<li>HGT heterogeneous graph transformer</li>\n<li>HetSANN Attention-based graph neural network for heterogeneous structural learning (è¿™ä¸ªç®—æ³•ç»†èŠ‚æ²¡æœ‰ç»™å‡ºï¼‰</li>\n</ul>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223190630122.png\" alt=\"image-20211223190630122\" /></p>\n<h4 id=\"link-prediction\"><a class=\"anchor\" href=\"#link-prediction\">#</a> Link Prediction</h4>\n<ul>\n<li>\n<p>RGCN ç®€å•çš„å¼‚æ„å›¾æ¶ˆæ¯ä¼ é€’æ¨¡å‹</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223191525111.png\" alt=\"image-20211223191525111\" /></p>\n</li>\n<li>\n<p>GATNE General attributed multiplex heterogeneous network embedding</p>\n</li>\n</ul>\n<h4 id=\"knowledge-aware-recommendation\"><a class=\"anchor\" href=\"#knowledge-aware-recommendation\">#</a> Knowledge-Aware Recommendation</h4>\n<ul>\n<li>KGCNã€KGNN-LS</li>\n<li>KGAT</li>\n</ul>\n<h3 id=\"è¿™äº›æ¨¡å‹å­˜åœ¨çš„é—®é¢˜\"><a class=\"anchor\" href=\"#è¿™äº›æ¨¡å‹å­˜åœ¨çš„é—®é¢˜\">#</a> è¿™äº›æ¨¡å‹å­˜åœ¨çš„é—®é¢˜</h3>\n<p>è¿™äº›æ¨¡å‹éƒ½æˆ–å¤šæˆ–å°‘æœ‰äº›é—®é¢˜ï¼Œä¸€ä¸ªå¸¸è§çš„é—®é¢˜å°±æ˜¯â€˜information missing in homogeneous baselinesâ€™ ã€‚å°±ä¹‹å‰çœ‹çš„ HAN ä¸ºä¾‹å­ï¼ŒHAN ä½¿ç”¨äº† Metapath å°†å¼‚æ„å›¾æå–ä¸ºåŒæ„å›¾ã€‚ä½† GAT ä½œä¸º baseline åªä½œç”¨åœ¨äº†ä¸€ä¸ª Metapath æå–çš„ subgraph ä¸Šã€‚</p>\n<h3 id=\"dataset\"><a class=\"anchor\" href=\"#dataset\">#</a> Dataset</h3>\n<h4 id=\"node-classification-2\"><a class=\"anchor\" href=\"#node-classification-2\">#</a> node classification</h4>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223191818247.png\" alt=\"image-20211223191818247\" /></p>\n<h4 id=\"link-prediction-2\"><a class=\"anchor\" href=\"#link-prediction-2\">#</a> Link Prediction</h4>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223191904472.png\" alt=\"image-20211223191904472\" /></p>\n<h4 id=\"knowledge-aware-recommendation-2\"><a class=\"anchor\" href=\"#knowledge-aware-recommendation-2\">#</a> Knowledge-Aware Recommendation</h4>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223191934225.png\" alt=\"image-20211223191934225\" /></p>\n<h3 id=\"pipeline\"><a class=\"anchor\" href=\"#pipeline\">#</a> pipeline</h3>\n<p>è¿™æ˜¯è®ºæ–‡ä¸­ç»™å‡ºçš„ pipeline çš„ç¤ºæ„å›¾ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ Feature Preprocessingã€HGNNã€Downstream Decordersã€‚</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223192018555.png\" alt=\"image-20211223192018555\" /></p>\n<h4 id=\"feature-preprocessing\"><a class=\"anchor\" href=\"#feature-preprocessing\">#</a> Feature Preprocessing</h4>\n<h5 id=\"linear-transformation\"><a class=\"anchor\" href=\"#linear-transformation\">#</a> Linear Transformation</h5>\n<p>ç‰¹å¾æ˜ å°„ç›¸åŒç»´åº¦ï¼šproject feature of different types of nodes to a share vec space.</p>\n<h5 id=\"useful-types-selection\"><a class=\"anchor\" href=\"#useful-types-selection\">#</a> Useful Types Selection</h5>\n<p>é€‰æ‹©æœ‰ç”¨çš„ type èŠ‚ç‚¹ã€‚è¿™é‡Œä½œè€…çš„åšæ³•æ˜¯ä¿ç•™ç‰¹å®š type èŠ‚ç‚¹çš„ç‰¹å¾ï¼Œå°†å…¶ä»– type èŠ‚ç‚¹ç‰¹å¾å…¨ç”¨ one-hot ä»£æ›¿ã€‚</p>\n<h4 id=\"downstream-decoders-and-loss-function\"><a class=\"anchor\" href=\"#downstream-decoders-and-loss-function\">#</a> Downstream Decoders and Loss function</h4>\n<p>è¯´ç™½äº†å°±æ˜¯æ ¹æ®ä¸‹æ¸¸ä»»åŠ¡é€‰æ‹© decoderï¼Œå¯¹äº Node Classification é‚£ä¹ˆå°±æ˜¯é€‰æ‹©äº¤å‰ç†µã€‚</p>\n<h3 id=\"a-simple-heterogeneous-gnn\"><a class=\"anchor\" href=\"#a-simple-heterogeneous-gnn\">#</a> A SIMPLE HETEROGENEOUS GNN</h3>\n<p>è¿™é‡Œç®€å•è¯´ä¸€ä¸‹è¿™ä¸ªæ¨¡å‹ï¼Œè®ºæ–‡é‡Œè¿˜æ˜¯è¯´çš„å¾ˆæ¸…æ¥šçš„ã€‚</p>\n<h4 id=\"learnable-edge-type-embedding\"><a class=\"anchor\" href=\"#learnable-edge-type-embedding\">#</a> Learnable Edge-type Embedding</h4>\n<p>æ¨¡å‹æ¯ä¸€å±‚ç»™æ¯ä¸€ç§è¾¹ç±»å‹åˆ†é…ä¸€ä¸ªå¯å­¦ä¹ çš„ embeddingã€‚</p>\n<p>attention ç³»æ•°ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mover accent=\"true\"><mi>Î±</mi><mo>^</mo></mover><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>exp</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><mi mathvariant=\"normal\">LeakyReLU</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>a</mi><mi>T</mi></msup><mrow><mo fence=\"true\">[</mo><mi>W</mi><msub><mi>h</mi><mi>i</mi></msub><mrow><mo fence=\"true\">âˆ¥</mo><mi>W</mi><msub><mi>h</mi><mi>j</mi></msub><mo fence=\"true\">âˆ¥</mo></mrow><msub><mi>W</mi><mi>r</mi></msub><msub><mi>r</mi><mrow><mi>Ïˆ</mi><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">âŸ¨</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">âŸ©</mo><mo stretchy=\"false\">)</mo></mrow></msub><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><mrow><munder><mo>âˆ‘</mo><mrow><mi>k</mi><mo>âˆˆ</mo><msub><mi mathvariant=\"script\">N</mi><mi>i</mi></msub></mrow></munder><mi>exp</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><mi mathvariant=\"normal\">LeakyReLU</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>a</mi><mi>T</mi></msup><mrow><mo fence=\"true\">[</mo><mi>W</mi><msub><mi>h</mi><mi>i</mi></msub><mrow><mo fence=\"true\">âˆ¥</mo><mi>W</mi><msub><mi>h</mi><mi>k</mi></msub><mo fence=\"true\">âˆ¥</mo></mrow><msub><mi>W</mi><mi>r</mi></msub><msub><mi>r</mi><mi>Ïˆ</mi></msub><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">âŸ¨</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi><mo stretchy=\"false\">âŸ©</mo><mo stretchy=\"false\">)</mo><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\hat{\\alpha}_{i j}=\\frac{\\exp \\left(\\operatorname{LeakyReLU}\\left(a^{T}\\left[W h_{i}\\left\\|W h_{j}\\right\\| W_{r} r_{\\psi(\\langle i, j\\rangle)}\\right]\\right)\\right)}{\\sum_{k \\in \\mathcal{N}_{i}} \\exp \\left(\\operatorname{LeakyReLU}\\left(a^{T}\\left[W h_{i}\\left\\|W h_{k}\\right\\| W_{r} r_{\\psi}(\\langle i, k\\rangle)\\right]\\right)\\right)}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.980548em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.22222em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.6810099999999997em;vertical-align:-1.08581em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5951999999999997em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18639799999999995em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.14736em;\">N</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.39981em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">exp</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mop\"><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">a</span><span class=\"mord mathrm\">k</span><span class=\"mord mathrm\" style=\"margin-right:0.01389em;\">y</span><span class=\"mord mathrm\">R</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">U</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.767331em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">âˆ¥</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">âˆ¥</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">Ïˆ</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mopen\">âŸ¨</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">âŸ©</span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.7451999999999996em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">exp</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mop\"><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">a</span><span class=\"mord mathrm\">k</span><span class=\"mord mathrm\" style=\"margin-right:0.01389em;\">y</span><span class=\"mord mathrm\">R</span><span class=\"mord mathrm\">e</span><span class=\"mord mathrm\">L</span><span class=\"mord mathrm\">U</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">[</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">âˆ¥</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">âˆ¥</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">Ïˆ</span><span class=\"mopen mtight\">(</span><span class=\"mopen mtight\">âŸ¨</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose mtight\">âŸ©</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">]</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.08581em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>Ïˆ</mi><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">âŸ¨</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">âŸ©</mo><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{\\psi(\\langle i, j\\rangle)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7857599999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">Ïˆ</span><span class=\"mopen mtight\">(</span><span class=\"mopen mtight\">âŸ¨</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose mtight\">âŸ©</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span> å°±æ˜¯è¾¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ïˆ</mi><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">âŸ¨</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">âŸ©</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\psi(\\langle i, j\\rangle)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïˆ</span><span class=\"mopen\">(</span><span class=\"mopen\">âŸ¨</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">âŸ©</span><span class=\"mclose\">)</span></span></span></span> çš„ embeddingã€‚è¿™ä¸ª<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>W</mi><mi>r</mi></msub></mrow><annotation encoding=\"application/x-tex\">W_r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¹Ÿæ˜¯ä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•°ã€‚</p>\n<h4 id=\"residual-connection\"><a class=\"anchor\" href=\"#residual-connection\">#</a> Residual Connection</h4>\n<h5 id=\"node-residual\"><a class=\"anchor\" href=\"#node-residual\">#</a> Node Residual</h5>\n<p>è¿™é‡Œçš„ node residual è¿˜æ˜¯ç®€å•çš„ï¼Œå°±æ˜¯åŸæœ¬çš„ residual æ–¹æ³•åŠ å…¥ä¸ª<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>W</mi><mrow><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup></mrow><annotation encoding=\"application/x-tex\">W_{ses}^{(l)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.161392em;vertical-align:-0.11659199999999997em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">s</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span></span></span></span> å¯å­¦ä¹ å‚æ•°ã€‚</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi>Ïƒ</mi><mrow><mo fence=\"true\">(</mo><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi mathvariant=\"script\">N</mi><mi>i</mi></msub></mrow></munder><msubsup><mi>Î±</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><msup><mi>W</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msup><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>j</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>+</mo><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{h}_{i}^{(l)}=\\sigma\\left(\\sum_{j \\in \\mathcal{N}_{i}} \\alpha_{i j}^{(l)} W^{(l)} \\boldsymbol{h}_{j}^{(l-1)}+\\boldsymbol{h}_{i}^{(l-1)}\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.321664em;vertical-align:-0.27686399999999994em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.60004em;vertical-align:-1.55002em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05002em;\"><span style=\"top:-2.2500000000000004em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â</span></span></span><span style=\"top:-3.2550000000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"overlay\" style=\"height:0.3em;width:0.875em;\"><svg width='0.875em' height='0.3em' style='width:0.875em' viewBox='0 0 875 300' preserveAspectRatio='xMinYMin'><path d='M291 0 H417 V300 H291 z'/></svg></span></span><span style=\"top:-4.05002em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â›</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55002em;\"><span></span></span></span></span></span></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.050005em;\"><span style=\"top:-1.8556639999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.14736em;\">N</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.0500049999999996em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.430444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.412972em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4129719999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05002em;\"><span style=\"top:-2.2500000000000004em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â </span></span></span><span style=\"top:-3.2550000000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"overlay\" style=\"height:0.3em;width:0.875em;\"><svg width='0.875em' height='0.3em' style='width:0.875em' viewBox='0 0 875 300' preserveAspectRatio='xMinYMin'><path d='M457 0 H583 V300 H457 z'/></svg></span></span><span style=\"top:-4.05002em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi>Ïƒ</mi><mrow><mo fence=\"true\">(</mo><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi mathvariant=\"script\">N</mi><mi>i</mi></msub></mrow></munder><msubsup><mi>Î±</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><msup><mi>W</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msup><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>j</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>+</mo><msubsup><mi>W</mi><mrow><mi mathvariant=\"normal\">r</mi><mi mathvariant=\"normal\">e</mi><mi mathvariant=\"normal\">s</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{h}_{i}^{(l)}=\\sigma\\left(\\sum_{j \\in \\mathcal{N}_{i}} \\alpha_{i j}^{(l)} W^{(l)} \\boldsymbol{h}_{j}^{(l-1)}+W_{\\mathrm{res}}^{(l)} \\boldsymbol{h}_{i}^{(l-1)}\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.321664em;vertical-align:-0.27686399999999994em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.60004em;vertical-align:-1.55002em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05002em;\"><span style=\"top:-2.2500000000000004em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â</span></span></span><span style=\"top:-3.2550000000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"overlay\" style=\"height:0.3em;width:0.875em;\"><svg width='0.875em' height='0.3em' style='width:0.875em' viewBox='0 0 875 300' preserveAspectRatio='xMinYMin'><path d='M291 0 H417 V300 H291 z'/></svg></span></span><span style=\"top:-4.05002em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â›</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55002em;\"><span></span></span></span></span></span></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.050005em;\"><span style=\"top:-1.8556639999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.14736em;\">N</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.0500049999999996em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.430444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.412972em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4129719999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathrm mtight\">r</span><span class=\"mord mathrm mtight\">e</span><span class=\"mord mathrm mtight\">s</span></span></span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05002em;\"><span style=\"top:-2.2500000000000004em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â </span></span></span><span style=\"top:-3.2550000000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"overlay\" style=\"height:0.3em;width:0.875em;\"><svg width='0.875em' height='0.3em' style='width:0.875em' viewBox='0 0 875 300' preserveAspectRatio='xMinYMin'><path d='M457 0 H583 V300 H457 z'/></svg></span></span><span style=\"top:-4.05002em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h5 id=\"edge-residual\"><a class=\"anchor\" href=\"#edge-residual\">#</a> Edge Residual</h5>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>Î±</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î²</mi><mo stretchy=\"false\">)</mo><msubsup><mover accent=\"true\"><mi>Î±</mi><mo>^</mo></mover><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>+</mo><mi>Î²</mi><msubsup><mi>Î±</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mover accent=\"true\"><mi>h</mi><mo>^</mo></mover><mrow><mi>i</mi><mi>k</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi mathvariant=\"script\">N</mi><mi>i</mi></msub></mrow></munder><msubsup><mi>Î±</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><msubsup><mi>W</mi><mi>k</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><msubsup><mi>h</mi><mi>j</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi>Ïƒ</mi><mrow><mo fence=\"true\">(</mo><munderover><mo>âˆ</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><msubsup><mover accent=\"true\"><mi>h</mi><mo>^</mo></mover><mrow><mi>i</mi><mi>k</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>+</mo><msubsup><mi>W</mi><mrow><mi mathvariant=\"normal\">res</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><msubsup><mi>h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gathered}\n\\alpha_{i j k}^{(l)}=(1-\\beta) \\hat{\\alpha}_{i j k}^{(l)}+\\beta \\alpha_{i j k}^{(l-1)} \\\\\n\\hat{h}_{i k}^{(l)}=\\sum_{j \\in \\mathcal{N}_{i}} \\alpha_{i j k}^{(l)} W_{k}^{(l)} h_{j}^{(l-1)} \\\\\nh_{i}^{(l)}=\\sigma\\left(\\prod_{k=1}^{K} \\hat{h}_{i k}^{(l)}+W_{\\operatorname{res}(k)}^{(l)} h_{i}^{(l-1)}\\right)\n\\end{gathered}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:7.993114em;vertical-align:-3.746557em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.246557em;\"><span style=\"top:-7.030093em;\"><span class=\"pstrut\" style=\"height:3.828336em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374159999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.22222em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374159999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374159999999999em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-5.242672000000001em;\"><span class=\"pstrut\" style=\"height:3.828336em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9578799999999998em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span></span></span><span style=\"top:-3.26344em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3013079999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.050005em;\"><span style=\"top:-1.8556639999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.14736em;\">N</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.0500049999999996em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.430444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374159999999999em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3013079999999999em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.412972em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-1.6838920000000002em;\"><span class=\"pstrut\" style=\"height:3.828336em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">(</span></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283360000000002em;\"><span style=\"top:-1.8478869999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.0500049999999996em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ</span></span></span><span style=\"top:-4.300005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.302113em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9578799999999998em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span></span></span><span style=\"top:-3.26344em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3013079999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3598em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mord mathrm mtight\">r</span><span class=\"mord mathrm mtight\">e</span><span class=\"mord mathrm mtight\">s</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5151999999999999em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">)</span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.746557em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>è¯´ç™½äº†å°±æ˜¯ attention åŠ äº†ä¸ªåŠ¨é‡ï¼Œè¿™ä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î²</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span></span></span></span> æ˜¯ä¸€ä¸ªè¶…å‚æ•°ã€‚</p>\n<h5 id=\"adaptation-for-link-prediction\"><a class=\"anchor\" href=\"#adaptation-for-link-prediction\">#</a> Adaptation for Link Prediction.</h5>\n<blockquote>\n<p>We slightly modify the model architecture for better performance on link prediction. Edge residual is removed and the final embedding is the concatenation of embeddings from all the layers. This adapted version is similar to JKNet.</p>\n</blockquote>\n<h5 id=\"l2-norm\"><a class=\"anchor\" href=\"#l2-norm\">#</a> L2 Norm</h5>\n<p>åœ¨ output å±‚åŠ ä¸Šä¸€ä¸ª L2 norm</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>o</mi><mi>i</mi></msub><mo>=</mo><mfrac><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>L</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mrow><mo fence=\"true\">âˆ¥</mo><msubsup><mi mathvariant=\"bold-italic\">h</mi><mi>i</mi><mrow><mo stretchy=\"false\">(</mo><mi>L</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo fence=\"true\">âˆ¥</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">o_{i}=\\frac{\\boldsymbol{h}_{i}^{(L)}}{\\left\\|\\boldsymbol{h}_{i}^{(L)}\\right\\|}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.43579em;vertical-align:-1.71399em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7218em;\"><span style=\"top:-2.11em;\"><span class=\"pstrut\" style=\"height:3.173975em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.173975em;\"><span style=\"top:-1.955985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span><span style=\"top:-2.556985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span><span style=\"top:-2.572975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span><span style=\"top:-3.173975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6500149999999999em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">L</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.173975em;\"><span style=\"top:-1.955985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span><span style=\"top:-2.556985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span><span style=\"top:-2.572975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span><span style=\"top:-3.173975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ¥</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6500149999999999em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.403975em;\"><span class=\"pstrut\" style=\"height:3.173975em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.850975em;\"><span class=\"pstrut\" style=\"height:3.173975em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">h</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.4231360000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">L</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.71399em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<h4 id=\"benchmark\"><a class=\"anchor\" href=\"#benchmark\">#</a> benchmark</h4>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211223194917860.png\" alt=\"image-20211223194917860\" /></p>\n",
            "tags": [
                "AI",
                "GNN"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/ai/DGL-04-%E8%AE%AD%E7%BB%83%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/",
            "url": "https://songlinlife.top/2021/ai/DGL-04-%E8%AE%AD%E7%BB%83%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/",
            "title": "DGL(04): è®­ç»ƒå›¾ç¥ç»ç½‘ç»œ",
            "date_published": "2021-12-16T03:38:27.000Z",
            "content_html": "<h3 id=\"è®­ç»ƒå›¾ç¥ç»ç½‘ç»œ\"><a class=\"anchor\" href=\"#è®­ç»ƒå›¾ç¥ç»ç½‘ç»œ\">#</a> è®­ç»ƒå›¾ç¥ç»ç½‘ç»œ</h3>\n<h4 id=\"èŠ‚ç‚¹åˆ†ç±»\"><a class=\"anchor\" href=\"#èŠ‚ç‚¹åˆ†ç±»\">#</a> èŠ‚ç‚¹åˆ†ç±»</h4>\n<h5 id=\"ç½‘ç»œæ¨¡å‹\"><a class=\"anchor\" href=\"#ç½‘ç»œæ¨¡å‹\">#</a> ç½‘ç»œæ¨¡å‹</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ„å»ºä¸€ä¸ª 2 å±‚çš„ GNN æ¨¡å‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> dgl<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> dglnn</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> nn </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> torch</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> dgl</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn<span class=\"token punctuation\">.</span>functional <span class=\"token keyword\">as</span> F </pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">SAGE</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> in_feats<span class=\"token punctuation\">,</span> hid_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\"># å®ä¾‹åŒ– SAGEConveï¼Œin_feats æ˜¯è¾“å…¥ç‰¹å¾çš„ç»´åº¦ï¼Œout_feats æ˜¯è¾“å‡ºç‰¹å¾çš„ç»´åº¦ï¼Œaggregator_type æ˜¯èšåˆå‡½æ•°çš„ç±»å‹</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        self<span class=\"token punctuation\">.</span>conv1 <span class=\"token operator\">=</span> dglnn<span class=\"token punctuation\">.</span>SAGEConv<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            in_feats<span class=\"token operator\">=</span>in_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token operator\">=</span>hid_feats<span class=\"token punctuation\">,</span> aggregator_type<span class=\"token operator\">=</span><span class=\"token string\">'mean'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        self<span class=\"token punctuation\">.</span>conv2 <span class=\"token operator\">=</span> dglnn<span class=\"token punctuation\">.</span>SAGEConv<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            in_feats<span class=\"token operator\">=</span>hid_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token operator\">=</span>out_feats<span class=\"token punctuation\">,</span> aggregator_type<span class=\"token operator\">=</span><span class=\"token string\">'mean'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">,</span> inputs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\"># è¾“å…¥æ˜¯èŠ‚ç‚¹çš„ç‰¹å¾</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        h <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>conv1<span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> inputs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        h <span class=\"token operator\">=</span> F<span class=\"token punctuation\">.</span>relu<span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        h <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>conv2<span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">return</span> h</pre></td></tr></table></figure><h5 id=\"å¯¼å…¥æ•°æ®\"><a class=\"anchor\" href=\"#å¯¼å…¥æ•°æ®\">#</a> å¯¼å…¥æ•°æ®</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>graph <span class=\"token operator\">=</span> CiteseerGraphDataset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>graph <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span><span class=\"token string\">'cuda'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># æ”¾åˆ° cuda ä¸Šè¿›è¡Œè®­ç»ƒ</span></pre></td></tr></table></figure><p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211216121156432.png\" alt=\"image-20211216121156432\" /></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211216121353467.png\" alt=\"image-20211216121353467\" /></p>\n<p>å¯ä»¥çœ‹åˆ°åªæ˜¯ç”¨äº† 120 ä¸ªè®­ç»ƒèŠ‚ç‚¹ã€‚</p>\n<h5 id=\"å¤„ç†mask\"><a class=\"anchor\" href=\"#å¤„ç†mask\">#</a> å¤„ç† mask</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>node_features <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'feat'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>node_labels <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>train_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'train_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>valid_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'val_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>test_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'test_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>n_features <span class=\"token operator\">=</span> node_features<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>n_labels <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>node_labels<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h5 id=\"è¯„ä¼°å‡½æ•°\"><a class=\"anchor\" href=\"#è¯„ä¼°å‡½æ•°\">#</a> è¯„ä¼°å‡½æ•°</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">,</span> features<span class=\"token punctuation\">,</span> labels<span class=\"token punctuation\">,</span> mask<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    model<span class=\"token punctuation\">.</span><span class=\"token builtin\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">with</span> torch<span class=\"token punctuation\">.</span>no_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        logits <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> features<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        logits <span class=\"token operator\">=</span> logits<span class=\"token punctuation\">[</span>mask<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        labels <span class=\"token operator\">=</span> labels<span class=\"token punctuation\">[</span>mask<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        _<span class=\"token punctuation\">,</span> indices <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>logits<span class=\"token punctuation\">,</span> dim<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        correct <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>indices <span class=\"token operator\">==</span> labels<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">return</span> correct<span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.0</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>labels<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h5 id=\"è®­ç»ƒè¿‡ç¨‹\"><a class=\"anchor\" href=\"#è®­ç»ƒè¿‡ç¨‹\">#</a> è®­ç»ƒè¿‡ç¨‹</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>model <span class=\"token operator\">=</span> SAGE<span class=\"token punctuation\">(</span>in_feats<span class=\"token operator\">=</span>n_features<span class=\"token punctuation\">,</span> hid_feats<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> out_feats<span class=\"token operator\">=</span>n_labels<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>model <span class=\"token operator\">=</span> model<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span><span class=\"token string\">'cuda'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>opt <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>optim<span class=\"token punctuation\">.</span>Adam<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">for</span> epoch <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    model<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\"># ä½¿ç”¨æ‰€æœ‰èŠ‚ç‚¹ (å…¨å›¾) è¿›è¡Œå‰å‘ä¼ æ’­è®¡ç®—</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    logits <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> node_features<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\"># è®¡ç®—æŸå¤±å€¼</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    loss <span class=\"token operator\">=</span> F<span class=\"token punctuation\">.</span>cross_entropy<span class=\"token punctuation\">(</span>logits<span class=\"token punctuation\">[</span>train_mask<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> node_labels<span class=\"token punctuation\">[</span>train_mask<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\"># è®¡ç®—éªŒè¯é›†çš„å‡†ç¡®åº¦</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    acc <span class=\"token operator\">=</span> evaluate<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">,</span> node_features<span class=\"token punctuation\">,</span> node_labels<span class=\"token punctuation\">,</span> valid_mask<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\"># è¿›è¡Œåå‘ä¼ æ’­è®¡ç®—</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    opt<span class=\"token punctuation\">.</span>zero_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    loss<span class=\"token punctuation\">.</span>backward<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    opt<span class=\"token punctuation\">.</span>step<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>acc <span class=\"token operator\">=</span> evaluate<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">,</span> node_features<span class=\"token punctuation\">,</span> node_labels<span class=\"token punctuation\">,</span> test_mask<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>acc</pre></td></tr></table></figure><blockquote>\n<p>0.668</p>\n</blockquote>\n<p>å¯ä»¥çœ‹åˆ°åªç”¨äº† 120 ä¸ªèŠ‚ç‚¹ï¼Œä½†å´æœ€åçš„å‡†ç¡®ç‡è¾¾åˆ°äº† 0.668</p>\n<h4 id=\"å¼‚æ„å›¾ä¸Šçš„èŠ‚ç‚¹åˆ†ç±»\"><a class=\"anchor\" href=\"#å¼‚æ„å›¾ä¸Šçš„èŠ‚ç‚¹åˆ†ç±»\">#</a> å¼‚æ„å›¾ä¸Šçš„èŠ‚ç‚¹åˆ†ç±»</h4>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Define a Heterograph Conv model</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RGCN</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> in_feats<span class=\"token punctuation\">,</span> hid_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token punctuation\">,</span> rel_names<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\"># å®ä¾‹åŒ– HeteroGraphConvï¼Œin_feats æ˜¯è¾“å…¥ç‰¹å¾çš„ç»´åº¦ï¼Œout_feats æ˜¯è¾“å‡ºç‰¹å¾çš„ç»´åº¦ï¼Œaggregate æ˜¯èšåˆå‡½æ•°çš„ç±»å‹</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        self<span class=\"token punctuation\">.</span>conv1 <span class=\"token operator\">=</span> dglnn<span class=\"token punctuation\">.</span>HeteroGraphConv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            rel<span class=\"token punctuation\">:</span> dglnn<span class=\"token punctuation\">.</span>GraphConv<span class=\"token punctuation\">(</span>in_feats<span class=\"token punctuation\">,</span> hid_feats<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token keyword\">for</span> rel <span class=\"token keyword\">in</span> rel_names<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> aggregate<span class=\"token operator\">=</span><span class=\"token string\">'sum'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        self<span class=\"token punctuation\">.</span>conv2 <span class=\"token operator\">=</span> dglnn<span class=\"token punctuation\">.</span>HeteroGraphConv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            rel<span class=\"token punctuation\">:</span> dglnn<span class=\"token punctuation\">.</span>GraphConv<span class=\"token punctuation\">(</span>hid_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">for</span> rel <span class=\"token keyword\">in</span> rel_names<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> aggregate<span class=\"token operator\">=</span><span class=\"token string\">'sum'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">,</span> inputs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\"># è¾“å…¥æ˜¯èŠ‚ç‚¹çš„ç‰¹å¾å­—å…¸</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        h <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>conv1<span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> inputs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        h <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">:</span> F<span class=\"token punctuation\">.</span>relu<span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span> v <span class=\"token keyword\">in</span> h<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        h <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>conv2<span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">return</span> h</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>model <span class=\"token operator\">=</span> RGCN<span class=\"token punctuation\">(</span>n_hetero_features<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> n_user_classes<span class=\"token punctuation\">,</span> hetero_graph<span class=\"token punctuation\">.</span>etypes<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>user_feats <span class=\"token operator\">=</span> hetero_graph<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'feature'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>item_feats <span class=\"token operator\">=</span> hetero_graph<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">[</span><span class=\"token string\">'item'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'feature'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>labels <span class=\"token operator\">=</span> hetero_graph<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>train_mask <span class=\"token operator\">=</span> hetero_graph<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'train_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>node_features <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">:</span> user_feats<span class=\"token punctuation\">,</span> <span class=\"token string\">'item'</span><span class=\"token punctuation\">:</span> item_feats<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>h_dict <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>hetero_graph<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">:</span> user_feats<span class=\"token punctuation\">,</span> <span class=\"token string\">'item'</span><span class=\"token punctuation\">:</span> item_feats<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>h_user <span class=\"token operator\">=</span> h_dict<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>h_item <span class=\"token operator\">=</span> h_dict<span class=\"token punctuation\">[</span><span class=\"token string\">'item'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>opt <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>optim<span class=\"token punctuation\">.</span>Adam<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\"># åªå¯¹ user èŠ‚ç‚¹è¿›è¡Œé¢„æµ‹</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">for</span> epoch <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    model<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token comment\"># ä½¿ç”¨æ‰€æœ‰èŠ‚ç‚¹çš„ç‰¹å¾è¿›è¡Œå‰å‘ä¼ æ’­è®¡ç®—ï¼Œå¹¶æå–è¾“å‡ºçš„ user èŠ‚ç‚¹åµŒå…¥</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    logits <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>hetero_graph<span class=\"token punctuation\">,</span> node_features<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\"># è®¡ç®—æŸå¤±å€¼</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    loss <span class=\"token operator\">=</span> F<span class=\"token punctuation\">.</span>cross_entropy<span class=\"token punctuation\">(</span>logits<span class=\"token punctuation\">[</span>train_mask<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> labels<span class=\"token punctuation\">[</span>train_mask<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token comment\"># è®¡ç®—éªŒè¯é›†çš„å‡†ç¡®åº¦ã€‚åœ¨æœ¬ä¾‹ä¸­çœç•¥ã€‚</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token comment\"># è¿›è¡Œåå‘ä¼ æ’­è®¡ç®—</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    opt<span class=\"token punctuation\">.</span>zero_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    loss<span class=\"token punctuation\">.</span>backward<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    opt<span class=\"token punctuation\">.</span>step<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>loss<span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token comment\"># å¦‚æœéœ€è¦çš„è¯ï¼Œä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚æœ¬ä¾‹ä¸­çœç•¥ã€‚</span></pre></td></tr></table></figure><p>å¤§åŒå°å¼‚ï¼Œæ„Ÿè§‰ï¼Œåé¢æ…¢æ…¢çœ‹å§ã€‚</p>\n",
            "tags": [
                "AI",
                "GNN",
                "DGL"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/ai/DGL-03-%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%AE%A1%E9%81%93/",
            "url": "https://songlinlife.top/2021/ai/DGL-03-%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%AE%A1%E9%81%93/",
            "title": "DGL(03): å›¾æ•°æ®å¤„ç†ç®¡é“",
            "date_published": "2021-12-16T01:56:12.000Z",
            "content_html": "<h1 id=\"å›¾æ•°æ®å¤„ç†ç®¡é“\"><a class=\"anchor\" href=\"#å›¾æ•°æ®å¤„ç†ç®¡é“\">#</a> å›¾æ•°æ®å¤„ç†ç®¡é“</h1>\n<h3 id=\"dgldatasetç±»\"><a class=\"anchor\" href=\"#dgldatasetç±»\">#</a> DGLDataset ç±»</h3>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211216095935092.png\" alt=\"image-20211216095935092\" /></p>\n<p>å®˜æ–¹ç»™çš„ä¸€ä¸ªæµç¨‹å›¾ã€‚</p>\n<h3 id=\"æ¡†æ¶ä»£ç \"><a class=\"anchor\" href=\"#æ¡†æ¶ä»£ç \">#</a> æ¡†æ¶ä»£ç </h3>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>data <span class=\"token keyword\">import</span> DGLDataset</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyDataset</span><span class=\"token punctuation\">(</span>DGLDataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\" ç”¨äºåœ¨DGLä¸­è‡ªå®šä¹‰å›¾æ•°æ®é›†çš„æ¨¡æ¿ï¼š</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    Parameters</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    ----------</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    url : str</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        ä¸‹è½½åŸå§‹æ•°æ®é›†çš„urlã€‚</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    raw_dir : str</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        æŒ‡å®šä¸‹è½½æ•°æ®çš„å­˜å‚¨ç›®å½•æˆ–å·²ä¸‹è½½æ•°æ®çš„å­˜å‚¨ç›®å½•ã€‚é»˜è®¤: ~/.dgl/</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    save_dir : str</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        å¤„ç†å®Œæˆçš„æ•°æ®é›†çš„ä¿å­˜ç›®å½•ã€‚é»˜è®¤ï¼šraw_diræŒ‡å®šçš„å€¼</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    force_reload : bool</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        æ˜¯å¦é‡æ–°å¯¼å…¥æ•°æ®é›†ã€‚é»˜è®¤ï¼šFalse</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    verbose : bool</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        æ˜¯å¦æ‰“å°è¿›åº¦ä¿¡æ¯ã€‚</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                 url<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                 raw_dir<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                 save_dir<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                 force_reload<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                 verbose<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>MyDataset<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'dataset_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                                        url<span class=\"token operator\">=</span>url<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                                        raw_dir<span class=\"token operator\">=</span>raw_dir<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                                        save_dir<span class=\"token operator\">=</span>save_dir<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                                        force_reload<span class=\"token operator\">=</span>force_reload<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                                        verbose<span class=\"token operator\">=</span>verbose<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">download</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\"># å°†åŸå§‹æ•°æ®ä¸‹è½½åˆ°æœ¬åœ°ç£ç›˜</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\"># å°†åŸå§‹æ•°æ®å¤„ç†ä¸ºå›¾ã€æ ‡ç­¾å’Œæ•°æ®é›†åˆ’åˆ†çš„æ©ç </span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__getitem__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\"># é€šè¿‡ idx å¾—åˆ°ä¸ä¹‹å¯¹åº”çš„ä¸€ä¸ªæ ·æœ¬</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__len__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token comment\"># æ•°æ®æ ·æœ¬çš„æ•°é‡</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token comment\"># å°†å¤„ç†åçš„æ•°æ®ä¿å­˜è‡³ `self.save_path`</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">load</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\"># ä» `self.save_path` å¯¼å…¥å¤„ç†åçš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">has_cache</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token comment\"># æ£€æŸ¥åœ¨ `self.save_path` ä¸­æ˜¯å¦å­˜æœ‰å¤„ç†åçš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr></table></figure><p>ç»§æ‰¿ <code>DGLDataset</code>  çš„å­ç±»å¿…é¡»å®ç°çš„å‡½æ•°ï¼š <code>process</code> ã€ <code>__getitem__</code> ã€ <code>__len__</code>  ã€‚</p>\n<p>åœ¨ <code>DGLDataset</code>  åšçš„äº‹æƒ…ï¼šå­˜å‚¨æœ‰å…³æ•°æ®é›†çš„å›¾ã€ç‰¹å¾ã€æ ‡ç­¾ã€æ©ç ï¼Œä»¥åŠè¯¸å¦‚ç±»åˆ«æ•°ã€æ ‡ç­¾æ•°ç­‰åŸºæœ¬ä¿¡æ¯</p>\n<p>ä¸åº”è¯¥åšçš„äº‹æƒ…ï¼š è¯¸å¦‚é‡‡æ ·ã€åˆ’åˆ†æˆ–ç‰¹å¾å½’ä¸€åŒ–ç­‰æ“ä½œå»ºè®®åœ¨ <code>DGLDataset</code>  å­ç±»ä¹‹å¤–å®Œæˆã€‚</p>\n<h3 id=\"ä¸‹è½½æ•°æ®\"><a class=\"anchor\" href=\"#ä¸‹è½½æ•°æ®\">#</a> ä¸‹è½½æ•°æ®</h3>\n<h5 id=\"ç›´æ¥ä¸‹è½½\"><a class=\"anchor\" href=\"#ç›´æ¥ä¸‹è½½\">#</a> ç›´æ¥ä¸‹è½½ï¼š</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> os</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> download</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">download</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\"># å­˜å‚¨æ–‡ä»¶çš„è·¯å¾„</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    file_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>raw_dir<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">'.mat'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\"># ä¸‹è½½æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    download<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span> path<span class=\"token operator\">=</span>file_path<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h5 id=\"ä¸‹è½½å¹¶è§£å‹\"><a class=\"anchor\" href=\"#ä¸‹è½½å¹¶è§£å‹\">#</a> ä¸‹è½½å¹¶è§£å‹ï¼š</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> download<span class=\"token punctuation\">,</span> check_sha1</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">download</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\"># å­˜å‚¨æ–‡ä»¶çš„è·¯å¾„ï¼Œè¯·ç¡®ä¿ä½¿ç”¨ä¸åŸå§‹æ–‡ä»¶åç›¸åŒçš„åç¼€</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    gz_file_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>raw_dir<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">'.csv.gz'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\"># ä¸‹è½½æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    download<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span> path<span class=\"token operator\">=</span>gz_file_path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\"># æ£€æŸ¥ SHA-1</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> check_sha1<span class=\"token punctuation\">(</span>gz_file_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>_sha1_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">raise</span> UserWarning<span class=\"token punctuation\">(</span><span class=\"token string\">'File &#123;&#125; is downloaded but the content hash does not match.'</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                          <span class=\"token string\">'The repo may be outdated or download may be incomplete. '</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                          <span class=\"token string\">'Otherwise you can create an issue for it.'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">'.csv.gz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\"># å°†æ–‡ä»¶è§£å‹ç¼©åˆ°ç›®å½• self.raw_dir ä¸‹çš„ self.name ç›®å½•ä¸­</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    self<span class=\"token punctuation\">.</span>_extract_gz<span class=\"token punctuation\">(</span>gz_file_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>raw_path<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>è§£å‹æ–‡ä»¶ä¼šè¢«è§£å‹ç¼©åˆ°  <code>self.raw_dir</code>  ä¸‹çš„ç›®å½•  <code>self.name</code>  ä¸­ã€‚</p>\n<h3 id=\"å¤„ç†æ•°æ®\"><a class=\"anchor\" href=\"#å¤„ç†æ•°æ®\">#</a> å¤„ç†æ•°æ®</h3>\n<h5 id=\"å¤„ç†æ•´å›¾åˆ†ç±»æ•°æ®é›†\"><a class=\"anchor\" href=\"#å¤„ç†æ•´å›¾åˆ†ç±»æ•°æ®é›†\">#</a> å¤„ç†æ•´å›¾åˆ†ç±»æ•°æ®é›†</h5>\n<p><strong>QM7bDataset</strong></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>data <span class=\"token keyword\">import</span> DGLDataset</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">QM7bDataset</span><span class=\"token punctuation\">(</span>DGLDataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    _url <span class=\"token operator\">=</span> <span class=\"token string\">'http://deepchem.io.s3-website-us-west-1.amazonaws.com/'</span> \\</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>           <span class=\"token string\">'datasets/qm7b.mat'</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    _sha1_str <span class=\"token operator\">=</span> <span class=\"token string\">'4102c744bb9d6fd7b40ac67a300e49cd87e28392'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> raw_dir<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> force_reload<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>QM7bDataset<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'qm7b'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                                          url<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>_url<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                                          raw_dir<span class=\"token operator\">=</span>raw_dir<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                                          force_reload<span class=\"token operator\">=</span>force_reload<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                                          verbose<span class=\"token operator\">=</span>verbose<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        mat_path <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>raw_path <span class=\"token operator\">+</span> <span class=\"token string\">'.mat'</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\"># å°†æ•°æ®å¤„ç†ä¸ºå›¾åˆ—è¡¨å’Œæ ‡ç­¾åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        self<span class=\"token punctuation\">.</span>graphs<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>label <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>_load_graph<span class=\"token punctuation\">(</span>mat_path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__getitem__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token triple-quoted-string string\">\"\"\" é€šè¿‡idxè·å–å¯¹åº”çš„å›¾å’Œæ ‡ç­¾</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        Parameters</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        ----------</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        idx : int</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            Item index</pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        Returns</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        -------</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        (dgl.DGLGraph, Tensor)</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        \"\"\"</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>graphs<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>label<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__len__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token triple-quoted-string string\">\"\"\"æ•°æ®é›†ä¸­å›¾çš„æ•°é‡\"\"\"</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>graphs<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h6 id=\"ä½¿ç”¨æ•°æ®é›†\"><a class=\"anchor\" href=\"#ä½¿ç”¨æ•°æ®é›†\">#</a> ä½¿ç”¨æ•°æ®é›†</h6>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> dgl</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> torch</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>dataloading <span class=\"token keyword\">import</span> GraphDataLoader</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># æ•°æ®å¯¼å…¥</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>dataset <span class=\"token operator\">=</span> QM7bDataset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>num_labels <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>num_labels</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># åˆ›å»º dataloaders</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>dataloader <span class=\"token operator\">=</span> GraphDataLoader<span class=\"token punctuation\">(</span>dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># è®­ç»ƒ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">for</span> epoch <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">for</span> g<span class=\"token punctuation\">,</span> labels <span class=\"token keyword\">in</span> dataloader<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\"># ç”¨æˆ·è‡ªå·±çš„è®­ç»ƒä»£ç </span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">pass</span></pre></td></tr></table></figure><h5 id=\"èŠ‚ç‚¹åˆ†ç±»ä»»åŠ¡\"><a class=\"anchor\" href=\"#èŠ‚ç‚¹åˆ†ç±»ä»»åŠ¡\">#</a> èŠ‚ç‚¹åˆ†ç±»ä»»åŠ¡</h5>\n<h6 id=\"ä½¿ç”¨èŠ‚ç‚¹åˆ†ç±»æ•°æ®é›†\"><a class=\"anchor\" href=\"#ä½¿ç”¨èŠ‚ç‚¹åˆ†ç±»æ•°æ®é›†\">#</a> ä½¿ç”¨èŠ‚ç‚¹åˆ†ç±»æ•°æ®é›†ï¼š</h6>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å¯¼å…¥æ•°æ®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>dataset <span class=\"token operator\">=</span> CiteseerGraphDataset<span class=\"token punctuation\">(</span>raw_dir<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>graph <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># è·å–åˆ’åˆ†çš„æ©ç </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>train_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'train_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>val_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'val_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>test_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'test_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># è·å–èŠ‚ç‚¹ç‰¹å¾</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>feats <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'feat'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># è·å–æ ‡ç­¾</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>labels <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h6 id=\"å¯ç”¨äºèŠ‚ç‚¹åˆ†ç±»çš„æ•°æ®é›†\"><a class=\"anchor\" href=\"#å¯ç”¨äºèŠ‚ç‚¹åˆ†ç±»çš„æ•°æ®é›†\">#</a> å¯ç”¨äºèŠ‚ç‚¹åˆ†ç±»çš„æ•°æ®é›†ï¼š</h6>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjY2l0YXRpb25kYXRh\">Citation network dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjY29yYWZ1bGxkYXRh\">CoraFull dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjYW1hem9uY29idXlkYXRh\">Amazon Co-Purchase dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjY29hdXRob3JkYXRh\">Coauthor dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwja2FyYXRlY2x1YmRhdGE=\">Karate club dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjcHBpZGF0YQ==\">Protein-Protein Interaction dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjcmVkZGl0ZGF0YQ==\">Reddit dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjc2JtZGF0YQ==\">Symmetric Stochastic Block Model Mixture dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjc3N0ZGF0YQ==\">Stanford sentiment treebank dataset</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRnbC5haS9hcGkvcHl0aG9uL2RnbC5kYXRhLmh0bWwjcmRmZGF0YQ==\">RDF datasets</span></li>\n</ul>\n<h5 id=\"é“¾æ¥é¢„æµ‹æ•°æ®é›†\"><a class=\"anchor\" href=\"#é“¾æ¥é¢„æµ‹æ•°æ®é›†\">#</a> é“¾æ¥é¢„æµ‹æ•°æ®é›†</h5>\n<h6 id=\"å®ç°ä»£ç \"><a class=\"anchor\" href=\"#å®ç°ä»£ç \">#</a> å®ç°ä»£ç </h6>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºé“¾æ¥é¢„æµ‹æ•°æ®é›†ç¤ºä¾‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">KnowledgeGraphDataset</span><span class=\"token punctuation\">(</span>DGLBuiltinDataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> raw_dir<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> force_reload<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        self<span class=\"token punctuation\">.</span>_name <span class=\"token operator\">=</span> name</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        self<span class=\"token punctuation\">.</span>reverse <span class=\"token operator\">=</span> reverse</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        url <span class=\"token operator\">=</span> _get_dgl_url<span class=\"token punctuation\">(</span><span class=\"token string\">'dataset/'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&#123;&#125;.tgz'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>KnowledgeGraphDataset<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                                                    url<span class=\"token operator\">=</span>url<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                                                    raw_dir<span class=\"token operator\">=</span>raw_dir<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                                                    force_reload<span class=\"token operator\">=</span>force_reload<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                                                    verbose<span class=\"token operator\">=</span>verbose<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\"># è·³è¿‡ä¸€äº›å¤„ç†çš„ä»£ç </span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\"># === è·³è¿‡æ•°æ®å¤„ç† ===</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\"># åˆ’åˆ†æ©ç </span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        g<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'train_mask'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> train_mask</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        g<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'val_mask'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val_mask</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        g<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'test_mask'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> test_mask</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\"># è¾¹ç±»å‹</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        g<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'etype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> etype</pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\"># èŠ‚ç‚¹ç±»å‹</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        g<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'ntype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ntype</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        self<span class=\"token punctuation\">.</span>_g <span class=\"token operator\">=</span> g</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__getitem__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">assert</span> idx <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"è¿™ä¸ªæ•°æ®é›†åªæœ‰ä¸€ä¸ªå›¾\"</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>_g</pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__len__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token number\">1</span></pre></td></tr></table></figure><h6 id=\"ä½¿ç”¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨\">#</a> ä½¿ç”¨</h6>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>data <span class=\"token keyword\">import</span> FB15k237Dataset</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å¯¼å…¥æ•°æ®</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>dataset <span class=\"token operator\">=</span> FB15k237Dataset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>graph <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># è·å–è®­ç»ƒé›†æ©ç </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>train_mask <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'train_mask'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>train_idx <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>nonzero<span class=\"token punctuation\">(</span>train_mask<span class=\"token punctuation\">,</span> as_tuple<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>squeeze<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>src<span class=\"token punctuation\">,</span> dst <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">(</span>train_idx<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># è·å–è®­ç»ƒé›†ä¸­çš„è¾¹ç±»å‹</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>rel <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'etype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>train_idx<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h3 id=\"ä¿å­˜å’ŒåŠ è½½æ•°æ®\"><a class=\"anchor\" href=\"#ä¿å­˜å’ŒåŠ è½½æ•°æ®\">#</a> ä¿å­˜å’ŒåŠ è½½æ•°æ®</h3>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> os</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">from</span> dgl <span class=\"token keyword\">import</span> save_graphs<span class=\"token punctuation\">,</span> load_graphs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> makedirs<span class=\"token punctuation\">,</span> save_info<span class=\"token punctuation\">,</span> load_info</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\"># ä¿å­˜å›¾å’Œæ ‡ç­¾</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    graph_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>save_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">+</span> <span class=\"token string\">'_dgl_graph.bin'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    save_graphs<span class=\"token punctuation\">(</span>graph_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>graphs<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'labels'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>labels<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\"># åœ¨ Python å­—å…¸é‡Œä¿å­˜å…¶ä»–ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    info_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>save_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">+</span> <span class=\"token string\">'_info.pkl'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    save_info<span class=\"token punctuation\">(</span>info_path<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'num_classes'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>num_classes<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">load</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\"># ä»ç›®å½• `self.save_path` é‡Œè¯»å–å¤„ç†è¿‡çš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    graph_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>save_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">+</span> <span class=\"token string\">'_dgl_graph.bin'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    self<span class=\"token punctuation\">.</span>graphs<span class=\"token punctuation\">,</span> label_dict <span class=\"token operator\">=</span> load_graphs<span class=\"token punctuation\">(</span>graph_path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    self<span class=\"token punctuation\">.</span>labels <span class=\"token operator\">=</span> label_dict<span class=\"token punctuation\">[</span><span class=\"token string\">'labels'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    info_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>save_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">+</span> <span class=\"token string\">'_info.pkl'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    self<span class=\"token punctuation\">.</span>num_classes <span class=\"token operator\">=</span> load_info<span class=\"token punctuation\">(</span>info_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'num_classes'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">has_cache</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\"># æ£€æŸ¥åœ¨ `self.save_path` é‡Œæ˜¯å¦æœ‰å¤„ç†è¿‡çš„æ•°æ®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    graph_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>save_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">+</span> <span class=\"token string\">'_dgl_graph.bin'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    info_path <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>save_path<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">+</span> <span class=\"token string\">'_info.pkl'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">return</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span>graph_path<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span>info_path<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"obg\"><a class=\"anchor\" href=\"#obg\">#</a> OBG</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9vZ2Iuc3RhbmZvcmQuZWR1L2RvY3MvaG9tZS8=\">Open Graph Benchmark (OGB)</span> æ˜¯ä¸€ä¸ªå›¾æ·±åº¦å­¦ä¹ çš„åŸºå‡†æ•°æ®é›†ã€‚ä½¿ç”¨ pip å®‰è£… ogb å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>\n<h5 id=\"å›¾åˆ†ç±»ä»»åŠ¡\"><a class=\"anchor\" href=\"#å›¾åˆ†ç±»ä»»åŠ¡\">#</a> å›¾åˆ†ç±»ä»»åŠ¡</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># è½½å…¥ OGB çš„ Graph Property Prediction æ•°æ®é›†</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> dgl</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> torch</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">from</span> ogb<span class=\"token punctuation\">.</span>graphproppred <span class=\"token keyword\">import</span> DglGraphPropPredDataset</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>dataloading <span class=\"token keyword\">import</span> GraphDataLoader</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">_collate_fn</span><span class=\"token punctuation\">(</span>batch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\"># å°æ‰¹æ¬¡æ˜¯ä¸€ä¸ªå…ƒç»„ (graph, label) åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    graphs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> e <span class=\"token keyword\">in</span> batch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    g <span class=\"token operator\">=</span> dgl<span class=\"token punctuation\">.</span>batch<span class=\"token punctuation\">(</span>graphs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    labels <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> e <span class=\"token keyword\">in</span> batch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    labels <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>stack<span class=\"token punctuation\">(</span>labels<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">return</span> g<span class=\"token punctuation\">,</span> labels</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># è½½å…¥æ•°æ®é›†</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>dataset <span class=\"token operator\">=</span> DglGraphPropPredDataset<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'ogbg-molhiv'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>split_idx <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>get_idx_split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># dataloader</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>train_loader <span class=\"token operator\">=</span> GraphDataLoader<span class=\"token punctuation\">(</span>dataset<span class=\"token punctuation\">[</span>split_idx<span class=\"token punctuation\">[</span><span class=\"token string\">\"train\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> collate_fn<span class=\"token operator\">=</span>_collate_fn<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>valid_loader <span class=\"token operator\">=</span> GraphDataLoader<span class=\"token punctuation\">(</span>dataset<span class=\"token punctuation\">[</span>split_idx<span class=\"token punctuation\">[</span><span class=\"token string\">\"valid\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> collate_fn<span class=\"token operator\">=</span>_collate_fn<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>test_loader <span class=\"token operator\">=</span> GraphDataLoader<span class=\"token punctuation\">(</span>dataset<span class=\"token punctuation\">[</span>split_idx<span class=\"token punctuation\">[</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> collate_fn<span class=\"token operator\">=</span>_collate_fn<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h5 id=\"èŠ‚ç‚¹åˆ†ç±»ä»»åŠ¡-2\"><a class=\"anchor\" href=\"#èŠ‚ç‚¹åˆ†ç±»ä»»åŠ¡-2\">#</a> èŠ‚ç‚¹åˆ†ç±»ä»»åŠ¡</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># è½½å…¥ OGB çš„ Node Property Prediction æ•°æ®é›†</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">from</span> ogb<span class=\"token punctuation\">.</span>nodeproppred <span class=\"token keyword\">import</span> DglNodePropPredDataset</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>dataset <span class=\"token operator\">=</span> DglNodePropPredDataset<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'ogbn-proteins'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>split_idx <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>get_idx_split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># there is only one graph in Node Property Prediction datasets</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># åœ¨ Node Property Prediction æ•°æ®é›†é‡Œåªæœ‰ä¸€ä¸ªå›¾</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>g<span class=\"token punctuation\">,</span> labels <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># è·å–åˆ’åˆ†çš„æ ‡ç­¾</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>train_label <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>labels<span class=\"token punctuation\">[</span>split_idx<span class=\"token punctuation\">[</span><span class=\"token string\">'train'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>valid_label <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>labels<span class=\"token punctuation\">[</span>split_idx<span class=\"token punctuation\">[</span><span class=\"token string\">'valid'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>test_label <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>labels<span class=\"token punctuation\">[</span>split_idx<span class=\"token punctuation\">[</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h5 id=\"é“¾æ¥é¢„æµ‹ä»»åŠ¡\"><a class=\"anchor\" href=\"#é“¾æ¥é¢„æµ‹ä»»åŠ¡\">#</a> é“¾æ¥é¢„æµ‹ä»»åŠ¡</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># è½½å…¥ OGB çš„ Link Property Prediction æ•°æ®é›†</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">from</span> ogb<span class=\"token punctuation\">.</span>linkproppred <span class=\"token keyword\">import</span> DglLinkPropPredDataset</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>dataset <span class=\"token operator\">=</span> DglLinkPropPredDataset<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'ogbl-ppa'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>split_edge <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span>get_edge_split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>graph <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>split_edge<span class=\"token punctuation\">[</span><span class=\"token string\">'train'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>split_edge<span class=\"token punctuation\">[</span><span class=\"token string\">'valid'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>split_edge<span class=\"token punctuation\">[</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "AI",
                "GNN",
                "DGL"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/ai/DGL-02-%E6%9E%84%E5%BB%BA%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/",
            "url": "https://songlinlife.top/2021/ai/DGL-02-%E6%9E%84%E5%BB%BA%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/",
            "title": "DGL(02): æ„å»ºå›¾ç¥ç»ç½‘ç»œ",
            "date_published": "2021-12-15T14:17:21.000Z",
            "content_html": "<h3 id=\"dgl-æ­å»ºgnnæ¨¡å‹\"><a class=\"anchor\" href=\"#dgl-æ­å»ºgnnæ¨¡å‹\">#</a> DGL æ­å»º GNN æ¨¡å‹</h3>\n<h5 id=\"init\"><a class=\"anchor\" href=\"#init\">#</a> init</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> nn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> expand_as_pair <span class=\"token comment\"># å¦‚æœä¸æ˜¯ pair å°±å¤åˆ¶ object å˜æˆ pair</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">SAGEConv</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                 in_feats<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                 out_feats<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                 aggregator_type<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                 bias<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                 norm<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                 activation<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>SAGEConv<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        self<span class=\"token punctuation\">.</span>_in_src_feats<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>_in_dst_feats <span class=\"token operator\">=</span> expand_as_pair<span class=\"token punctuation\">(</span>in_feats<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        self<span class=\"token punctuation\">.</span>_out_feats <span class=\"token operator\">=</span> out_feats</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">=</span> aggregator_type</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        self<span class=\"token punctuation\">.</span>norm <span class=\"token operator\">=</span> norm</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        self<span class=\"token punctuation\">.</span>activation <span class=\"token operator\">=</span> activation</pre></td></tr></table></figure><h4 id=\"sageconv\"><a class=\"anchor\" href=\"#sageconv\">#</a> SageConv</h4>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211216090931226.png\" alt=\"image-20211216090931226\" /></p>\n<p>è¿™ä¸ª<strong> aggregate</strong> å¯ä»¥æ˜¯ meanã€LSTMã€poolingï¼Œæ”¾åœ¨èƒ½ aggregate å°±è¡Œï¼Œç”šè‡³å¯ä»¥æ˜¯ GCNï¼Œå› ä¸º GCN å®é™…ä¸Šä¹Ÿæ˜¯èµ·åˆ°äº†ä¸€ä¸ª Aggregate çš„ä½œç”¨ï¼Œç„¶ååœ¨ä¼ é€’åˆ°ä¸‹ä¸€æ­¥ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹å°±å¯ä»¥èšåˆæ›´è¿œçš„èŠ‚ç‚¹ä¿¡æ¯ã€‚</p>\n<h4 id=\"æ„é€ å‚æ•°\"><a class=\"anchor\" href=\"#æ„é€ å‚æ•°\">#</a> æ„é€ å‚æ•°</h4>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># èšåˆç±»å‹ï¼šmeanã€max_poolã€lstmã€gcn</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> aggregator_type <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'mean'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'max_pool'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lstm'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gcn'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">raise</span> KeyError<span class=\"token punctuation\">(</span><span class=\"token string\">'Aggregator type &#123;&#125; not supported.'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>aggregator_type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">if</span> aggregator_type <span class=\"token operator\">==</span> <span class=\"token string\">'max_pool'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    self<span class=\"token punctuation\">.</span>fc_pool <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>_in_src_feats<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>_in_src_feats<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">if</span> aggregator_type <span class=\"token operator\">==</span> <span class=\"token string\">'lstm'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    self<span class=\"token punctuation\">.</span>lstm <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>LSTM<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>_in_src_feats<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>_in_src_feats<span class=\"token punctuation\">,</span> batch_first<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">if</span> aggregator_type <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'mean'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'max_pool'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lstm'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    self<span class=\"token punctuation\">.</span>fc_self <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>_in_dst_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token punctuation\">,</span> bias<span class=\"token operator\">=</span>bias<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>self<span class=\"token punctuation\">.</span>fc_neigh <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>_in_src_feats<span class=\"token punctuation\">,</span> out_feats<span class=\"token punctuation\">,</span> bias<span class=\"token operator\">=</span>bias<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>self<span class=\"token punctuation\">.</span>reset_parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">reset_parameters</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"é‡æ–°åˆå§‹åŒ–å¯å­¦ä¹ çš„å‚æ•°\"\"\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    gain <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">.</span>calculate_gain<span class=\"token punctuation\">(</span><span class=\"token string\">'relu'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">==</span> <span class=\"token string\">'max_pool'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        nn<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">.</span>xavier_uniform_<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>fc_pool<span class=\"token punctuation\">.</span>weight<span class=\"token punctuation\">,</span> gain<span class=\"token operator\">=</span>gain<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">==</span> <span class=\"token string\">'lstm'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        self<span class=\"token punctuation\">.</span>lstm<span class=\"token punctuation\">.</span>reset_parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">!=</span> <span class=\"token string\">'gcn'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        nn<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">.</span>xavier_uniform_<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>fc_self<span class=\"token punctuation\">.</span>weight<span class=\"token punctuation\">,</span> gain<span class=\"token operator\">=</span>gain<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    nn<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">.</span>xavier_uniform_<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>fc_neigh<span class=\"token punctuation\">.</span>weight<span class=\"token punctuation\">,</span> gain<span class=\"token operator\">=</span>gain<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>å…¶ä¸­çš„  <code>fc_self</code>  å°±èšåˆè‡ªèº«ä¿¡æ¯ï¼Œ  <code>fc_neigh</code>  ç”¨äºèšåˆé‚»å±…ä¿¡æ¯ã€‚</p>\n<h4 id=\"æ¶ˆæ¯ä¼ é€’\"><a class=\"anchor\" href=\"#æ¶ˆæ¯ä¼ é€’\">#</a> æ¶ˆæ¯ä¼ é€’</h4>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> dgl<span class=\"token punctuation\">.</span>function <span class=\"token keyword\">as</span> fn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn<span class=\"token punctuation\">.</span>functional <span class=\"token keyword\">as</span> F</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">from</span> dgl<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> check_eq_shape</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">==</span> <span class=\"token string\">'mean'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>srcdata<span class=\"token punctuation\">[</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> feat_src</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>copy_u<span class=\"token punctuation\">(</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'neigh'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    h_neigh <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>dstdata<span class=\"token punctuation\">[</span><span class=\"token string\">'neigh'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">elif</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">==</span> <span class=\"token string\">'gcn'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    check_eq_shape<span class=\"token punctuation\">(</span>feat<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>srcdata<span class=\"token punctuation\">[</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> feat_src</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>dstdata<span class=\"token punctuation\">[</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> feat_dst</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>copy_u<span class=\"token punctuation\">(</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'neigh'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\"># é™¤ä»¥å…¥åº¦</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    degs <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>in_degrees<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>feat_dst<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    h_neigh <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">.</span>dstdata<span class=\"token punctuation\">[</span><span class=\"token string\">'neigh'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> graph<span class=\"token punctuation\">.</span>dstdata<span class=\"token punctuation\">[</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>degs<span class=\"token punctuation\">.</span>unsqueeze<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">elif</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">==</span> <span class=\"token string\">'max_pool'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>srcdata<span class=\"token punctuation\">[</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> F<span class=\"token punctuation\">.</span>relu<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>fc_pool<span class=\"token punctuation\">(</span>feat_src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>copy_u<span class=\"token punctuation\">(</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'neigh'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    h_neigh <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>dstdata<span class=\"token punctuation\">[</span><span class=\"token string\">'neigh'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">raise</span> KeyError<span class=\"token punctuation\">(</span><span class=\"token string\">'Aggregator type &#123;&#125; not recognized.'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>_aggre_type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\"># GraphSAGE ä¸­ gcn èšåˆä¸éœ€è¦ fc_self</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_aggre_type <span class=\"token operator\">==</span> <span class=\"token string\">'gcn'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    rst <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>fc_neigh<span class=\"token punctuation\">(</span>h_neigh<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    rst <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>fc_self<span class=\"token punctuation\">(</span>h_self<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> self<span class=\"token punctuation\">.</span>fc_neigh<span class=\"token punctuation\">(</span>h_neigh<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å†™çš„çœŸçš„ç®€å•æ˜“æ‡‚ã€‚</p>\n<p><code>update_all</code>  è´Ÿè´£æ›´æ–°ä¿¡æ¯ï¼Œ <code>fn.copy_u</code>  å°±æŠŠèŠ‚ç‚¹ä¿¡æ¯ç»™ copy åˆ° mail é‡Œï¼Œç„¶åé€šè¿‡ <code>mean</code>  æŠŠé‚»å±…èŠ‚ç‚¹ä¿¡æ¯ç»™èšåˆèµ·æ¥ï¼Œæ”¾åˆ°  <code>dstdata</code>  é‡Œã€‚ å†é€šè¿‡ <code>fc_self</code>  å’Œ <code>fc_neigh</code>  å®ç°èŠ‚ç‚¹ä¿¡æ¯çš„æ›´æ–°ã€‚å› ä¸º <code>gcn</code>  åœ¨èšåˆé‚»å±…èŠ‚ç‚¹ä¿¡æ¯çš„æ—¶å€™ï¼Œå®é™…ä¸Šä¹ŸæŠŠè‡ªèº«çš„ä¿¡æ¯ç»™èšåˆèµ·æ¥äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦å†åœ¨æ›´æ–°æ­¥éª¤ä¸ŠåŠ ä¸Š <code>fc_self</code>  ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ¿€æ´»å‡½æ•°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>activation <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    rst <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>activation<span class=\"token punctuation\">(</span>rst<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># å½’ä¸€åŒ–</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>norm <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    rst <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>norm<span class=\"token punctuation\">(</span>rst<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">return</span> rst</pre></td></tr></table></figure><p>æœ€åé€šè¿‡æ¿€æ´»å‡½æ•°å’Œå½’ä¸€åŒ–å±‚ã€‚</p>\n<h4 id=\"å¼‚æ„å›¾ä¸Šçš„graphconv\"><a class=\"anchor\" href=\"#å¼‚æ„å›¾ä¸Šçš„graphconv\">#</a> å¼‚æ„å›¾ä¸Šçš„ GraphConv</h4>\n<p>è¿™ä¸ªå¼‚æ„å›¾çœ‹çš„æ—¶å€™ä¸€ç›´è¿·è¿·ç³Šç³Šçš„ï¼Œæä¸æ‡‚å’‹å›äº‹ã€‚ã€‚ã€‚</p>\n<p>å…ˆè®°ä¸‹æ¥æŠŠï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>h</mi><mrow><mi>d</mi><mi>s</mi><mi>t</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi><munder><mo><mi>A</mi><mi>G</mi><mi>G</mi></mo><mrow><mi>r</mi><mo>âˆˆ</mo><mi mathvariant=\"script\">R</mi><mo separator=\"true\">,</mo><msub><mi>r</mi><mrow><mi>d</mi><mi>s</mi><mi>t</mi></mrow></msub><mo>âˆ’</mo><mi>d</mi><mi>s</mi><mi>t</mi></mrow></munder></mi><mrow><mo fence=\"true\">(</mo><msub><mi>f</mi><mi>r</mi></msub><mrow><mo fence=\"true\">(</mo><msub><mi>g</mi><mi>r</mi></msub><mo separator=\"true\">,</mo><msubsup><mi>h</mi><msub><mi>r</mi><mrow><mi>s</mi><mi>r</mi><mi>o</mi></mrow></msub><mi>l</mi></msubsup><msubsup><mi>h</mi><msub><mi>r</mi><mrow><mi>d</mi><mi>s</mi><mi>t</mi></mrow></msub><mi>l</mi></msubsup><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">h_{d s t}^{(l+1)}=\\underset{r \\in \\mathcal{R}, r_{d s t}-d s t}{A G G}\\left(f_{r}\\left(g_{r}, h_{r_{s r o}}^{l} h_{r_{d s t}}^{l}\\right)\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3461079999999999em;vertical-align:-0.3013079999999999em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3986920000000005em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3013079999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.787324em;vertical-align:-0.8882159999999999em;\"></span><span class=\"mord\"><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.68333em;\"><span style=\"top:-2.3478920000000003em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathcal mtight\">R</span></span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3487714285714287em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15122857142857138em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\"><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">GG</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8882159999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.899108em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16454285714285719em;\"><span style=\"top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">o</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34709999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.899108em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3487714285714287em;margin-left:-0.02778em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15122857142857138em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.35285999999999995em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span></span></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> nn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">HeteroGraphConv</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> mods<span class=\"token punctuation\">,</span> aggregate<span class=\"token operator\">=</span><span class=\"token string\">'sum'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>HeteroGraphConv<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        self<span class=\"token punctuation\">.</span>mods <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>ModuleDict<span class=\"token punctuation\">(</span>mods<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>aggregate<span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token comment\"># è·å–èšåˆå‡½æ•°çš„å†…éƒ¨å‡½æ•°</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            self<span class=\"token punctuation\">.</span>agg_fn <span class=\"token operator\">=</span> get_aggregate_fn<span class=\"token punctuation\">(</span>aggregate<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            self<span class=\"token punctuation\">.</span>agg_fn <span class=\"token operator\">=</span> aggregate</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            </pre></td></tr><tr><td data-num=\"13\"></td><td><pre> <span class=\"token keyword\">def</span> <span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">,</span> inputs<span class=\"token punctuation\">,</span> mod_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> mod_kwargs<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> mod_args <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        mod_args <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">if</span> mod_kwargs <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        mod_kwargs <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    outputs <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>nty <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> nty <span class=\"token keyword\">in</span> g<span class=\"token punctuation\">.</span>dsttypes<span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">if</span> g<span class=\"token punctuation\">.</span>is_block<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    src_inputs <span class=\"token operator\">=</span> inputs</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    dst_inputs <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">:</span> v<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>g<span class=\"token punctuation\">.</span>number_of_dst_nodes<span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span> v <span class=\"token keyword\">in</span> inputs<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    src_inputs <span class=\"token operator\">=</span> dst_inputs <span class=\"token operator\">=</span> inputs</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">for</span> stype<span class=\"token punctuation\">,</span> etype<span class=\"token punctuation\">,</span> dtype <span class=\"token keyword\">in</span> g<span class=\"token punctuation\">.</span>canonical_etypes<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    rel_graph <span class=\"token operator\">=</span> g<span class=\"token punctuation\">[</span>stype<span class=\"token punctuation\">,</span> etype<span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">if</span> rel_graph<span class=\"token punctuation\">.</span>num_edges<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">if</span> stype <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> src_inputs <span class=\"token keyword\">or</span> dtype <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> dst_inputs<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    dstdata <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>mods<span class=\"token punctuation\">[</span>etype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        rel_graph<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token punctuation\">(</span>src_inputs<span class=\"token punctuation\">[</span>stype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dst_inputs<span class=\"token punctuation\">[</span>dtype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token operator\">*</span>mod_args<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>etype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token operator\">**</span>mod_kwargs<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>etype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    outputs<span class=\"token punctuation\">[</span>dtype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>dstdata<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "AI",
                "GNN",
                "DGL"
            ]
        },
        {
            "id": "https://songlinlife.top/2021/ai/DGL-01-%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%80%92%E8%8C%83%E5%BC%8F/",
            "url": "https://songlinlife.top/2021/ai/DGL-01-%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%80%92%E8%8C%83%E5%BC%8F/",
            "title": "DGL(01): ä¿¡æ¯ä¼ é€’èŒƒå¼",
            "date_published": "2021-12-15T12:32:27.000Z",
            "content_html": "<h1 id=\"æ¶ˆæ¯ä¼ é€’èŒƒå¼\"><a class=\"anchor\" href=\"#æ¶ˆæ¯ä¼ é€’èŒƒå¼\">#</a> æ¶ˆæ¯ä¼ é€’èŒƒå¼</h1>\n<h3 id=\"æ¶ˆæ¯ä¼ é€’èŒƒå¼å®šä¹‰\"><a class=\"anchor\" href=\"#æ¶ˆæ¯ä¼ é€’èŒƒå¼å®šä¹‰\">#</a> æ¶ˆæ¯ä¼ é€’èŒƒå¼å®šä¹‰</h3>\n<p>è¾¹ä¸Šè®¡ç®—: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>m</mi><mi>e</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi>Ï•</mi><mrow><mo fence=\"true\">(</mo><msubsup><mi>x</mi><mi>v</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo separator=\"true\">,</mo><msubsup><mi>x</mi><mi>u</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo separator=\"true\">,</mo><msubsup><mi>w</mi><mi>e</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>e</mi><mo stretchy=\"false\">)</mo><mo>âˆˆ</mo><mi mathvariant=\"script\">E</mi></mrow><annotation encoding=\"application/x-tex\">m_{e}^{(t+1)}=\\phi\\left(x_{v}^{(t)}, x_{u}^{(t)}, w_{e}^{(t)}\\right),(u, v, e) \\in \\mathcal{E}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.161392em;vertical-align:-0.11659199999999997em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"mord mathnormal\">Ï•</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08944em;\">E</span></span></span></span></span>.<br />\n ç‚¹ä¸Šè®¡ç®—: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>x</mi><mi>v</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi>Ïˆ</mi><mrow><mo fence=\"true\">(</mo><msubsup><mi>x</mi><mi>v</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo separator=\"true\">,</mo><mi>Ï</mi><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">{</mo><msubsup><mi>m</mi><mi>e</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>:</mo><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>e</mi><mo stretchy=\"false\">)</mo><mo>âˆˆ</mo><mi mathvariant=\"script\">E</mi><mo fence=\"true\">}</mo></mrow><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">x_{v}^{(t+1)}=\\psi\\left(x_{v}^{(t)}, \\rho\\left(\\left\\{m_{e}^{(t+1)}:(u, v, e) \\in \\mathcal{E}\\right\\}\\right)\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.161392em;vertical-align:-0.11659199999999997em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïˆ</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">Ï</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">{</span></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08944em;\">E</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">}</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></p>\n<h5 id=\"æ¶ˆæ¯å‡½æ•°phi\"><a class=\"anchor\" href=\"#æ¶ˆæ¯å‡½æ•°phi\">#</a> æ¶ˆæ¯å‡½æ•°<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ï•</mi></mrow><annotation encoding=\"application/x-tex\">\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Ï•</span></span></span></span></h5>\n<p>æˆ‘çš„ç†è§£å…¶å®è¿™ä¸ª<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>m</mi><mi>e</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mi>Ï•</mi><mrow><mo fence=\"true\">(</mo><msubsup><mi>x</mi><mi>v</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo separator=\"true\">,</mo><msubsup><mi>x</mi><mi>u</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo separator=\"true\">,</mo><msubsup><mi>w</mi><mi>e</mi><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>e</mi><mo stretchy=\"false\">)</mo><mo>âˆˆ</mo><mi mathvariant=\"script\">E</mi></mrow><annotation encoding=\"application/x-tex\">m_{e}^{(t+1)}=\\phi\\left(x_{v}^{(t)}, x_{u}^{(t)}, w_{e}^{(t)}\\right),(u, v, e) \\in \\mathcal{E}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.161392em;vertical-align:-0.11659199999999997em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"mord mathnormal\">Ï•</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.5834080000000004em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.11659199999999997em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08944em;\">E</span></span></span></span></span> è¯´ç™½äº†å°±æ˜¯åœ¨ä½¿ç”¨ä¸€ä¸ªèšåˆæ–¹å¼ï¼Œè¿™ä¸ªå°±æ˜¯è¾¹èšåˆï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯å‡½æ•°ï¼ŒåŒ…æ‹¬ addã€subã€mulã€divã€dot ç­‰ã€‚</p>\n<p>DGL çš„æ¶ˆæ¯å‡½æ•°å®šä¹‰<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ï•</mi></mrow><annotation encoding=\"application/x-tex\">\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Ï•</span></span></span></span>ï¼Œæ˜¯ dgl.function.u_add_v (' æº ',' ç›®æ ‡ ',' è¾¹ ')</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">message_func</span><span class=\"token punctuation\">(</span>edges<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'he'</span><span class=\"token punctuation\">:</span> edges<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">[</span><span class=\"token string\">'hu'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> edges<span class=\"token punctuation\">.</span>dst<span class=\"token punctuation\">[</span><span class=\"token string\">'hv'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h5 id=\"èšåˆå‡½æ•°rho\"><a class=\"anchor\" href=\"#èšåˆå‡½æ•°rho\">#</a> èšåˆå‡½æ•°<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ï</mi></mrow><annotation encoding=\"application/x-tex\">\\rho</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Ï</span></span></span></span></h5>\n<p>ç„¶åç‚¹ä¸Šçš„è®¡ç®—å°±æ˜¯èšåˆå‡½æ•°<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ï</mi></mrow><annotation encoding=\"application/x-tex\">\\rho</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Ï</span></span></span></span>ï¼Œæœ‰ sumã€maxã€min å’Œ meanã€‚</p>\n<p>DGL çš„èšåˆå®šä¹‰æ˜¯ dgl.function.sum ('mailbox', 'h')</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> dgl<span class=\"token punctuation\">.</span>function <span class=\"token keyword\">as</span> fn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>graph<span class=\"token punctuation\">.</span>apply_edges<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>u_add_v<span class=\"token punctuation\">(</span><span class=\"token string\">'el'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'er'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'e'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h5 id=\"æ›´æ–°å‡½æ•°psi\"><a class=\"anchor\" href=\"#æ›´æ–°å‡½æ•°psi\">#</a> æ›´æ–°å‡½æ•°<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ïˆ</mi></mrow><annotation encoding=\"application/x-tex\">\\psi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïˆ</span></span></span></span></h5>\n<p>æ›´æ–°å‡½æ•°æ˜¯ä¸€ä¸ªå¯é€‰æ‹©çš„å‡½æ•°ã€‚</p>\n<h5 id=\"æ¶ˆæ¯ä¼ é€’å‡½æ•°\"><a class=\"anchor\" href=\"#æ¶ˆæ¯ä¼ é€’å‡½æ•°\">#</a> æ¶ˆæ¯ä¼ é€’å‡½æ•°</h5>\n<p><code>update_all</code>  æ˜¯ dgl å®šä¹‰çš„ apiï¼Œç”¨æ³•ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">updata_all_example</span><span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\"># åœ¨ graph.ndata ['ft'] ä¸­å­˜å‚¨ç»“æœ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    graph<span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>u_mul_e<span class=\"token punctuation\">(</span><span class=\"token string\">'ft'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                     fn<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ft'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\"># åœ¨ update_all å¤–è°ƒç”¨æ›´æ–°å‡½æ•°</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    final_ft <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'ft'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">return</span> final_ft</pre></td></tr></table></figure><h3 id=\"ç¼–å†™æ¶ˆæ¯ä¼ é€’ä»£ç \"><a class=\"anchor\" href=\"#ç¼–å†™æ¶ˆæ¯ä¼ é€’ä»£ç \">#</a> ç¼–å†™æ¶ˆæ¯ä¼ é€’ä»£ç </h3>\n<p>å¯¹äºä¸€äº›æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¿å­˜è¾¹ä¸Šçš„ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ <code>apply_edges</code>  çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> torch</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> nn</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>linear <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Parameter<span class=\"token punctuation\">(</span>torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>size<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>node_feat_dim <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> out_dim<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">concat_message_function</span><span class=\"token punctuation\">(</span>edges<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'cat_feat'</span><span class=\"token punctuation\">:</span> torch<span class=\"token punctuation\">.</span>cat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>edges<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'feat'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> edges<span class=\"token punctuation\">.</span>dst<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'feat'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>g<span class=\"token punctuation\">.</span>apply_edges<span class=\"token punctuation\">(</span>concat_message_function<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>g<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'out'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'cat_feat'</span><span class=\"token punctuation\">]</span> @ linear</pre></td></tr></table></figure><p>é€šè¿‡ä¸€ä¸ª linear çº¿æ€§å±‚ï¼Œå®ç°ä¸€ä¸ªç®€å•çš„é™ç»´ã€‚å»ºè®®æ˜¯ä¸è¦ä¿ç•™ concat çš„ featï¼Œåˆ†å¼€æ¥è®¡ç®—ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> dgl<span class=\"token punctuation\">.</span>function <span class=\"token keyword\">as</span> fn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>linear_src <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Parameter<span class=\"token punctuation\">(</span>torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>size<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>node_feat_dim<span class=\"token punctuation\">,</span> out_dim<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>linear_dst <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Parameter<span class=\"token punctuation\">(</span>torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>size<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>node_feat_dim<span class=\"token punctuation\">,</span> out_dim<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>out_src <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'feat'</span><span class=\"token punctuation\">]</span> @ linear_src</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>out_dst <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>ndata<span class=\"token punctuation\">[</span><span class=\"token string\">'feat'</span><span class=\"token punctuation\">]</span> @ linear_dst</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>g<span class=\"token punctuation\">.</span>srcdata<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">'out_src'</span><span class=\"token punctuation\">:</span> out_src<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>g<span class=\"token punctuation\">.</span>dstdata<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">'out_dst'</span><span class=\"token punctuation\">:</span> out_dst<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>g<span class=\"token punctuation\">.</span>apply_edges<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>u_add_v<span class=\"token punctuation\">(</span><span class=\"token string\">'out_src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'out_dst'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'out'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"å›¾ä¸Šçš„ä¸€éƒ¨åˆ†è¿›è¡Œæ¶ˆæ¯\"><a class=\"anchor\" href=\"#å›¾ä¸Šçš„ä¸€éƒ¨åˆ†è¿›è¡Œæ¶ˆæ¯\">#</a> å›¾ä¸Šçš„ä¸€éƒ¨åˆ†è¿›è¡Œæ¶ˆæ¯</h3>\n<p>ç”¨èŠ‚ç‚¹ç¼–å·åˆ›å»ºä¸€ä¸ªå­å›¾ï¼Œç„¶ååœ¨å­å›¾ä¸Šè°ƒç”¨ update_all () æ–¹æ³•</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nid <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sg <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>subgraph<span class=\"token punctuation\">(</span>nid<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sg<span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span>message_func<span class=\"token punctuation\">,</span> reduce_func<span class=\"token punctuation\">,</span> apply_node_func<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"æ¶ˆæ¯ä¼ é€’ä¸­ä½¿ç”¨è¾¹çš„æƒé‡\"><a class=\"anchor\" href=\"#æ¶ˆæ¯ä¼ é€’ä¸­ä½¿ç”¨è¾¹çš„æƒé‡\">#</a> æ¶ˆæ¯ä¼ é€’ä¸­ä½¿ç”¨è¾¹çš„æƒé‡</h3>\n<p>GATï¼ˆå›¾æ³¨æ„åŠ›ç½‘ç»œï¼‰å’Œ GCN çš„å˜ç§éœ€è¦ä½¿ç”¨è¾¹çš„æƒé‡ã€‚GAT å¥½ç†è§£ï¼Œå°±æ˜¯éœ€è¦ attention æ¥èšåˆã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> dgl<span class=\"token punctuation\">.</span>function <span class=\"token keyword\">as</span> fn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å‡å®š eweight æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º (E, *) çš„å¼ é‡ï¼ŒE æ˜¯è¾¹çš„æ•°é‡ã€‚</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>graph<span class=\"token punctuation\">.</span>edata<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> eweight</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>graph<span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>u_mul_e<span class=\"token punctuation\">(</span><span class=\"token string\">'ft'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                 fn<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ft'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>u_mul_e</code> : u æ˜¯èŠ‚ç‚¹ã€e æ˜¯è¾¹ï¼Œäºæ˜¯å¯¹åº”çš„æ„æ€å°±æ˜¯èŠ‚ç‚¹  <code>ft</code>  çš„ ndata ä¹˜ä¸Š  <code>edata</code>  è¿™ä¸ª api çš„å‘½åæ€è·¯å€¼å¾—å­¦ä¹ ã€‚</p>\n<h3 id=\"åœ¨å¼‚æ„å›¾ä¸Šè¿›è¡Œæ¶ˆæ¯ä¼ é€’\"><a class=\"anchor\" href=\"#åœ¨å¼‚æ„å›¾ä¸Šè¿›è¡Œæ¶ˆæ¯ä¼ é€’\">#</a> åœ¨å¼‚æ„å›¾ä¸Šè¿›è¡Œæ¶ˆæ¯ä¼ é€’</h3>\n<p>å¼‚æ„å›¾çš„æ¶ˆæ¯ä¼ é€’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>\n<ol>\n<li>å¯¹æ¯ä¸ªå…³ç³»è®¡ç®—å’Œèšåˆæ¶ˆæ¯</li>\n<li>å¯¹æ¯ä¸ªèŠ‚ç‚¹èšåˆæ¥è‡ªä¸åŒå…³ç³»çš„æ¶ˆæ¯</li>\n</ol>\n<p>å¼‚æ„å›¾çš„ä¿¡æ¯ä¼ é€’ api æ˜¯  <code>multi_update_all</code> ï¼Œç¤ºä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> dgl<span class=\"token punctuation\">.</span>function <span class=\"token keyword\">as</span> fn</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">for</span> c_etype <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">.</span>canonical_etypes<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    srctype<span class=\"token punctuation\">,</span> etype<span class=\"token punctuation\">,</span> dsttype <span class=\"token operator\">=</span> c_etype</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    Wh <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>weight<span class=\"token punctuation\">[</span>etype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>feat_dict<span class=\"token punctuation\">[</span>srctype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\"># æŠŠå®ƒå­˜åœ¨å›¾ä¸­ç”¨æ¥åšæ¶ˆæ¯ä¼ é€’</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    G<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">[</span>srctype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'Wh_%s'</span> <span class=\"token operator\">%</span> etype<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Wh</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\"># æŒ‡å®šæ¯ä¸ªå…³ç³»çš„æ¶ˆæ¯ä¼ é€’å‡½æ•°ï¼š(message_func, reduce_func).</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\"># æ³¨æ„ç»“æœä¿å­˜åœ¨åŒä¸€ä¸ªç›®æ ‡ç‰¹å¾ â€œhâ€ï¼Œè¯´æ˜èšåˆæ˜¯é€ç±»è¿›è¡Œçš„ã€‚</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    funcs<span class=\"token punctuation\">[</span>etype<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>copy_u<span class=\"token punctuation\">(</span><span class=\"token string\">'Wh_%s'</span> <span class=\"token operator\">%</span> etype<span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'h'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># å°†æ¯ä¸ªç±»å‹æ¶ˆæ¯èšåˆçš„ç»“æœç›¸åŠ ã€‚</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>G<span class=\"token punctuation\">.</span>multi_update_all<span class=\"token punctuation\">(</span>funcs<span class=\"token punctuation\">,</span> <span class=\"token string\">'sum'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># è¿”å›æ›´æ–°è¿‡çš„èŠ‚ç‚¹ç‰¹å¾å­—å…¸</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>ntype <span class=\"token punctuation\">:</span> G<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">[</span>ntype<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> ntype <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">.</span>ntypes<span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "AI",
                "GNN",
                "DGL"
            ]
        }
    ]
}