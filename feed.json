{
    "version": "https://jsonfeed.org/version/1",
    "title": "Life",
    "subtitle": null,
    "icon": "https://songlinlife.github.io/images/favicon.ico",
    "description": "Life is not about lifestyle, it means Lithium and Ferrum.",
    "home_page_url": "https://songlinlife.github.io",
    "items": [
        {
            "id": "https://songlinlife.github.io/2021/1/",
            "url": "https://songlinlife.github.io/2021/1/",
            "title": "1",
            "date_published": "2021-12-04T13:05:48.000Z",
            "content_html": "",
            "tags": []
        },
        {
            "id": "https://songlinlife.github.io/2021/d/",
            "url": "https://songlinlife.github.io/2021/d/",
            "title": "d",
            "date_published": "2021-12-04T13:05:07.000Z",
            "content_html": "",
            "tags": []
        },
        {
            "id": "https://songlinlife.github.io/2021/Hexo-Shoka%E4%B8%BB%E9%A2%98-git%E6%89%98%E7%AE%A1%EF%BC%8C%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96ing/",
            "url": "https://songlinlife.github.io/2021/Hexo-Shoka%E4%B8%BB%E9%A2%98-git%E6%89%98%E7%AE%A1%EF%BC%8C%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96ing/",
            "title": "Hexo+Shoka主题+git托管，持续优化ing",
            "date_published": "2021-12-04T12:42:47.000Z",
            "content_html": "<p>设置分类</p>\n<p>在设置 config 时，有两个 <code>config.json</code> ，一个是 hexo 自带的，另一个则是配置主题 shoka 的。</p>\n",
            "tags": [
                "hexo",
                "typora",
                "github",
                "shoka"
            ]
        },
        {
            "id": "https://songlinlife.github.io/2021/test/",
            "url": "https://songlinlife.github.io/2021/test/",
            "title": "test",
            "date_published": "2021-12-04T12:42:28.000Z",
            "content_html": "",
            "tags": []
        },
        {
            "id": "https://songlinlife.github.io/2021/Hexo-Shoka%E4%B8%BB%E9%A2%98-git%E6%89%98%E7%AE%A1%EF%BC%8C%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96%E4%B8%AD/",
            "url": "https://songlinlife.github.io/2021/Hexo-Shoka%E4%B8%BB%E9%A2%98-git%E6%89%98%E7%AE%A1%EF%BC%8C%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96%E4%B8%AD/",
            "title": "Hexo+Shoka主题+git托管，持续优化中...",
            "date_published": "2021-12-04T12:41:23.000Z",
            "content_html": "",
            "tags": []
        },
        {
            "id": "https://songlinlife.github.io/2021/Linux%E5%BC%80%E5%90%AF%E4%BB%A3%E7%90%86/",
            "url": "https://songlinlife.github.io/2021/Linux%E5%BC%80%E5%90%AF%E4%BB%A3%E7%90%86/",
            "title": "linux 开启代理",
            "date_published": "2021-12-04T07:53:41.000Z",
            "content_html": "<h1 id=\"linux开启代理\"><a class=\"anchor\" href=\"#linux开启代理\">#</a> Linux 开启代理</h1>\n<p>今天折腾了几个小时终于把 linux 上的代理给搞好的了，真的无语啊。。。</p>\n<h3 id=\"下载v2ray\"><a class=\"anchor\" href=\"#下载v2ray\">#</a> 下载 v2ray</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3YyZmx5L3YycmF5LWNvcmUvcmVsZWFzZXMvZG93bmxvYWQvdjQuNDMuMC92MnJheS1saW51eC02NC56aXA=\">v2ray 下载地址</span></p>\n<h3 id=\"v2ray配置\"><a class=\"anchor\" href=\"#v2ray配置\">#</a> v2ray 配置</h3>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211201134402956.png\" alt=\"image-20211201134402956\" /></p>\n<p>主要是对 config.json 进行配置</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">\"inbounds\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token property\">\"port\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1080</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token property\">\"protocol\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"socks\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token property\">\"sniffing\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token property\">\"destOverride\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tls\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token property\">\"settings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token property\">\"auth\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"noauth\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token property\">\"outbounds\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token property\">\"protocol\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"vmess\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token property\">\"settings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token property\">\"vnext\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token property\">\"address\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"服务器IP\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token property\">\"port\"</span><span class=\"token operator\">:</span> 端口<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token property\">\"users\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>              <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UUID\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                <span class=\"token property\">\"alterId\"</span><span class=\"token operator\">:</span> alterID</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token property\">\"streamSettings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token property\">\"network\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tcp\"</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>这玩意有点搞啊，Json 文件不能有注释，之前因为写了注释所以服务启动不起来。</p>\n<p>这里我用的是香港 A IEPL &lt; 广州移动节点，希望它能坚挺点，不至于很快挂掉。哪天有空写一个定时命令，定时更新节点。</p>\n<h4 id=\"添加服务\"><a class=\"anchor\" href=\"#添加服务\">#</a> 添加服务</h4>\n<p><code>vim /usr/lib/systemd/system/v2ray.service</code></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>Unit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Description<span class=\"token operator\">=</span>V2Ray Service</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Documentation<span class=\"token operator\">=</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>v2fly<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>After<span class=\"token operator\">=</span>network<span class=\"token punctuation\">.</span>target nss<span class=\"token operator\">-</span>lookup<span class=\"token punctuation\">.</span>target</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>Service<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ExecStart<span class=\"token operator\">=</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>wu<span class=\"token operator\">/</span>v2ray<span class=\"token operator\">-</span>cli<span class=\"token operator\">/</span>v2ray <span class=\"token operator\">-</span>config <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>wu<span class=\"token operator\">/</span>v2ray<span class=\"token operator\">-</span>cli<span class=\"token operator\">/</span>config<span class=\"token punctuation\">.</span>json</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Restart<span class=\"token operator\">=</span>on<span class=\"token operator\">-</span>failure</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>RestartPreventExitStatus<span class=\"token operator\">=</span><span class=\"token number\">23</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">[</span>Install<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>WantedBy<span class=\"token operator\">=</span>multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target</pre></td></tr></table></figure><h3 id=\"启动服务\"><a class=\"anchor\" href=\"#启动服务\">#</a> 启动服务</h3>\n<pre><code>systemctl daemon-reload\nsystemctl start v2ray\n</code></pre>\n<h3 id=\"proxychains\"><a class=\"anchor\" href=\"#proxychains\">#</a> Proxychains</h3>\n<pre><code>[ProxyList]\n# add proxy here ...\n# meanwile\n# defaults set to &quot;tor&quot;\nsocks5 127.0.0.1 1080\n</code></pre>\n<p>这里设置我的端口为 1080 用 socks5 协议</p>\n<p><code>proxychains curl twitter.com -v</code></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211201140259549.png\" alt=\"image-20211201140259549\" /></p>\n<p>可以正常跑通</p>\n<h3 id=\"设置全局代理\"><a class=\"anchor\" href=\"#设置全局代理\">#</a> 设置全局代理</h3>\n<p><code>export all_proxy='socks://127.0.0.1'</code></p>\n<p><code>curl facebook.com -v</code></p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211201140533946.png\" alt=\"image-20211201140533946\" /></p>\n<p>现在可以直接用 curl 跑通。</p>\n<p>用 <code>unset all_proxy</code>  可以关闭全局代理</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211201140658853.png\" alt=\"image-20211201140658853\" /></p>\n<p>这里有个问题，wget 不会走 sock5 协议，这就导致 wget 全局下不能直接用：</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211201140937663.png\" alt=\"image-20211201140937663\" /></p>\n<p>但是可以用 proxychains 来强制执行。</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211201140955595.png\" alt=\"image-20211201140955595\" /></p>\n<h3 id=\"将开启代理配置成命令sh脚本\"><a class=\"anchor\" href=\"#将开启代理配置成命令sh脚本\">#</a> 将开启代理配置成命令（sh 脚本）</h3>\n<pre><code class=\"language-sh\">#!/bin/bash\nnohup /mnt/d/wsl/v2ray/v2ray -config /mnt/d/wsl/v2ray/config.json &gt;/dev/null 2&gt;&amp;1 &amp;           \n</code></pre>\n<p><code>&gt;/dev/null</code>  表示将标准输出扔到 null 里，</p>\n<p><code>2&gt;&amp;1</code>  表示将标准错误重定向为标准输出</p>\n<p><code>&amp;</code>  表示后台执行</p>\n<p>将这个命令命名为 <code>v2</code> ， 并移动到 <code>/usr/local/bin</code>  再加个权限 <code>chmod 777 v2</code></p>\n<p>Ok</p>\n<p>直接终端可用</p>\n<p><img data-src=\"https://image-2021-wu.oss-cn-beijing.aliyuncs.com/blogs/picturesimage-20211204160859836.png\" alt=\"image-20211204160859836\" /></p>\n<p>参考链接：</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly92MnJheXRlY2guY29tL2xpbnV4LWNtZC1zZXQtcHJveHkv\">Linux 终端设置代理</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9kYWU4N2U0ZDc2OTE=\">记录：Linux 下 V2Ray 原生客户端配置</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuanVuei5vcmcvcG9zdC92Ml9pbl9saW51eC8=\">Linux 下使用 v2ray</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jYjkwYTA0MDM4Mjk=\">将一个 shell 脚本文件注册为一个全局命令</span></p>\n",
            "tags": [
                "琐事",
                "v2ray",
                "代理",
                "kuharo"
            ]
        }
    ]
}